<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Zhenhua Wang">
        <link rel="canonical" href="http://larryim.cc/note/algorithmPrinceton/topic3/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Topic 3: Sort  - Zhenhua's Notes - Algorithm</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/docco.min.css">
        <link href="../../extra_css/custom.css" rel="stylesheet">
        <link href="../../extra_css/custom.js" rel="stylesheet">
        <link href="../../extra_css/friendly.css" rel="stylesheet">
        <link href="../../extra_css/theme.css" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/lunr-0.5.7.min.js" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/mustache.min.js" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/require.js" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/search.js" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/text.js" rel="stylesheet">
        <link href="../../extra_css/code-tab.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../..">Zhenhua's Notes - Algorithm</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../..">Home</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">AlgorithmPrinceton <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../">Contents</a>
</li>
                                    
<li >
    <a href="../topic1/">Topic 1: UnionFind </a>
</li>
                                    
<li >
    <a href="../topic2/">Topic 2: StackQueue</a>
</li>
                                    
<li class="active">
    <a href="./">Topic 3: Sort </a>
</li>
                                    
<li >
    <a href="../topic4/">Topic 4: PriorityQueues</a>
</li>
                                    
<li >
    <a href="../topic5/">Topic 5: Symbol Tables</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">AlgorithmStanford <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../algorithmStanford/">Contents</a>
</li>
                                    
<li >
    <a href="../../algorithmStanford/dynamicprogramming/">Topic: Dynammic Programming </a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">CS61B <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../cs61b/">Contents</a>
</li>
                                    
<li >
    <a href="../../cs61b/Lab1/">Lab1: javac, java, git</a>
</li>
                                    
<li >
    <a href="../../cs61b/Lab2/">Lab2: Unit Testing with JUnit and IntLists</a>
</li>
                                    
<li >
    <a href="../../cs61b/Lab3/">Lab3: Unit Testing with JUnit, Debugging</a>
</li>
                                </ul>
                            </li>
                            <li >
                                <a href="../../books/">Books</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../topic2/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../topic4/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#topic-3-sorting">Topic 3: Sorting</a></li>
        <li class="main "><a href="#selection-sort">Selection Sort</a></li>
            <li><a href="#analysis">Analysis</a></li>
        <li class="main "><a href="#insertion-sort">Insertion Sort</a></li>
            <li><a href="#analysis_1">Analysis</a></li>
        <li class="main "><a href="#shell-sort">Shell Sort</a></li>
        <li class="main "><a href="#shuffling">Shuffling</a></li>
            <li><a href="#shuffle-sort">Shuffle sort</a></li>
            <li><a href="#knuth-shuffle">Knuth shuffle</a></li>
        <li class="main "><a href="#quick-sort">Quick Sort</a></li>
            <li><a href="#partitioning">Partitioning</a></li>
            <li><a href="#analysis_2">Analysis</a></li>
        <li class="main "><a href="#merge-sort">Merge Sort</a></li>
            <li><a href="#java-implementation">Java Implementation</a></li>
        <li class="main "><a href="#java-system-sorts">Java System Sorts</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h3 id="topic-3-sorting"><strong>Topic 3: Sorting</strong><a class="headerlink" href="#topic-3-sorting" title="Permanent link">&para;</a></h3>
<h3 id="selection-sort">Selection Sort<a class="headerlink" href="#selection-sort" title="Permanent link">&para;</a></h3>
<ul>
<li>In iteration <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span>, find index <span><span class="MathJax_Preview">min</span><script type="math/tex">min</script></span> of smallest remaining entry. </li>
<li>Swap <span><span class="MathJax_Preview">a[i]</span><script type="math/tex">a[i]</script></span> and <span><span class="MathJax_Preview">a[min]</span><script type="math/tex">a[min]</script></span>.</li>
</ul>
<p>Animation:</p>
<p><img alt="" src="https://assets.toptal.io/assets/front/static/public/blocks/sorting_algorithms/animations/20/random-initial-order/selection-sort_c041bf.gif" /></p>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Selection</span> <span class=o>{</span>
    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>sort</span><span class=o>(</span><span class=n>Comparable</span><span class=o>[]</span> <span class=n>a</span><span class=o>)</span> <span class=o>{</span>
        <span class=kt>int</span> <span class=n>N</span> <span class=o>=</span> <span class=n>a</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>N</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
            <span class=kt>int</span> <span class=n>min</span> <span class=o>=</span> <span class=n>i</span><span class=o>;</span>

            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=o>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>N</span><span class=o>;</span> <span class=n>j</span><span class=o>++)</span>
                <span class=k>if</span> <span class=o>(</span><span class=n>less</span><span class=o>(</span><span class=n>a</span><span class=o>[</span><span class=n>j</span><span class=o>],</span> <span class=n>a</span><span class=o>[</span><span class=n>min</span><span class=o>]))</span> <span class=n>min</span> <span class=o>=</span> <span class=n>j</span><span class=o>;</span>
            <span class=n>exch</span><span class=o>(</span><span class=n>a</span><span class=o>,</span> <span class=n>i</span><span class=o>,</span> <span class=n>min</span><span class=o>);</span>
        <span class=o>}</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre></div></p>
<h4 id="analysis">Analysis<a class="headerlink" href="#analysis" title="Permanent link">&para;</a></h4>
<p>Selection sort uses <span><span class="MathJax_Preview">(N-1)+(N-2)+...+1\sim N^2/2</span><script type="math/tex">(N-1)+(N-2)+...+1\sim N^2/2</script></span> compares and <span><span class="MathJax_Preview">N</span><script type="math/tex">N</script></span> exchanges.</p>
<h3 id="insertion-sort">Insertion Sort<a class="headerlink" href="#insertion-sort" title="Permanent link">&para;</a></h3>
<p>Animation:</p>
<p><img alt="" src="https://assets.toptal.io/assets/front/static/public/blocks/sorting_algorithms/animations/20/random-initial-order/insertion-sort_e8e408.gif" /></p>
<ul>
<li>In iteration <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span>, swap <span><span class="MathJax_Preview">a[i]</span><script type="math/tex">a[i]</script></span> with each larger entry to its left.</li>
</ul>
<p>Invariants.</p>
<ul>
<li>↑ scans from left to right.</li>
<li>Entries to the left of ↑ (including ↑) are in ascending order.</li>
<li>Entries to the right of ↑ have not yet been seen.</li>
</ul>
<p><img alt="" src="../figures/InsertionSortScan.png" /></p>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Insertion</span> <span class=o>{</span>
    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>sort</span><span class=o>(</span><span class=n>Comparable</span><span class=o>[]</span> <span class=n>a</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>a</span><span class=o>.</span><span class=na>length</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
            <span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>i</span><span class=o>;</span>
            <span class=k>while</span> <span class=o>(</span><span class=n>j</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>less</span><span class=o>(</span><span class=n>a</span><span class=o>[</span><span class=n>j</span><span class=o>],</span> <span class=n>a</span><span class=o>[</span><span class=n>j</span><span class=o>-</span><span class=mi>1</span><span class=o>]))</span> <span class=o>{</span>
                <span class=n>exch</span><span class=o>(</span><span class=n>a</span><span class=o>,</span> <span class=n>j</span><span class=o>,</span> <span class=n>j</span> <span class=o>-</span><span class=mi>1</span><span class=o>);</span>
                <span class=n>j</span><span class=o>--;</span>
            <span class=o>}</span>
        <span class=o>}</span>
    <span class=o>}</span>

    <span class=nd>@SuppressWarnings</span><span class=o>(</span><span class=s>&quot;unchecked&quot;</span><span class=o>)</span>
    <span class=kd>private</span> <span class=kd>static</span> <span class=kt>boolean</span> <span class=nf>less</span><span class=o>(</span><span class=n>Comparable</span> <span class=n>a</span><span class=o>,</span> <span class=n>Comparable</span> <span class=n>b</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>return</span> <span class=n>a</span><span class=o>.</span><span class=na>compareTo</span><span class=o>(</span><span class=n>b</span><span class=o>)</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=kd>private</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>exch</span><span class=o>(</span><span class=n>Comparable</span><span class=o>[]</span> <span class=n>a</span><span class=o>,</span> <span class=kt>int</span> <span class=n>i</span><span class=o>,</span> <span class=kt>int</span> <span class=n>j</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>Comparable</span> <span class=n>temp</span> <span class=o>=</span> <span class=n>a</span><span class=o>[</span><span class=n>i</span><span class=o>];</span>
        <span class=n>a</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>=</span> <span class=n>a</span><span class=o>[</span><span class=n>j</span><span class=o>];</span>
        <span class=n>a</span><span class=o>[</span><span class=n>j</span><span class=o>]</span> <span class=o>=</span> <span class=n>temp</span><span class=o>;</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre></div></p>
<h4 id="analysis_1">Analysis<a class="headerlink" href="#analysis_1" title="Permanent link">&para;</a></h4>
<p>Insertion sort uses <span><span class="MathJax_Preview">\sim N^2/4</span><script type="math/tex">\sim N^2/4</script></span> compares and <span><span class="MathJax_Preview">\sim N^2/4</span><script type="math/tex">\sim N^2/4</script></span> exchanges to sort a randomly ordered array of length <span><span class="MathJax_Preview">N</span><script type="math/tex">N</script></span> with distinct keys, on the average. The worst case is <span><span class="MathJax_Preview">\sim N^2/2</span><script type="math/tex">\sim N^2/2</script></span> compares and <span><span class="MathJax_Preview">\sim N ^2/2</span><script type="math/tex">\sim N ^2/2</script></span> exchanges and the best case is <span><span class="MathJax_Preview">N-1</span><script type="math/tex">N-1</script></span> compares and 0 exchanges.</p>
<h3 id="shell-sort">Shell Sort<a class="headerlink" href="#shell-sort" title="Permanent link">&para;</a></h3>
<h3 id="shuffling">Shuffling<a class="headerlink" href="#shuffling" title="Permanent link">&para;</a></h3>
<p>Our goal is to rearrange array so that result is a <strong>uniformly random</strong> permutation.</p>
<h4 id="shuffle-sort">Shuffle sort<a class="headerlink" href="#shuffle-sort" title="Permanent link">&para;</a></h4>
<ul>
<li>Generate a random real number for each array entry.</li>
<li>Sort the array based on generated random numbers.</li>
</ul>
<p><img alt="ShuffleSort" src="../figures/ShuffleSort.png" /></p>
<h4 id="knuth-shuffle">Knuth shuffle<a class="headerlink" href="#knuth-shuffle" title="Permanent link">&para;</a></h4>
<ul>
<li>In iteration <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span>, pick integer <span><span class="MathJax_Preview">r</span><script type="math/tex">r</script></span> between 0 and <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> uniformly at random. </li>
<li>Swap <span><span class="MathJax_Preview">a[i]</span><script type="math/tex">a[i]</script></span> and <span><span class="MathJax_Preview">a[r]</span><script type="math/tex">a[r]</script></span>.</li>
</ul>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>class</span> <span class=nc>KnuthShuffle</span> <span class=o>{</span>
    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>shuffle</span><span class=o>(</span><span class=n>Object</span><span class=o>[]</span> <span class=n>a</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>Random</span> <span class=n>random</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Random</span><span class=o>();</span>
        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>a</span><span class=o>.</span><span class=na>length</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
            <span class=c1>//In iteration i, pick integer r between 0 and i uniformly at random.</span>
            <span class=kt>int</span> <span class=n>r</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=na>nextInt</span><span class=o>(</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=o>);</span>
            <span class=c1>// Swap a[i] and a[r].</span>
            <span class=n>exch</span><span class=o>(</span><span class=n>a</span><span class=o>,</span> <span class=n>i</span><span class=o>,</span> <span class=n>r</span><span class=o>);</span>
        <span class=o>}</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre></div></p>
<p>Knuth shuffling algorithm produces a uniformly random permutation of the input array in <strong>linear</strong> time.</p>
<h3 id="quick-sort">Quick Sort<a class="headerlink" href="#quick-sort" title="Permanent link">&para;</a></h3>
<p>Quicksort honored as one of top 10 algorithms of 20th century in science and engineering. Quicksort is the default Java sort for primitive types.</p>
<p>Basic plan.</p>
<ul>
<li><font color="red">Shuffle</font> the array.</li>
<li><font color="red">Partition</font> so that, for some <span><span class="MathJax_Preview">j</span><script type="math/tex">j</script></span><ul>
<li>entry <span><span class="MathJax_Preview">a[j]</span><script type="math/tex">a[j]</script></span> is in place</li>
<li>no larger entry to the left of <span><span class="MathJax_Preview">j</span><script type="math/tex">j</script></span></li>
<li>no smaller entry to the right of <span><span class="MathJax_Preview">j</span><script type="math/tex">j</script></span> </li>
</ul>
</li>
<li><font color="red">Sort</font> each piece recursively.</li>
</ul>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Quick</span> <span class=o>{</span>
    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>sort</span><span class=o>(</span><span class=n>Comparable</span><span class=o>[]</span> <span class=n>a</span><span class=o>)</span> <span class=o>{</span>
        <span class=c1>// shuffle needed for performance guarantee</span>
        <span class=n>StdRandom</span><span class=o>.</span><span class=na>shuffle</span><span class=o>(</span><span class=n>a</span><span class=o>);</span>
        <span class=n>sort</span><span class=o>(</span><span class=n>a</span><span class=o>,</span> <span class=mi>0</span><span class=o>,</span> <span class=n>a</span><span class=o>.</span><span class=na>length</span> <span class=o>-</span> <span class=mi>1</span><span class=o>);</span>
    <span class=o>}</span>

    <span class=kd>private</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>sort</span><span class=o>(</span><span class=n>Comparable</span><span class=o>[]</span> <span class=n>a</span><span class=o>,</span> <span class=kt>int</span> <span class=n>lo</span><span class=o>,</span> <span class=kt>int</span> <span class=n>hi</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>if</span> <span class=o>(</span><span class=n>hi</span> <span class=o>&lt;=</span> <span class=n>lo</span><span class=o>)</span> <span class=k>return</span><span class=o>;</span>
        <span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>partition</span><span class=o>(</span><span class=n>a</span><span class=o>,</span> <span class=n>lo</span><span class=o>,</span> <span class=n>hi</span><span class=o>);</span>
        <span class=n>sort</span><span class=o>(</span><span class=n>a</span><span class=o>,</span> <span class=n>lo</span><span class=o>,</span> <span class=n>j</span><span class=o>-</span><span class=mi>1</span><span class=o>);</span>
        <span class=n>sort</span><span class=o>(</span><span class=n>a</span><span class=o>,</span> <span class=n>j</span><span class=o>+</span><span class=mi>1</span><span class=o>,</span> <span class=n>hi</span><span class=o>);</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre></div></p>
<p>ANIMATION:</p>
<p><img alt="" src="https://upload.wikimedia.org/wikipedia/commons/9/9c/Quicksort-example.gif" /></p>
<h4 id="partitioning">Partitioning<a class="headerlink" href="#partitioning" title="Permanent link">&para;</a></h4>
<p>The crux of the quick sort is the partitioning process, which rearranges the array to make the following three conditions hold:</p>
<ul>
<li>The entry <span><span class="MathJax_Preview">a[j]</span><script type="math/tex">a[j]</script></span> is in its final place in the array, for some <span><span class="MathJax_Preview">j</span><script type="math/tex">j</script></span>.</li>
<li>No entry in <span><span class="MathJax_Preview">a[lo]</span><script type="math/tex">a[lo]</script></span> through <span><span class="MathJax_Preview">a[j-1]</span><script type="math/tex">a[j-1]</script></span> is greater than <span><span class="MathJax_Preview">a[j]</span><script type="math/tex">a[j]</script></span>. </li>
<li>No entry in <span><span class="MathJax_Preview">a[j+1]</span><script type="math/tex">a[j+1]</script></span> through <span><span class="MathJax_Preview">a[hi]</span><script type="math/tex">a[hi]</script></span> is less than <span><span class="MathJax_Preview">a[j]</span><script type="math/tex">a[j]</script></span>.</li>
</ul>
<p><img alt="QuickSortPartition" src="../figures/QuickSortPartition.png" /></p>
<p>First, we arbitrarily choose <span><span class="MathJax_Preview">a[lo]</span><script type="math/tex">a[lo]</script></span> to be the partitioning item—the one that will go into its final position. Next, we scan from the left end of the array until we find an entry greater than (or equal to) the partitioning item, and we scan from the right end of the array until we find an entry less than (or equal to) the partitioning item. The two items that stopped the scans are out of place in the final partitioned array, so we exchange them.</p>
<p>Continuing in this way, when the scan indices cross, all that we need to do is to exchange the partitioning item <span><span class="MathJax_Preview">a[lo]</span><script type="math/tex">a[lo]</script></span> with the rightmost entry of the left subarray (<span><span class="MathJax_Preview">a[j]</span><script type="math/tex">a[j]</script></span>) and return its index <span><span class="MathJax_Preview">j</span><script type="math/tex">j</script></span>.</p>
<p> <div class=codehilite><pre><span class=kd>private</span> <span class=kd>static</span> <span class=kt>int</span> <span class=nf>partition</span><span class=o>(</span><span class=n>Comparable</span> <span class=n>a</span><span class=o>[],</span> <span class=kt>int</span> <span class=n>lo</span><span class=o>,</span> <span class=kt>int</span> <span class=n>hi</span><span class=o>)</span> <span class=o>{</span>
    <span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>lo</span><span class=o>,</span> <span class=n>j</span> <span class=o>=</span> <span class=n>hi</span> <span class=o>+</span> <span class=mi>1</span><span class=o>;</span>
    <span class=k>while</span> <span class=o>(</span><span class=kc>true</span><span class=o>)</span> <span class=o>{</span>
        <span class=c1>// find item on left to swap</span>
        <span class=k>while</span> <span class=o>(</span><span class=n>less</span><span class=o>(</span><span class=n>a</span><span class=o>[++</span><span class=n>i</span><span class=o>],</span> <span class=n>a</span><span class=o>[</span><span class=n>lo</span><span class=o>]))</span>
            <span class=k>if</span> <span class=o>(</span><span class=n>i</span> <span class=o>==</span> <span class=n>hi</span><span class=o>)</span> <span class=k>break</span><span class=o>;</span>
        <span class=c1>// find item on right to swap</span>
        <span class=k>while</span> <span class=o>(</span><span class=n>less</span><span class=o>(</span><span class=n>a</span><span class=o>[</span><span class=n>lo</span><span class=o>],</span> <span class=n>a</span><span class=o>[--</span><span class=n>j</span><span class=o>]))</span>
            <span class=k>if</span> <span class=o>(</span><span class=n>j</span> <span class=o>==</span> <span class=n>lo</span><span class=o>)</span> <span class=k>break</span><span class=o>;</span>

        <span class=c1>// check if pointers cross</span>
        <span class=k>if</span> <span class=o>(</span><span class=n>i</span> <span class=o>&gt;=</span> <span class=n>j</span><span class=o>)</span> <span class=k>break</span><span class=o>;</span>

        <span class=c1>// swap</span>
        <span class=n>exch</span><span class=o>(</span><span class=n>a</span><span class=o>,</span> <span class=n>i</span><span class=o>,</span> <span class=n>j</span><span class=o>);</span>
    <span class=o>}</span>

    <span class=c1>// swap with partitioning item</span>
    <span class=n>exch</span><span class=o>(</span><span class=n>a</span><span class=o>,</span> <span class=n>lo</span><span class=o>,</span> <span class=n>j</span><span class=o>);</span>
    <span class=c1>// return index of item now known to be in place.</span>
    <span class=k>return</span> <span class=n>j</span><span class=o>;</span>
<span class=o>}</span>
</pre></div></p>
<h4 id="analysis_2">Analysis<a class="headerlink" href="#analysis_2" title="Permanent link">&para;</a></h4>
<ul>
<li>Best case. Number of compares is <span><span class="MathJax_Preview">\sim N \lg N</span><script type="math/tex">\sim N \lg N</script></span>.</li>
<li>Worst case. Number of compares is <span><span class="MathJax_Preview">\sim \frac{1}{2} N^2</span><script type="math/tex">\sim \frac{1}{2} N^2</script></span>.</li>
<li>The average number of compares <span><span class="MathJax_Preview">C_N</span><script type="math/tex">C_N</script></span> to quicksort an array of <span><span class="MathJax_Preview">N</span><script type="math/tex">N</script></span> distinct keys is ~ <span><span class="MathJax_Preview">2N\ln N</span><script type="math/tex">2N\ln N</script></span> (and the number of exchanges is <span><span class="MathJax_Preview">\sim\frac{1}{3}N \ln N</span><script type="math/tex">\sim\frac{1}{3}N \ln N</script></span>).</li>
</ul>
<p>Quicksort is an <strong>in-place</strong> sorting algorithm, but is <strong>not stable</strong>.</p>
<h3 id="merge-sort">Merge Sort<a class="headerlink" href="#merge-sort" title="Permanent link">&para;</a></h3>
<p>Basic plan:</p>
<ul>
<li>Divide array into two halves</li>
<li>Recursively sort each half</li>
<li>Merge two halves</li>
</ul>
<p>Goal. Given two sorted subarrays a[lo] to a[mid] and a[mid+1] to a[hi], replace with sorted subarray a[lo] to a[hi]</p>
<p><img alt="mergeDemo" src="../figures/mergeDemo.png" /></p>
<h4 id="java-implementation">Java Implementation<a class="headerlink" href="#java-implementation" title="Permanent link">&para;</a></h4>
<h3 id="java-system-sorts">Java System Sorts<a class="headerlink" href="#java-system-sorts" title="Permanent link">&para;</a></h3>
<p><C>Arrays.sort()</C></p>
<ul>
<li>Has different method for each primitive type.</li>
<li>Has a method for data types that implement <C>Comparable</C>.</li>
<li>Has a method that uses a <C>Comparator</C>.</li>
<li>Uses tuned quicksort for primitive types; tuned mergesort for objects.</li>
</ul></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
        <script src="../../extra_javascript/tabhack.js" defer></script>
        <script src="../../extra_javascript/baidu.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
