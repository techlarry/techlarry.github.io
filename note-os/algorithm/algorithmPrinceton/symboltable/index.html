<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Zhenhua Wang">
        <link rel="canonical" href="http://larryim.cc/note/algorithm/algorithmPrinceton/symboltable/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Topic 5: Symbol Tables - Zhenhua's Notes</title>
        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/docco.min.css">
        <link href="../../../extra_css/custom.css" rel="stylesheet">
        <link href="../../../extra_css/custom.js" rel="stylesheet">
        <link href="../../../extra_css/friendly.css" rel="stylesheet">
        <link href="../../../extra_css/theme.css" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/lunr-0.5.7.min.js" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/mustache.min.js" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/require.js" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/search.js" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/text.js" rel="stylesheet">
        <link href="../../../extra_css/code-tab.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../../..">Zhenhua's Notes</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../../..">Home</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Algorithm <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">AlgorithmPrinceton</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../">Contents</a>
</li>
            
<li >
    <a href="../unionfind/">Topic 1: UnionFind</a>
</li>
            
<li >
    <a href="../stackqueue/">Topic 2: StackQueue</a>
</li>
            
<li >
    <a href="../sort/">Topic 3: Sort</a>
</li>
            
<li >
    <a href="../priorityqueue/">Topic 4: PriorityQueues</a>
</li>
            
<li class="active">
    <a href="./">Topic 5: Symbol Tables</a>
</li>
            
<li >
    <a href="../bst/">Topic 6: Balanced Search Trees</a>
</li>
            
<li >
    <a href="../hashtable/">Topic 7: Hash Table</a>
</li>
            
<li >
    <a href="../graph/">Topic 8: Graph</a>
</li>
            
<li >
    <a href="../mst_shortestpath/">Topic 9: Minimum Spanning Tree and Shortest Path</a>
</li>
            
<li >
    <a href="../stringsort/">Topic 11: String Sort</a>
</li>
            
<li >
    <a href="../tries/">Topic 12: Tries</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">AlgorithmStanford</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../algorithmStanford/">Contents</a>
</li>
            
<li >
    <a href="../../algorithmStanford/dynamicprogramming/">Topic: Dynammic Programming</a>
</li>
            
<li >
    <a href="../../algorithmStanford/heap/">Topic: Heap</a>
</li>
            
<li >
    <a href="../../algorithmStanford/graph/">Topic: Graph</a>
</li>
            
<li >
    <a href="../../algorithmStanford/greedy/">Topic: Greedy Algorithm</a>
</li>
            
<li >
    <a href="../../algorithmStanford/hashtable/">Topic: Hash Table</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">CS61B</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../calgorithm/s61b/index.md">Contents</a>
</li>
            
<li >
    <a href="../../cs61b/Lab1/">Lab1: javac, java, git</a>
</li>
            
<li >
    <a href="../../cs61b/Lab2/">Lab2: Unit Testing with JUnit and IntLists</a>
</li>
            
<li >
    <a href="../../cs61b/Lab3/">Lab3: Unit Testing with JUnit, Debugging</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">OS <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../os/">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">OSC</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../os/osc/">Contents</a>
</li>
            
<li >
    <a href="../../../os/osc/ch1/">Chapter 1: Introduction </a>
</li>
            
<li >
    <a href="../../../os/osc/ch2/">Chapter 2: Operating System structures</a>
</li>
            
<li >
    <a href="../../../os/osc/ch3/">Chapter 3: Processes</a>
</li>
            
<li >
    <a href="../../../os/osc/ch4/">Chapter 4: Threads and Concurrency</a>
</li>
            
<li >
    <a href="../../../os/osc/ch5/">Chapter 5: CPU Scheduling</a>
</li>
            
<li >
    <a href="../../../os/osc/ch6/">Chapter 6: Synchronization Tools</a>
</li>
            
<li >
    <a href="../../../os/osc/ch7/">Chapter 7: Synchronization Examples</a>
</li>
            
<li >
    <a href="../../../os/osc/ch8/">Chapter 8: Deadlocks</a>
</li>
            
<li >
    <a href="../../../os/osc/ch9/">Chapter 9: Main Memory</a>
</li>
            
<li >
    <a href="../../../os/osc/ch10/">Chapter 10: Virtual Memory</a>
</li>
            
<li >
    <a href="../../../os/osc/ch11/">Chapter 11: Mass-Storage Structure</a>
</li>
            
<li >
    <a href="../../../os/osc/ch13/">Chapter 13: File-System Interfaces</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">CSAPP</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../os/csapp/">Contents</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch1/">Chapter 1: 计算机系统漫游</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch2/">Chapter 2: 信息的表示和处理</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch3/">Chapter 3: 程序的机器级表示</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch4/">Chapter 4: 处理器体系结构</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch5/">Chapter 5: 优化程序性能</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch6/">Chapter 6: 存储器层次结构</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch7/">Chapter 7: 链接</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch8/">Chapter 8: 异常控制流</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch9/">Chapter 9: 虚拟内存</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch10/">Chapter 10: 系统级I/O</a>
</li>
            
<li >
    <a href="../../../csapp/ch11.md">Chapter 11: 网络编程</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">DataBase <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../database/">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">MySql</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../database/mysql/">Contents</a>
</li>
            
<li >
    <a href="../../../database/mysql/LearningMySQLandMariaDB/">Chapter Learning MySQL and MariaDB</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Java <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../java/">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">HFJ</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../java/hfj/">Contents</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch1/">Chapter 1: Dive in A Quick Dip</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch2/">Chapter 2: Classes and Objects</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch3/">Chapter 3: Primitives and References</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch4/">Chapter 4: Methods use Instance Variables</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch5/">Chapter 5: Writing a Program</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch6/">Chapter 6: Get to Know the Java API</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch7/">Chapter 7: Inheritance and Polymorphism</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch8/">Chapter 8: Interfaces and Abstract Classes</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch9/">Chapter 9: Constructors and Garbage Collection</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch10/">Chapter 10: Numbers and Statics</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch11/">Chapter 11: Exception Handling</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch12/">Chapter 12: Getting GUI</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch13/">Chapter 13: Using Swing</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch14/">Chapter 14: Serialization and File I/O</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch15/">Chapter 15: Networking and Threads</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch16/">Chapter 16: Collections and Generics</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch17/">Chapter 17: Packages, Jars and Deployment</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch18/">Chapter 18: Remote deploy with RMI</a>
</li>
            
<li >
    <a href="../../../java/hfj/Appendix/">Appendix: The Top Ten Topics</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">HFDP</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../java/hfdp/">Contents</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch1/">Chapter 1: Strategy Pattern </a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch2/">Chapter 2: Observer Pattern</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch3/">Chapter 3: Decorator Pattern </a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch4/">Chapter 4: Factory Pattern</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch5/">Chapter 5: Singleton Pattern</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch6/">Chapter 6: Command Pattern</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch7/">Chapter 7: Adapter and Facade Patterns</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch8/">Chapter 8: Template Method Pattern</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch9/">Chapter 9: Iterator and Composite Patterns</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">TIJ</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../java/tij/">Contents</a>
</li>
            
<li >
    <a href="../../../java/tij/ch1/">Chapter 1: Introduction</a>
</li>
            
<li >
    <a href="../../../java/tij/ch2/">Chapter 2: Introduction to Objects</a>
</li>
            
<li >
    <a href="../../../java/tij/ch3/">Chapter 3: Everything is an Object</a>
</li>
            
<li >
    <a href="../../../java/tij/ch4/">Chapter 4: Opertors</a>
</li>
            
<li >
    <a href="../../../java/tij/ch5/">Chapter 5: Controlling Execution</a>
</li>
            
<li >
    <a href="../../../java/tij/ch6/">Chapter 6: Initialization & Cleanup</a>
</li>
            
<li >
    <a href="../../../java/tij/ch7/">Chapter 7: Access Control</a>
</li>
            
<li >
    <a href="../../../java/tij/ch8/">Chapter 8: Reusing Clases</a>
</li>
            
<li >
    <a href="../../../java/tij/ch9/">Chapter 9: Polymorphism</a>
</li>
            
<li >
    <a href="../../../java/tij/ch10/">Chapter 10: Interfaces</a>
</li>
            
<li >
    <a href="../../../java/tij/ch11/">Chapter 11: Inner Classes</a>
</li>
            
<li >
    <a href="../../../java/tij/ch12/">Chapter 12: Holding Your Objects</a>
</li>
            
<li >
    <a href="../../../java/tij/ch13/">Chapter 13: Error Handling with Exceptions</a>
</li>
            
<li >
    <a href="../../../java/tij/ch14/">Chapter 14: Strings</a>
</li>
            
<li >
    <a href="../../../java/tij/ch15/">Chapter 15: Type Information</a>
</li>
            
<li >
    <a href="../../../java/tij/ch16/">Chapter 16: Generics</a>
</li>
            
<li >
    <a href="../../../java/tij/ch17/">Chapter 17: Arrays</a>
</li>
            
<li >
    <a href="../../../java/tij/ch18/">Chapter 18: Containers in Depth</a>
</li>
            
<li >
    <a href="../../../java/tij/ch19/">Chapter 19: I/O</a>
</li>
            
<li >
    <a href="../../../java/tij/ch20/">Chapter 20: Enumerated Types</a>
</li>
            
<li >
    <a href="../../../java/tij/ch21/">Chapter 21: Annotations</a>
</li>
            
<li >
    <a href="../../../java/tij/ch22/">Chapter 22: Concurrency</a>
</li>
            
<li >
    <a href="../../../java/tij/ch23/">Chapter 23: Graphical User Interfaces</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">UJVM</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../java/ujvm/">Contents</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch1/">Chapter 1 : 走进Java</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch2/">Chapter 2 : Java内存区域与内存溢出正常</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch3/">Chapter 3 : 垃圾收集器与内存分配策略</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch4/">Chapter 4 : 虚拟机性能监控与故障处理工具</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch5/">Chapter 5 : 调优案例分析与实战</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch6/">Chapter 6 : 类文件结构</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch7/">Chapter 7 : 虚拟机类加载机制</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch8/">Chapter 8 : 虚拟机字节码执行引擎</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch9/">Chapter 9 : 类加载及执行子系统的案例与实战</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch10/">Chapter 10 : 早期(编译期)优化</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch11/">Chapter 11 : 晚期(运行期)优化</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch12/">Chapter 12 : Java内存模型与线程</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch13/">Chapter 13 : 线程安全与锁优化</a>
</li>
            
<li >
    <a href="../../../java/ujvm/AppendixC/">Appendix HotSpot虚拟机主要参数列表</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">BigData <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../bigdata/">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">HADOOP</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/hadoop/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch1/">Chapter 1: Meet Hadoop</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch2/">Chapter 2: MapReduce</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch3/">Chapter 3: The Hadoop Distributed FileSystem</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch4/">Chapter 4: YARN</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch5/">Chapter 5: Hadoop I/O</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch6/">Chapter 6: Developing a MapReduce Application</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch7/">Chapter 7: How MapReduce Works</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch8/">Chapter 8: MapReduce Types and Formats</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch9/">Chapter 9: MapReduce Features</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch10/">Chapter 10: Setting Up a Hadoop Cluster</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch11/">Chapter 11: Adminstering Hadoop</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch12/">Chapter 12: Avro</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch13/">Chapter 13: Parquet</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch14/">Chapter 14: Flume</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch15/">Chapter 15: Sqoop</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch16/">Chapter 16: Pig</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch17/">Chapter 17: Hive</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch18/">Chapter 18: Crunch</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch19/">Chapter 19: Spark</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch20/">Chapter 20: HBase</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch21/">Chapter 21: ZooKeeper</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch22/">Chapter 22: Composable Data at Center</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch23/">Chapter 23: Biological Data Science: Saving Lives with Software</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch24/">Chapter 24: Cascading</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Spark</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/spark/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch1/">Chapter 1: Introduction to Data Analysis with Spark</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch2/">Chapter 2: Downloading Spark and Getting Started</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch3/">Chapter 3: Programming with RDDs</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch4/">Chapter 4: Working with Key/Value Pairs</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch5/">Chapter 5: Loading and Saving Your Data</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch6/">Chapter 6: Advanced Spark Programming</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch7/">Chapter 7: Running on a Cluster</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch8/">Chapter 8: Tuning and Debugging Spark</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch9/">Chapter 9: Spark SQL</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch10/">Chapter 10: Spark Streaming</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch11/">Chapter 11: Machine Learning with MLlib</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">GDM</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/gdm/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch1/">Chapter 1: 推荐系统入门</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch2/">Chapter 2: 隐式评价和基于物品的过滤算法</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch3/">Chapter 3: 分类</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch4/">Chapter 4: 进一步探索分类</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch5/">Chapter 5: 概率和朴素贝叶斯</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch6/">Chapter 6: 朴素贝叶斯和文本数据</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch7/">Chapter 7: 聚类</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">MLIA</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/mlia/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch1/">Chapter 1: 机器学习基础</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch2/">Chapter 2: k-近邻算法</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch3/">Chapter 3: 决策树</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch4/">Chapter 4: 基于概率论的分类方法：朴素贝叶斯</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch5/">Chapter 5: Logistic回归</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch6/">Chapter 6: 支持向量机</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch7/">Chapter 7: 利用AdaBoost元算法提高分类性能</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch8/">Chapter 8: 预测数值型数据：回归</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch9/">Chapter 9: 树回归</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch10/">Chapter 10: 利用Ｋ-均值聚类算法对未标注数据分组</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch11/">Chapter 11: 使用Apriori算法进行关联分析</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch11/">Chapter 12: 使用FP-growth算法来高效发现频繁项集</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch13/">Chapter 13: 利用PCA来简化数据</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Crawler</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/crawler/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch1/">Chapter 1: 开发环境配置</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch2/">Chapter 2: 爬虫基础</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch3/">Chapter 3: 基本库的使用</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch4/">Chapter 4: 解析库的使用</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch5/">Chapter 5: 数据存储</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch7/">Chapter 7: 动态渲染页面爬取</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch13/">Chapter 13: Scrapy框架的使用</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Projects</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/projects/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/projects/SparkStreaming实时流处理项目/">SparkStreaming实时流处理</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li >
                                <a href="../../../books/">Books</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>

                     <!--
                            <li >
                                <a rel="next" href="../priorityqueue/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../bst/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    -->
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#topic-5-symbol-tables">Topic 5: Symbol Tables</a></li>
        <li class="main "><a href="#symbol-tables">Symbol Tables</a></li>
            <li><a href="#basic-symbol-table-api">Basic Symbol Table API</a></li>
            <li><a href="#ordered-symbol-tables-api">Ordered symbol tables API</a></li>
            <li><a href="#preview">Preview</a></li>
        <li class="main "><a href="#elementary-implementations">Elementary Implementations</a></li>
            <li><a href="#sequential-search-unordered-list">Sequential Search (unordered list)</a></li>
            <li><a href="#binary-search-ordered-array">Binary Search (ordered array)</a></li>
            <li><a href="#analysis">Analysis</a></li>
        <li class="main "><a href="#binary-search-trees">Binary Search Trees</a></li>
            <li><a href="#basic-implementation">Basic Implementation</a></li>
            <li><a href="#order-based-methods-and-deletion">Order-based methods and deletion</a></li>
            <li><a href="#delete">Delete</a></li>
            <li><a href="#analysis_1">Analysis</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h3 id="topic-5-symbol-tables"><strong>Topic 5: Symbol Tables</strong><a class="headerlink" href="#topic-5-symbol-tables" title="Permanent link">&para;</a></h3>
<p><span class="badge badge-pill badge-info">Symbol Table</span>
<span class="badge badge-pill badge-info">Binary Search</span>
<span class="badge badge-pill badge-info">Binary Search Tree</span></p>
<h3 id="symbol-tables">Symbol Tables<a class="headerlink" href="#symbol-tables" title="Permanent link">&para;</a></h3>
<blockquote>
<p>Definition. A <em>symbol table</em> is a data structure for key-value pairs that supports two operations: <BC>insert</BC> (put) a new pair into the table and <BC>search</BC> for (get) the value associated with a given key.</p>
</blockquote>
<p>key-value pair abstraction.</p>
<ul>
<li><strong>insert</strong> a value with specified key.</li>
<li>Given a key, <strong>search</strong> for the corresponding value.</li>
</ul>
<h4 id="basic-symbol-table-api">Basic Symbol Table API<a class="headerlink" href="#basic-symbol-table-api" title="Permanent link">&para;</a></h4>
<p>API for a generic basic symbol table:</p>
<p><img alt="symbolTableAPI" src="../figures/symbolTableAPI.png" /></p>
<h4 id="ordered-symbol-tables-api">Ordered symbol tables API<a class="headerlink" href="#ordered-symbol-tables-api" title="Permanent link">&para;</a></h4>
<p>Specifically, for applications where keys are <C>Comparable</C>, we implement the following API.</p>
<p><img alt="OrderedSymbolTableAPIs" src="../figures/OrderedSymbolTableAPIs.png" /></p>
<h4 id="preview">Preview<a class="headerlink" href="#preview" title="Permanent link">&para;</a></h4>
<p>We shall consider six symbol-table implementations in this section, so a brief preview is in order.</p>
<p>Pros and cons of symbol-table implementations:</p>
<p><img alt="ProsAndConsOfSymbol-tableImplementations" src="../figures/ProsAndConsOfSymbol-tableImplementations.png" /></p>
<h3 id="elementary-implementations">Elementary Implementations<a class="headerlink" href="#elementary-implementations" title="Permanent link">&para;</a></h3>
<h4 id="sequential-search-unordered-list">Sequential Search (unordered list)<a class="headerlink" href="#sequential-search-unordered-list" title="Permanent link">&para;</a></h4>
<p>Sequential search in a linked list:</p>
<ul>
<li>Maintain an (unordered) linked list of key-value pairs.</li>
<li><strong>Search</strong>: Scan through all keys until find a match.</li>
<li><strong>Insert</strong>: Scan through all keys until find a match; if no match add to front.</li>
</ul>
<p><img alt="" src="../figures/SequentialSearchST.png" /></p>
<p><details> <summary><big><font color="blue">Click Here To View Code</font></big></summary></p>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>class</span> <span class=nc>SequentialSearchST</span><span class=o>&lt;</span><span class=n>Key</span><span class=o>,</span> <span class=n>Value</span><span class=o>&gt;</span> <span class=o>{</span>

    <span class=kd>private</span> <span class=n>Node</span> <span class=n>first</span><span class=o>;</span>
    <span class=kd>private</span> <span class=kt>int</span> <span class=n>size</span><span class=o>;</span>

    <span class=cm>/**</span>
<span class=cm>     * create a symbol table</span>
<span class=cm>     */</span>
    <span class=kd>public</span> <span class=nf>SequentialSearchST</span><span class=o>()</span> <span class=o>{</span>
    <span class=o>}</span>

    <span class=cm>/**</span>
<span class=cm>     * put key-value pair into the table.</span>
<span class=cm>     * remove key from table if value is null.</span>
<span class=cm>     * @param key: key</span>
<span class=cm>     * @param val: value</span>
<span class=cm>     * @throws IllegalArgumentException if key is null</span>
<span class=cm>     */</span>
    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>put</span><span class=o>(</span><span class=n>Key</span> <span class=n>key</span><span class=o>,</span> <span class=n>Value</span> <span class=n>val</span><span class=o>)</span> <span class=o>{</span>
        <span class=c1>// if key is null</span>
        <span class=k>if</span> <span class=o>(</span><span class=n>key</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span> <span class=k>throw</span> <span class=k>new</span> <span class=n>IllegalArgumentException</span><span class=o>(</span><span class=s>&quot;Key is null&quot;</span><span class=o>);</span>
        <span class=c1>// Search for key. Update value if found; grow table if new.</span>
        <span class=k>for</span> <span class=o>(</span><span class=n>Node</span> <span class=n>cur</span> <span class=o>=</span> <span class=n>first</span><span class=o>;</span> <span class=n>cur</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>;</span> <span class=n>cur</span> <span class=o>=</span> <span class=n>cur</span><span class=o>.</span><span class=na>next</span><span class=o>)</span> <span class=o>{</span>
            <span class=k>if</span> <span class=o>(</span><span class=n>cur</span><span class=o>.</span><span class=na>key</span><span class=o>.</span><span class=na>equals</span><span class=o>(</span><span class=n>key</span><span class=o>))</span> <span class=o>{</span>
                <span class=n>cur</span><span class=o>.</span><span class=na>value</span> <span class=o>=</span> <span class=n>val</span><span class=o>;</span> <span class=c1>// Search hit: update val.</span>
                <span class=k>return</span><span class=o>;</span>
            <span class=o>}</span>
        <span class=o>}</span>
        <span class=n>first</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Node</span><span class=o>(</span><span class=n>key</span><span class=o>,</span> <span class=n>val</span><span class=o>,</span> <span class=n>first</span><span class=o>);</span> <span class=c1>// Search miss: add new node.</span>
        <span class=n>size</span><span class=o>++;</span>
    <span class=o>}</span>

    <span class=cm>/**</span>
<span class=cm>     * Value paired with key.</span>
<span class=cm>     * (null if key is absent)</span>
<span class=cm>     * @param key: key</span>
<span class=cm>     * @return Value paired with key</span>
<span class=cm>     */</span>
    <span class=kd>public</span> <span class=n>Value</span> <span class=nf>get</span><span class=o>(</span><span class=n>Key</span> <span class=n>key</span><span class=o>)</span> <span class=o>{</span>
        <span class=c1>// Search for key</span>
        <span class=k>for</span> <span class=o>(</span><span class=n>Node</span> <span class=n>cur</span> <span class=o>=</span> <span class=n>first</span><span class=o>;</span> <span class=n>cur</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>;</span> <span class=n>cur</span> <span class=o>=</span> <span class=n>cur</span><span class=o>.</span><span class=na>next</span><span class=o>)</span> <span class=o>{</span>
            <span class=k>if</span> <span class=o>(</span><span class=n>cur</span><span class=o>.</span><span class=na>key</span><span class=o>.</span><span class=na>equals</span><span class=o>(</span><span class=n>key</span><span class=o>))</span> <span class=o>{</span>
                <span class=k>return</span> <span class=n>cur</span><span class=o>.</span><span class=na>value</span><span class=o>;</span> <span class=c1>// search hit</span>
            <span class=o>}</span>
        <span class=o>}</span>
        <span class=k>return</span> <span class=kc>null</span><span class=o>;</span> <span class=c1>// search miss</span>
    <span class=o>}</span>

    <span class=cm>/**</span>
<span class=cm>     * remove key (and its value) from table</span>
<span class=cm>     * @param key: a key to delete</span>
<span class=cm>     * @throws IllegalArgumentException if key is null</span>
<span class=cm>     */</span>
    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>delete</span><span class=o>(</span><span class=n>Key</span> <span class=n>key</span><span class=o>)</span> <span class=o>{</span>
        <span class=c1>// if key is null</span>
        <span class=k>if</span> <span class=o>(</span><span class=n>key</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span> <span class=k>throw</span> <span class=k>new</span> <span class=n>IllegalArgumentException</span><span class=o>(</span><span class=s>&quot;Key is null&quot;</span><span class=o>);</span>

        <span class=c1>// delete first</span>
        <span class=k>if</span> <span class=o>(</span><span class=n>first</span><span class=o>.</span><span class=na>key</span><span class=o>.</span><span class=na>equals</span><span class=o>(</span><span class=n>key</span><span class=o>))</span> <span class=o>{</span>
            <span class=n>Node</span> <span class=n>toDelete</span> <span class=o>=</span> <span class=n>first</span><span class=o>;</span>
            <span class=n>first</span> <span class=o>=</span> <span class=n>first</span><span class=o>.</span><span class=na>next</span><span class=o>;</span>
            <span class=n>first</span><span class=o>.</span><span class=na>next</span> <span class=o>=</span> <span class=kc>null</span><span class=o>;</span> <span class=c1>// prevent loitering</span>
            <span class=n>size</span><span class=o>--;</span>
            <span class=k>return</span><span class=o>;</span>
        <span class=o>}</span>

        <span class=c1>// search for key in the rest of the linkedlist</span>
        <span class=k>for</span> <span class=o>(</span><span class=n>Node</span> <span class=n>cur</span> <span class=o>=</span> <span class=n>first</span><span class=o>;</span> <span class=n>cur</span><span class=o>.</span><span class=na>next</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>;</span> <span class=n>cur</span> <span class=o>=</span> <span class=n>cur</span><span class=o>.</span><span class=na>next</span><span class=o>)</span> <span class=o>{</span>
            <span class=k>if</span> <span class=o>(</span><span class=n>cur</span><span class=o>.</span><span class=na>next</span><span class=o>.</span><span class=na>key</span><span class=o>.</span><span class=na>equals</span><span class=o>(</span><span class=n>key</span><span class=o>))</span> <span class=o>{</span> <span class=c1>// search hit</span>
                <span class=n>Node</span> <span class=n>toDelete</span> <span class=o>=</span> <span class=n>cur</span><span class=o>.</span><span class=na>next</span><span class=o>;</span>
                <span class=n>cur</span><span class=o>.</span><span class=na>next</span> <span class=o>=</span> <span class=n>cur</span><span class=o>.</span><span class=na>next</span><span class=o>.</span><span class=na>next</span><span class=o>;</span>
                <span class=n>toDelete</span><span class=o>.</span><span class=na>next</span> <span class=o>=</span> <span class=kc>null</span><span class=o>;</span> <span class=c1>// prevent loitering</span>
                <span class=n>size</span><span class=o>--;</span>
                <span class=k>return</span><span class=o>;</span>
            <span class=o>}</span>
        <span class=o>}</span>
    <span class=o>}</span>

    <span class=cm>/**</span>
<span class=cm>     * is there a value paired with key?</span>
<span class=cm>     * @param key: a key</span>
<span class=cm>     * @return true, if the key exists.</span>
<span class=cm>     *</span>
<span class=cm>     */</span>
    <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>contains</span><span class=o>(</span><span class=n>Key</span> <span class=n>key</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>return</span> <span class=n>get</span><span class=o>(</span><span class=n>key</span><span class=o>)</span> <span class=o>==</span> <span class=kc>null</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=cm>/**</span>
<span class=cm>     * is the table empty?</span>
<span class=cm>     * @return true, if empty.</span>
<span class=cm>     */</span>
    <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>isEmpty</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=n>size</span><span class=o>()</span> <span class=o>==</span> <span class=mi>0</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=cm>/**</span>
<span class=cm>     * number of key-value pairs in the table</span>
<span class=cm>     * @return the size of the symbol table</span>
<span class=cm>     */</span>
    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>size</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=n>size</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=cm>/**</span>
<span class=cm>     * all the keys in the table</span>
<span class=cm>     * @return an iterable of keys</span>
<span class=cm>     */</span>
    <span class=kd>public</span> <span class=n>Iterable</span><span class=o>&lt;</span><span class=n>Key</span><span class=o>&gt;</span> <span class=nf>keys</span><span class=o>()</span> <span class=o>{</span>
        <span class=n>List</span><span class=o>&lt;</span><span class=n>Key</span><span class=o>&gt;</span> <span class=n>keyList</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;();</span>
        <span class=k>for</span> <span class=o>(</span><span class=n>Node</span> <span class=n>cur</span> <span class=o>=</span> <span class=n>first</span><span class=o>;</span> <span class=n>cur</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>;</span> <span class=n>cur</span> <span class=o>=</span> <span class=n>cur</span><span class=o>.</span><span class=na>next</span><span class=o>)</span> <span class=o>{</span>
            <span class=n>keyList</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>cur</span><span class=o>.</span><span class=na>key</span><span class=o>);</span>
        <span class=o>}</span>
        <span class=k>return</span> <span class=n>keyList</span><span class=o>;</span>

    <span class=o>}</span>

    <span class=cm>/**</span>
<span class=cm>     * Node for LinkedList</span>
<span class=cm>     */</span>
    <span class=kd>private</span> <span class=kd>class</span> <span class=nc>Node</span> <span class=o>{</span>
        <span class=n>Key</span> <span class=n>key</span><span class=o>;</span>
        <span class=n>Value</span> <span class=n>value</span><span class=o>;</span>
        <span class=n>Node</span> <span class=n>next</span><span class=o>;</span>
        <span class=n>Node</span><span class=o>(</span><span class=n>Key</span> <span class=n>key</span><span class=o>,</span> <span class=n>Value</span> <span class=n>value</span><span class=o>,</span> <span class=n>Node</span> <span class=n>next</span><span class=o>)</span> <span class=o>{</span>
            <span class=k>this</span><span class=o>.</span><span class=na>key</span> <span class=o>=</span> <span class=n>key</span><span class=o>;</span>
            <span class=k>this</span><span class=o>.</span><span class=na>value</span> <span class=o>=</span> <span class=n>value</span><span class=o>;</span>
            <span class=k>this</span><span class=o>.</span><span class=na>next</span> <span class=o>=</span> <span class=n>next</span><span class=o>;</span>
        <span class=o>}</span>
    <span class=o>}</span>

<span class=o>}</span>
</pre></div></p>
<p></details></p>
<h4 id="binary-search-ordered-array">Binary Search (ordered array)<a class="headerlink" href="#binary-search-ordered-array" title="Permanent link">&para;</a></h4>
<p>Next, we consider a full implementation of our ordered symbol-table API. The underlying data structure is a pair of parallel arrays, one for the keys and one for the values.</p>
<ul>
<li>The heart of the implementation is the <C>rank()</C> method, which returns the number of keys smaller than a given key.</li>
<li>For <C>get()</C>, the rank tells us precisely where the key is to be found if it is in the table (and, if it is not there, that it is not in the table).</li>
<li>For <C>put()</C>, the rank tells us precisely where to update the value when the key is in the table, and precisely where to put the key when the key is not in the table.</li>
</ul>
<p><details> <summary><big><font color="blue">Click Here To View Code</font></big></summary></p>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>class</span> <span class=nc>BinarySearchST</span><span class=o>&lt;</span><span class=n>K</span> <span class=kd>extends</span> <span class=n>Comparable</span><span class=o>&lt;</span><span class=n>K</span><span class=o>&gt;,</span> <span class=n>V</span><span class=o>&gt;</span> <span class=o>{</span>

    <span class=kd>private</span> <span class=n>K</span><span class=o>[]</span> <span class=n>keys</span><span class=o>;</span>
    <span class=kd>private</span> <span class=n>V</span><span class=o>[]</span> <span class=n>vals</span><span class=o>;</span>
    <span class=kd>private</span> <span class=kt>int</span> <span class=n>size</span><span class=o>;</span>

    <span class=cm>/**</span>
<span class=cm>     * create a symbol table.</span>
<span class=cm>     * @param capacity: the size of the symbol table</span>
<span class=cm>     */</span>
    <span class=nd>@SuppressWarnings</span><span class=o>(</span><span class=s>&quot;unchecked&quot;</span><span class=o>)</span>
    <span class=kd>public</span> <span class=nf>BinarySearchST</span><span class=o>(</span><span class=kt>int</span> <span class=n>capacity</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>keys</span> <span class=o>=</span> <span class=o>(</span><span class=n>K</span><span class=o>[])</span> <span class=k>new</span> <span class=n>Comparable</span><span class=o>[</span><span class=n>capacity</span><span class=o>];</span>
        <span class=n>vals</span> <span class=o>=</span> <span class=o>(</span><span class=n>V</span><span class=o>[])</span> <span class=k>new</span> <span class=n>Object</span><span class=o>[</span><span class=n>capacity</span><span class=o>];</span>
    <span class=o>}</span>

    <span class=cm>/**</span>
<span class=cm>     * put key-value pair into the table.</span>
<span class=cm>     * remove key from table if value is null.</span>
<span class=cm>     * @param key: key</span>
<span class=cm>     * @param val: value</span>
<span class=cm>     * @throws IllegalArgumentException if key is null</span>
<span class=cm>     */</span>
    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>put</span><span class=o>(</span><span class=n>K</span> <span class=n>key</span><span class=o>,</span> <span class=n>V</span> <span class=n>val</span><span class=o>)</span> <span class=o>{</span>
        <span class=c1>// search for key.</span>
        <span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>rank</span><span class=o>(</span><span class=n>key</span><span class=o>);</span>
        <span class=c1>// update value if found</span>
        <span class=k>if</span> <span class=o>(</span><span class=n>i</span> <span class=o>&lt;</span> <span class=n>size</span> <span class=o>&amp;&amp;</span> <span class=n>keys</span><span class=o>[</span><span class=n>i</span><span class=o>].</span><span class=na>compareTo</span><span class=o>(</span><span class=n>key</span><span class=o>)</span> <span class=o>==</span> <span class=mi>0</span><span class=o>)</span> <span class=o>{</span>
            <span class=n>vals</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>=</span> <span class=n>val</span><span class=o>;</span>
            <span class=k>return</span><span class=o>;</span>
        <span class=o>}</span>
        <span class=c1>// grow table if new</span>
        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>size</span><span class=o>;</span> <span class=n>j</span> <span class=o>&gt;</span> <span class=n>i</span><span class=o>;</span> <span class=n>j</span><span class=o>--)</span> <span class=o>{</span>
            <span class=n>keys</span><span class=o>[</span><span class=n>j</span><span class=o>]</span> <span class=o>=</span> <span class=n>keys</span><span class=o>[</span><span class=n>j</span><span class=o>-</span><span class=mi>1</span><span class=o>];</span>
            <span class=n>vals</span><span class=o>[</span><span class=n>j</span><span class=o>]</span> <span class=o>=</span> <span class=n>vals</span><span class=o>[</span><span class=n>j</span><span class=o>-</span><span class=mi>1</span><span class=o>];</span>
            <span class=n>size</span><span class=o>++;</span>
        <span class=o>}</span>
    <span class=o>}</span>

    <span class=cm>/**</span>
<span class=cm>     * V paired with key.</span>
<span class=cm>     * (null if key is absent)</span>
<span class=cm>     * @param key: key</span>
<span class=cm>     * @return V paired with key</span>
<span class=cm>     */</span>
    <span class=kd>public</span> <span class=n>V</span> <span class=nf>get</span><span class=o>(</span><span class=n>K</span> <span class=n>key</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>if</span> <span class=o>(</span><span class=n>isEmpty</span><span class=o>())</span> <span class=k>return</span> <span class=kc>null</span><span class=o>;</span>
        <span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>rank</span><span class=o>(</span><span class=n>key</span><span class=o>);</span>
        <span class=k>if</span> <span class=o>(</span><span class=n>i</span> <span class=o>&lt;</span> <span class=n>size</span> <span class=o>&amp;&amp;</span> <span class=n>keys</span><span class=o>[</span><span class=n>i</span><span class=o>].</span><span class=na>compareTo</span><span class=o>(</span><span class=n>key</span><span class=o>)</span> <span class=o>==</span> <span class=mi>0</span><span class=o>)</span>
            <span class=k>return</span> <span class=n>vals</span><span class=o>[</span><span class=n>i</span><span class=o>];</span> <span class=c1>// search hit</span>
        <span class=k>return</span> <span class=kc>null</span><span class=o>;</span> <span class=c1>// search miss</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre></div></p>
<p></details></p>
<p><hh>Binary Search</hh></p>
<p>The reason that we keep keys in an ordered array is so that we can use array indexing to dramatically reduce the number of compares required for each search, using the classic and venerable <strong>binary search</strong> algorithm.</p>
<p>To search, we compare the search key against the key in the middle of the subarray. If the search key is less than the key in the middle, we search in the left half of the subarray; if the search key is greater than the key in the middle, we search in the right half of the  subarray; otherwise the key in the middle is equal to the search key.</p>
<p>Recursive Binary Search:</p>
<p> <div class=codehilite><pre><span class=kd>private</span> <span class=kt>int</span> <span class=nf>rank</span><span class=o>(</span><span class=n>K</span> <span class=n>key</span><span class=o>,</span> <span class=kt>int</span> <span class=n>lo</span><span class=o>,</span> <span class=kt>int</span> <span class=n>hi</span><span class=o>)</span> <span class=o>{</span>
    <span class=k>if</span> <span class=o>(</span><span class=n>hi</span> <span class=o>&lt;</span> <span class=n>lo</span><span class=o>)</span> <span class=k>return</span> <span class=n>lo</span><span class=o>;</span>
    <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=o>(</span><span class=n>lo</span> <span class=o>+</span> <span class=n>hi</span><span class=o>)/</span><span class=mi>2</span><span class=o>;</span>
    <span class=kt>int</span> <span class=n>cmp</span> <span class=o>=</span> <span class=n>key</span><span class=o>.</span><span class=na>compareTo</span><span class=o>(</span><span class=n>keys</span><span class=o>[</span><span class=n>mid</span><span class=o>]);</span>
    <span class=k>if</span> <span class=o>(</span><span class=n>cmp</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=o>)</span> <span class=k>return</span> <span class=n>rankRecursive</span><span class=o>(</span><span class=n>key</span><span class=o>,</span> <span class=n>lo</span><span class=o>,</span> <span class=n>mid</span> <span class=o>-</span> <span class=mi>1</span><span class=o>);</span>
    <span class=k>else</span> <span class=k>if</span> <span class=o>(</span><span class=n>cmp</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=o>)</span> <span class=k>return</span>  <span class=n>rankRecursive</span><span class=o>(</span><span class=n>key</span><span class=o>,</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=o>,</span> <span class=n>hi</span><span class=o>);</span>
    <span class=k>else</span> <span class=k>return</span> <span class=n>mid</span><span class=o>;</span>
<span class=o>}</span>
</pre></div></p>
<p>Non-Recursive Binary Search:</p>
<p> <div class=codehilite><pre><span class=kd>private</span> <span class=kt>int</span> <span class=nf>rank</span><span class=o>(</span><span class=n>K</span> <span class=n>key</span><span class=o>)</span> <span class=o>{</span>
    <span class=kt>int</span> <span class=n>lo</span> <span class=o>=</span> <span class=mi>0</span><span class=o>,</span> <span class=n>hi</span> <span class=o>=</span> <span class=n>size</span> <span class=o>-</span> <span class=mi>1</span><span class=o>;</span>
    <span class=k>while</span> <span class=o>(</span><span class=n>lo</span> <span class=o>&lt;=</span> <span class=n>hi</span><span class=o>)</span> <span class=o>{</span>
        <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=o>(</span><span class=n>lo</span> <span class=o>+</span> <span class=n>hi</span><span class=o>)/</span><span class=mi>2</span><span class=o>;</span>
        <span class=kt>int</span> <span class=n>cmp</span> <span class=o>=</span> <span class=n>key</span><span class=o>.</span><span class=na>compareTo</span><span class=o>(</span><span class=n>keys</span><span class=o>[</span><span class=n>mid</span><span class=o>]);</span>
        <span class=k>if</span> <span class=o>(</span><span class=n>cmp</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=o>)</span> <span class=n>hi</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>-</span> <span class=mi>1</span><span class=o>;</span>
        <span class=k>else</span> <span class=k>if</span> <span class=o>(</span><span class=n>cmp</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=o>)</span> <span class=n>lo</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=o>;</span>
        <span class=k>else</span> <span class=k>return</span> <span class=n>mid</span><span class=o>;</span>
    <span class=o>}</span>
    <span class=k>return</span> <span class=n>lo</span><span class=o>;</span>
<span class=o>}</span>
</pre></div></p>
<h4 id="analysis">Analysis<a class="headerlink" href="#analysis" title="Permanent link">&para;</a></h4>
<p><img alt="elementarySTAnalysis" src="../figures/elementarySTAnalysis.png" /></p>
<p>Inserting <span><span class="MathJax_Preview">N</span><script type="math/tex">N</script></span> distinct keys into an initially empty linked-list symbol table uses <span><span class="MathJax_Preview">\sim N^2 /2</span><script type="math/tex">\sim N^2 /2</script></span> compares.</p>
<p>Inserting a new key into an ordered array of size <span><span class="MathJax_Preview">N</span><script type="math/tex">N</script></span> uses <span><span class="MathJax_Preview">\sim 2N</span><script type="math/tex">\sim 2N</script></span> array accesses in the worst case, so inserting <span><span class="MathJax_Preview">N</span><script type="math/tex">N</script></span> keys into an initially empty table uses <span><span class="MathJax_Preview">\sim N^2</span><script type="math/tex">\sim N^2</script></span> array accesses in the worst case.</p>
<p>The central question is whether we can devise algorithms and data structures that achieve logarithmic performance for both search and insert.</p>
<h3 id="binary-search-trees">Binary Search Trees<a class="headerlink" href="#binary-search-trees" title="Permanent link">&para;</a></h3>
<blockquote>
<p>Definition. A <em>binary search tree</em> (BST) is a binary tree where each node has a <CB>Comparable</CB> key (and an associated value) and satisﬁes the restriction that the key in any node is larger than the keys in all nodes in that node’s left subtree and smaller than the keys in all nodes in that node’s right subtree.</p>
</blockquote>
<p><img alt="AnatomyOfABinarySearchTree" src="../figures/AnatomyOfABinarySearchTree.png" /></p>
<p>Each node contains a key, a value, a left link, a right link, and a node count.</p>
<p> <div class=codehilite><pre><span class=kd>private</span> <span class=kd>class</span> <span class=nc>Node</span> <span class=o>{</span>
    <span class=kd>private</span> <span class=n>Key</span> <span class=n>key</span><span class=o>;</span>           <span class=c1>// sorted by key</span>
    <span class=kd>private</span> <span class=n>Value</span> <span class=n>val</span><span class=o>;</span>         <span class=c1>// associated data</span>
    <span class=kd>private</span> <span class=n>Node</span> <span class=n>left</span><span class=o>,</span> <span class=n>right</span><span class=o>;</span>  <span class=c1>// left and right subtrees</span>
    <span class=kd>private</span> <span class=kt>int</span> <span class=n>size</span><span class=o>;</span>          <span class=c1>// number of nodes in subtree</span>

    <span class=kd>public</span> <span class=nf>Node</span><span class=o>(</span><span class=n>Key</span> <span class=n>key</span><span class=o>,</span> <span class=n>Value</span> <span class=n>val</span><span class=o>,</span> <span class=kt>int</span> <span class=n>size</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>this</span><span class=o>.</span><span class=na>key</span> <span class=o>=</span> <span class=n>key</span><span class=o>;</span>
        <span class=k>this</span><span class=o>.</span><span class=na>val</span> <span class=o>=</span> <span class=n>val</span><span class=o>;</span>
        <span class=k>this</span><span class=o>.</span><span class=na>size</span> <span class=o>=</span> <span class=n>size</span><span class=o>;</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre></div></p>
<h4 id="basic-implementation">Basic Implementation<a class="headerlink" href="#basic-implementation" title="Permanent link">&para;</a></h4>
<p><hh>get()</hh></p>
<p>A recursive algorithm to search for a key in a BST follows immediately from the recursive structure: if the tree is empty, we have a <em>search miss</em>; if the search key is equal to the key at the root, we have a <em>search hit</em>. Otherwise, we search (recursively) in the appropriate subtree, moving left if the search key is smaller, right if it is larger.</p>
<p> <div class=codehilite><pre><span class=c1>// Return value associated with key in the subtree rooted at x; </span>
<span class=c1>// Return null if key not present in subtree rooted at x.</span>
<span class=kd>private</span> <span class=n>Value</span> <span class=nf>get</span><span class=o>(</span><span class=n>Node</span> <span class=n>x</span><span class=o>,</span> <span class=n>Key</span> <span class=n>key</span><span class=o>)</span> <span class=o>{</span> 
    <span class=k>if</span> <span class=o>(</span><span class=n>x</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span> <span class=k>return</span> <span class=kc>null</span><span class=o>;</span> 
    <span class=kt>int</span> <span class=n>cmp</span> <span class=o>=</span> <span class=n>key</span><span class=o>.</span><span class=na>compareTo</span><span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>key</span><span class=o>);</span> 
    <span class=k>if</span> <span class=o>(</span><span class=n>cmp</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=o>)</span> <span class=k>return</span> <span class=n>get</span><span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>left</span><span class=o>,</span> <span class=n>key</span><span class=o>);</span> 
    <span class=k>else</span> <span class=k>if</span> <span class=o>(</span><span class=n>cmp</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=o>)</span> <span class=k>return</span> <span class=n>get</span><span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>right</span><span class=o>,</span> <span class=n>key</span><span class=o>);</span> 
    <span class=k>else</span> <span class=k>return</span> <span class=n>x</span><span class=o>.</span><span class=na>val</span><span class=o>;</span> 
<span class=o>}</span>
</pre></div></p>
<p><hh>put()</hh></p>
<p>A more important essential feature of BSTs is that <C>put</C> is not much more difficult to implement than <C>get</C>. Indeed, a search for a key not in the tree ends at a null link, and all that we need to do is replace that link with a new node containing the key.</p>
<p> <div class=codehilite><pre><span class=c1>// Search for key. Update value if found; grow table if new.</span>
<span class=kd>public</span> <span class=kt>void</span> <span class=nf>put</span><span class=o>(</span><span class=n>Key</span> <span class=n>key</span><span class=o>,</span> <span class=n>Value</span> <span class=n>val</span><span class=o>)</span> <span class=o>{</span> 
    <span class=n>root</span> <span class=o>=</span> <span class=n>put</span><span class=o>(</span><span class=n>root</span><span class=o>,</span> <span class=n>key</span><span class=o>,</span> <span class=n>val</span><span class=o>);</span> 
<span class=o>}</span>

<span class=c1>// Change key’s value to val if key in subtree rooted at x.</span>
<span class=c1>// Otherwise, add new node to subtree associating key with val.</span>
<span class=kd>private</span> <span class=n>Node</span> <span class=nf>put</span><span class=o>(</span><span class=n>Node</span> <span class=n>x</span><span class=o>,</span> <span class=n>Key</span> <span class=n>key</span><span class=o>,</span> <span class=n>Value</span> <span class=n>val</span><span class=o>)</span> <span class=o>{</span>
    <span class=k>if</span> <span class=o>(</span><span class=n>x</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span> <span class=k>return</span> <span class=k>new</span> <span class=n>Node</span><span class=o>(</span><span class=n>key</span><span class=o>,</span> <span class=n>val</span><span class=o>,</span> <span class=mi>1</span><span class=o>);</span> 
    <span class=kt>int</span> <span class=n>cmp</span> <span class=o>=</span> <span class=n>key</span><span class=o>.</span><span class=na>compareTo</span><span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>key</span><span class=o>);</span> 
    <span class=k>if</span> <span class=o>(</span><span class=n>cmp</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=o>)</span>        <span class=n>x</span><span class=o>.</span><span class=na>left</span> <span class=o>=</span> <span class=n>put</span><span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>left</span><span class=o>,</span> <span class=n>key</span><span class=o>,</span> <span class=n>val</span><span class=o>);</span> 
    <span class=k>else</span> <span class=k>if</span> <span class=o>(</span><span class=n>cmp</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=o>)</span>   <span class=n>x</span><span class=o>.</span><span class=na>right</span> <span class=o>=</span> <span class=n>put</span><span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>right</span><span class=o>,</span> <span class=n>key</span><span class=o>,</span> <span class=n>val</span><span class=o>);</span> 
    <span class=k>else</span>                <span class=n>x</span><span class=o>.</span><span class=na>val</span> <span class=o>=</span> <span class=n>val</span><span class=o>;</span>  <span class=c1>// update value</span>
    <span class=n>x</span><span class=o>.</span><span class=na>N</span> <span class=o>=</span> <span class=n>size</span><span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>left</span><span class=o>)</span> <span class=o>+</span> <span class=n>size</span><span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>right</span><span class=o>)</span> <span class=o>+</span> <span class=mi>1</span><span class=o>;</span>  <span class=c1>// update count</span>
    <span class=k>return</span> <span class=n>x</span><span class=o>;</span>
<span class=o>}</span>
</pre></div></p>
<p><hh>Analysis</hh></p>
<p>The running times of algorithms on binary search trees depend on the shapes of the trees, which, in turn, depend on the order in which keys are inserted. In the best case, a tree with <span><span class="MathJax_Preview">N</span><script type="math/tex">N</script></span> nodes could be perfectly balanced, with <span><span class="MathJax_Preview">\sim \log N</span><script type="math/tex">\sim \log N</script></span> nodes between the root and each null link. In the worst case there could be <span><span class="MathJax_Preview">N</span><script type="math/tex">N</script></span> nodes on the search path. The balance in typical trees turns out to be much closer to the best case than the worst case.</p>
<p><img alt="BinarySearchTreePossibilites" src="../figures/BinarySearchTreePossibilites.png" /></p>
<blockquote>
<p>Insertions, search miss and search hits in a BST built from <span><span class="MathJax_Preview">N</span><script type="math/tex">N</script></span> random keys require <span><span class="MathJax_Preview">\sim 2 ln N</span><script type="math/tex">\sim 2 ln N</script></span> (about 1.39 <span><span class="MathJax_Preview">\lg N</span><script type="math/tex">\lg N</script></span>) compares, on the average.</p>
</blockquote>
<h4 id="order-based-methods-and-deletion">Order-based methods and deletion<a class="headerlink" href="#order-based-methods-and-deletion" title="Permanent link">&para;</a></h4>
<p>An important reason that BSTs are widely used is that they allow us to <em>keep the keys in order</em>.</p>
<p><hh>min</hh></p>
<p>If the left link of the root is null, the smallest key in a BST is the key at the root; if the left link is not null, the smallest key in the BST is the smallest key in the subtree rooted at the node referenced by the left link.</p>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=n>Key</span> <span class=nf>min</span><span class=o>()</span> <span class=o>{</span>
    <span class=k>return</span> <span class=n>min</span><span class=o>(</span><span class=n>root</span><span class=o>).</span><span class=na>key</span><span class=o>;</span> 
<span class=o>}</span>

<span class=kd>private</span> <span class=n>Node</span> <span class=nf>min</span><span class=o>(</span><span class=n>Node</span> <span class=n>x</span><span class=o>)</span> <span class=o>{</span>
    <span class=k>if</span> <span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>left</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span> <span class=k>return</span> <span class=n>x</span><span class=o>;</span>
    <span class=k>return</span> <span class=n>min</span><span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>left</span><span class=o>);</span> 
<span class=o>}</span>
</pre></div></p>
<p><hh>floor</hh></p>
<p><C>floor()</C> gives the largest key in the BST less than or equal to key. </p>
<ul>
<li>If a given key is less than the key at the root of a BST, then the floor of key must be in the left subtree. </li>
<li>If key is greater than the key at the root, then the floor of key could be in the right subtree, but only if there is a key smaller than or equal to key in the right subtree; </li>
<li>if not (or if key is equal to the key at the root), then the key at the root is the floor of key.</li>
</ul>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=n>Key</span> <span class=nf>floor</span><span class=o>(</span><span class=n>Key</span> <span class=n>key</span><span class=o>)</span> <span class=o>{</span>
    <span class=n>Node</span> <span class=n>x</span> <span class=o>=</span> <span class=n>floor</span><span class=o>(</span><span class=n>root</span><span class=o>,</span> <span class=n>key</span><span class=o>);</span>
    <span class=k>if</span> <span class=o>(</span><span class=n>x</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span> <span class=k>return</span> <span class=kc>null</span><span class=o>;</span>
    <span class=k>return</span> <span class=n>x</span><span class=o>.</span><span class=na>key</span><span class=o>;</span> 
<span class=o>}</span>

<span class=kd>private</span> <span class=n>Node</span> <span class=nf>floor</span><span class=o>(</span><span class=n>Node</span> <span class=n>x</span><span class=o>,</span> <span class=n>Key</span> <span class=n>key</span><span class=o>)</span> <span class=o>{</span>
    <span class=k>if</span> <span class=o>(</span><span class=n>x</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span> <span class=k>return</span> <span class=kc>null</span><span class=o>;</span> 
    <span class=kt>int</span> <span class=n>cmp</span> <span class=o>=</span> <span class=n>key</span><span class=o>.</span><span class=na>compareTo</span><span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>key</span><span class=o>);</span> 
    <span class=k>if</span> <span class=o>(</span><span class=n>cmp</span> <span class=o>==</span> <span class=mi>0</span><span class=o>)</span> <span class=k>return</span> <span class=n>x</span><span class=o>;</span> 
    <span class=k>if</span> <span class=o>(</span><span class=n>cmp</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=o>)</span> <span class=k>return</span> <span class=n>floor</span><span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>left</span><span class=o>,</span> <span class=n>key</span><span class=o>);</span> 
    <span class=n>Node</span> <span class=n>t</span> <span class=o>=</span> <span class=n>floor</span><span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>right</span><span class=o>,</span> <span class=n>key</span><span class=o>);</span> 
    <span class=k>if</span> <span class=o>(</span><span class=n>t</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>)</span> <span class=k>return</span> <span class=n>t</span><span class=o>;</span>
    <span class=k>else</span> <span class=k>return</span> <span class=n>x</span><span class=o>;</span>
<span class=o>}</span>
</pre></div></p>
<p><hh>rank</hh></p>
<p><C>rank()</C> gives number of keys in the tree less than key: </p>
<ul>
<li>If the given key is equal to the key at the root, we return the number of keys <span><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span> in the left subtree; </li>
<li>If the given key is less than the key at the root, we return the rank of the key in the left subtree (recursively computed); </li>
<li>If the given key is larger than the key at the root, we return <span><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span> plus one (to count the key at the root) plus the rank of the key in the right subtree (recursively computed).</li>
</ul>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kt>int</span> <span class=nf>rank</span><span class=o>(</span><span class=n>Key</span> <span class=n>key</span><span class=o>)</span> <span class=o>{</span>
    <span class=k>return</span> <span class=n>rank</span><span class=o>(</span><span class=n>key</span><span class=o>,</span> <span class=n>root</span><span class=o>);</span>
<span class=o>}</span> 

<span class=c1>// Number of keys in the subtree less than key.</span>
<span class=kd>private</span> <span class=kt>int</span> <span class=nf>rank</span><span class=o>(</span><span class=n>Key</span> <span class=n>key</span><span class=o>,</span> <span class=n>Node</span> <span class=n>x</span><span class=o>)</span> <span class=o>{</span>
    <span class=k>if</span> <span class=o>(</span><span class=n>x</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span> <span class=k>return</span> <span class=mi>0</span><span class=o>;</span> 
    <span class=kt>int</span> <span class=n>cmp</span> <span class=o>=</span> <span class=n>key</span><span class=o>.</span><span class=na>compareTo</span><span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>key</span><span class=o>);</span> 
    <span class=k>if</span>      <span class=o>(</span><span class=n>cmp</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=o>)</span> <span class=k>return</span> <span class=n>rank</span><span class=o>(</span><span class=n>key</span><span class=o>,</span> <span class=n>x</span><span class=o>.</span><span class=na>left</span><span class=o>);</span> 
    <span class=k>else</span> <span class=k>if</span> <span class=o>(</span><span class=n>cmp</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=o>)</span> <span class=k>return</span> <span class=mi>1</span> <span class=o>+</span> <span class=n>size</span><span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>left</span><span class=o>)</span> <span class=o>+</span> <span class=n>rank</span><span class=o>(</span><span class=n>key</span><span class=o>,</span> <span class=n>x</span><span class=o>.</span><span class=na>right</span><span class=o>);</span> 
    <span class=k>else</span>              <span class=k>return</span> <span class=n>size</span><span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>left</span><span class=o>);</span> 
<span class=o>}</span> 
</pre></div></p>
<p><hh>Subtree counts</hh></p>
<p>Each node stores the number of nodes in the subtree rooted at that node; to implement <C>size()</C>, return the count at the root.</p>
<p> <div class=codehilite><pre><span class=c1>// Returns the number of key-value pairs in bst.</span>
<span class=kd>public</span> <span class=kt>int</span> <span class=nf>size</span><span class=o>()</span> <span class=o>{</span>
    <span class=k>return</span> <span class=n>size</span><span class=o>(</span><span class=n>root</span><span class=o>);</span>
<span class=o>}</span>

<span class=c1>// return number of key-value pairs in BST rooted at x</span>
<span class=kd>private</span> <span class=kt>int</span> <span class=nf>size</span><span class=o>(</span><span class=n>Node</span> <span class=n>x</span><span class=o>)</span> <span class=o>{</span>
    <span class=k>if</span> <span class=o>(</span><span class=n>x</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span> <span class=k>return</span> <span class=mi>0</span><span class=o>;</span>
    <span class=k>else</span> <span class=k>return</span> <span class=n>x</span><span class=o>.</span><span class=na>size</span><span class=o>;</span>
<span class=o>}</span>
</pre></div></p>
<h4 id="delete">Delete<a class="headerlink" href="#delete" title="Permanent link">&para;</a></h4>
<p><hh>Deleting the minimum</hh></p>
<p><C>deleteMin()</C> removes the key-value pair with the smallest key.</p>
<ul>
<li>Go left until finding a node with a null left link. </li>
<li>Replace that node by its right link.</li>
<li>Update subtree counts.</li>
<li><img alt="deleting the minimum in a BST" src="../figures/deleting_the_minimum_in_a_bst.png" /></li>
</ul>
<p> <div class=codehilite><pre><span class=c1>// Removes the key-value pair with the smallest key.</span>
<span class=c1>// throws NoSuchElementException if the bst is empty</span>
<span class=kd>public</span> <span class=kt>void</span> <span class=nf>deleteMin</span><span class=o>()</span> <span class=o>{</span>
    <span class=k>if</span> <span class=o>(</span><span class=n>isEmpty</span><span class=o>())</span> <span class=k>throw</span> <span class=k>new</span> <span class=n>NoSuchElementException</span><span class=o>(</span><span class=s>&quot;BST is empty&quot;</span><span class=o>);</span>
    <span class=n>deleteMin</span><span class=o>(</span><span class=n>root</span><span class=o>);</span>
<span class=o>}</span>

<span class=kd>private</span> <span class=n>Node</span> <span class=nf>deleteMin</span><span class=o>(</span><span class=n>Node</span> <span class=n>x</span><span class=o>)</span> <span class=o>{</span>
    <span class=k>if</span> <span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>left</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span> <span class=k>return</span> <span class=n>x</span><span class=o>.</span><span class=na>right</span><span class=o>;</span>
    <span class=n>x</span><span class=o>.</span><span class=na>left</span> <span class=o>=</span> <span class=n>deleteMin</span><span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>left</span><span class=o>);</span>
    <span class=n>x</span><span class=o>.</span><span class=na>size</span> <span class=o>=</span> <span class=n>size</span><span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>left</span><span class=o>)</span> <span class=o>+</span> <span class=n>size</span><span class=o>(</span><span class=n>x</span><span class=o>.</span><span class=na>right</span><span class=o>)</span> <span class=o>+</span> <span class=mi>1</span><span class=o>;</span>
    <span class=k>return</span> <span class=n>x</span><span class=o>;</span>
<span class=o>}</span>
</pre></div></p>
<h4 id="analysis_1">Analysis<a class="headerlink" href="#analysis_1" title="Permanent link">&para;</a></h4>
<p>In a BST, all operations take time proportional to the height of the tree, in the worst case.</p>
<p><img alt="bst_analysis" src="../figures/bst_analysis.png" /></p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../../../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
        <script src="../../../extra_javascript/tabhack.js" defer></script>
        <script src="../../../extra_javascript/baidu.js" defer></script>
        <script src="../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
