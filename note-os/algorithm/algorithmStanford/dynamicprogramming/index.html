<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Zhenhua Wang">
        <link rel="canonical" href="http://larryim.cc/note/algorithm/algorithmStanford/dynamicprogramming/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Topic: Dynammic Programming - Zhenhua's Notes</title>
        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/docco.min.css">
        <link href="../../../extra_css/custom.css" rel="stylesheet">
        <link href="../../../extra_css/custom.js" rel="stylesheet">
        <link href="../../../extra_css/friendly.css" rel="stylesheet">
        <link href="../../../extra_css/theme.css" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/lunr-0.5.7.min.js" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/mustache.min.js" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/require.js" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/search.js" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/text.js" rel="stylesheet">
        <link href="../../../extra_css/code-tab.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../../..">Zhenhua's Notes</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../../..">Home</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Algorithm <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">AlgorithmPrinceton</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../algorithmPrinceton/">Contents</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/unionfind/">Topic 1: UnionFind</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/stackqueue/">Topic 2: StackQueue</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/sort/">Topic 3: Sort</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/priorityqueue/">Topic 4: PriorityQueues</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/symboltable/">Topic 5: Symbol Tables</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/bst/">Topic 6: Balanced Search Trees</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/hashtable/">Topic 7: Hash Table</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/graph/">Topic 8: Graph</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/mst_shortestpath/">Topic 9: Minimum Spanning Tree and Shortest Path</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/stringsort/">Topic 11: String Sort</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/tries/">Topic 12: Tries</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">AlgorithmStanford</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../">Contents</a>
</li>
            
<li class="active">
    <a href="./">Topic: Dynammic Programming</a>
</li>
            
<li >
    <a href="../heap/">Topic: Heap</a>
</li>
            
<li >
    <a href="../graph/">Topic: Graph</a>
</li>
            
<li >
    <a href="../greedy/">Topic: Greedy Algorithm</a>
</li>
            
<li >
    <a href="../hashtable/">Topic: Hash Table</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">CS61B</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../calgorithm/s61b/index.md">Contents</a>
</li>
            
<li >
    <a href="../../cs61b/Lab1/">Lab1: javac, java, git</a>
</li>
            
<li >
    <a href="../../cs61b/Lab2/">Lab2: Unit Testing with JUnit and IntLists</a>
</li>
            
<li >
    <a href="../../cs61b/Lab3/">Lab3: Unit Testing with JUnit, Debugging</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">OS <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../os/">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">OSC</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../os/osc/">Contents</a>
</li>
            
<li >
    <a href="../../../os/osc/ch1/">Chapter 1: Introduction </a>
</li>
            
<li >
    <a href="../../../os/osc/ch2/">Chapter 2: Operating System structures</a>
</li>
            
<li >
    <a href="../../../os/osc/ch3/">Chapter 3: Processes</a>
</li>
            
<li >
    <a href="../../../os/osc/ch4/">Chapter 4: Threads and Concurrency</a>
</li>
            
<li >
    <a href="../../../os/osc/ch5/">Chapter 5: CPU Scheduling</a>
</li>
            
<li >
    <a href="../../../os/osc/ch6/">Chapter 6: Synchronization Tools</a>
</li>
            
<li >
    <a href="../../../os/osc/ch7/">Chapter 7: Synchronization Examples</a>
</li>
            
<li >
    <a href="../../../os/osc/ch8/">Chapter 8: Deadlocks</a>
</li>
            
<li >
    <a href="../../../os/osc/ch9/">Chapter 9: Main Memory</a>
</li>
            
<li >
    <a href="../../../os/osc/ch10/">Chapter 10: Virtual Memory</a>
</li>
            
<li >
    <a href="../../../os/osc/ch11/">Chapter 11: Mass-Storage Structure</a>
</li>
            
<li >
    <a href="../../../os/osc/ch13/">Chapter 13: File-System Interfaces</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">CSAPP</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../os/csapp/">Contents</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch1/">Chapter 1: 计算机系统漫游</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch2/">Chapter 2: 信息的表示和处理</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch3/">Chapter 3: 程序的机器级表示</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch4/">Chapter 4: 处理器体系结构</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch5/">Chapter 5: 优化程序性能</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch6/">Chapter 6: 存储器层次结构</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch7/">Chapter 7: 链接</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch8/">Chapter 8: 异常控制流</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch9/">Chapter 9: 虚拟内存</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch10/">Chapter 10: 系统级I/O</a>
</li>
            
<li >
    <a href="../../../csapp/ch11.md">Chapter 11: 网络编程</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">DataBase <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../database/">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">MySql</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../database/mysql/">Contents</a>
</li>
            
<li >
    <a href="../../../database/mysql/LearningMySQLandMariaDB/">Chapter Learning MySQL and MariaDB</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Java <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../java/">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">HFJ</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../java/hfj/">Contents</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch1/">Chapter 1: Dive in A Quick Dip</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch2/">Chapter 2: Classes and Objects</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch3/">Chapter 3: Primitives and References</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch4/">Chapter 4: Methods use Instance Variables</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch5/">Chapter 5: Writing a Program</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch6/">Chapter 6: Get to Know the Java API</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch7/">Chapter 7: Inheritance and Polymorphism</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch8/">Chapter 8: Interfaces and Abstract Classes</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch9/">Chapter 9: Constructors and Garbage Collection</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch10/">Chapter 10: Numbers and Statics</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch11/">Chapter 11: Exception Handling</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch12/">Chapter 12: Getting GUI</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch13/">Chapter 13: Using Swing</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch14/">Chapter 14: Serialization and File I/O</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch15/">Chapter 15: Networking and Threads</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch16/">Chapter 16: Collections and Generics</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch17/">Chapter 17: Packages, Jars and Deployment</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch18/">Chapter 18: Remote deploy with RMI</a>
</li>
            
<li >
    <a href="../../../java/hfj/Appendix/">Appendix: The Top Ten Topics</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">HFDP</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../java/hfdp/">Contents</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch1/">Chapter 1: Strategy Pattern </a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch2/">Chapter 2: Observer Pattern</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch3/">Chapter 3: Decorator Pattern </a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch4/">Chapter 4: Factory Pattern</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch5/">Chapter 5: Singleton Pattern</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch6/">Chapter 6: Command Pattern</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch7/">Chapter 7: Adapter and Facade Patterns</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch8/">Chapter 8: Template Method Pattern</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch9/">Chapter 9: Iterator and Composite Patterns</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">MultiThreading</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../java/multithreading/">Contents</a>
</li>
            
<li >
    <a href="../../../java/multithreading/pre1/">序章1 Java线程</a>
</li>
            
<li >
    <a href="../../../java/multithreading/pre2/">序章2 多线程程序的评价标准</a>
</li>
            
<li >
    <a href="../../../java/multithreading/ch1/">第1章 Single Threaded Execution模式</a>
</li>
            
<li >
    <a href="../../../java/multithreading/ch1/">第2章 Immutable模式</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">TIJ</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../java/tij/">Contents</a>
</li>
            
<li >
    <a href="../../../java/tij/ch1/">Chapter 1: Introduction</a>
</li>
            
<li >
    <a href="../../../java/tij/ch2/">Chapter 2: Introduction to Objects</a>
</li>
            
<li >
    <a href="../../../java/tij/ch3/">Chapter 3: Everything is an Object</a>
</li>
            
<li >
    <a href="../../../java/tij/ch4/">Chapter 4: Opertors</a>
</li>
            
<li >
    <a href="../../../java/tij/ch5/">Chapter 5: Controlling Execution</a>
</li>
            
<li >
    <a href="../../../java/tij/ch6/">Chapter 6: Initialization & Cleanup</a>
</li>
            
<li >
    <a href="../../../java/tij/ch7/">Chapter 7: Access Control</a>
</li>
            
<li >
    <a href="../../../java/tij/ch8/">Chapter 8: Reusing Clases</a>
</li>
            
<li >
    <a href="../../../java/tij/ch9/">Chapter 9: Polymorphism</a>
</li>
            
<li >
    <a href="../../../java/tij/ch10/">Chapter 10: Interfaces</a>
</li>
            
<li >
    <a href="../../../java/tij/ch11/">Chapter 11: Inner Classes</a>
</li>
            
<li >
    <a href="../../../java/tij/ch12/">Chapter 12: Holding Your Objects</a>
</li>
            
<li >
    <a href="../../../java/tij/ch13/">Chapter 13: Error Handling with Exceptions</a>
</li>
            
<li >
    <a href="../../../java/tij/ch14/">Chapter 14: Strings</a>
</li>
            
<li >
    <a href="../../../java/tij/ch15/">Chapter 15: Type Information</a>
</li>
            
<li >
    <a href="../../../java/tij/ch16/">Chapter 16: Generics</a>
</li>
            
<li >
    <a href="../../../java/tij/ch17/">Chapter 17: Arrays</a>
</li>
            
<li >
    <a href="../../../java/tij/ch18/">Chapter 18: Containers in Depth</a>
</li>
            
<li >
    <a href="../../../java/tij/ch19/">Chapter 19: I/O</a>
</li>
            
<li >
    <a href="../../../java/tij/ch20/">Chapter 20: Enumerated Types</a>
</li>
            
<li >
    <a href="../../../java/tij/ch21/">Chapter 21: Annotations</a>
</li>
            
<li >
    <a href="../../../java/tij/ch22/">Chapter 22: Concurrency</a>
</li>
            
<li >
    <a href="../../../java/tij/ch23/">Chapter 23: Graphical User Interfaces</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">UJVM</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../java/ujvm/">Contents</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch1/">Chapter 1 : 走进Java</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch2/">Chapter 2 : Java内存区域与内存溢出正常</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch3/">Chapter 3 : 垃圾收集器与内存分配策略</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch4/">Chapter 4 : 虚拟机性能监控与故障处理工具</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch5/">Chapter 5 : 调优案例分析与实战</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch6/">Chapter 6 : 类文件结构</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch7/">Chapter 7 : 虚拟机类加载机制</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch8/">Chapter 8 : 虚拟机字节码执行引擎</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch9/">Chapter 9 : 类加载及执行子系统的案例与实战</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch10/">Chapter 10 : 早期(编译期)优化</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch11/">Chapter 11 : 晚期(运行期)优化</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch12/">Chapter 12 : Java内存模型与线程</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch13/">Chapter 13 : 线程安全与锁优化</a>
</li>
            
<li >
    <a href="../../../java/ujvm/AppendixC/">Appendix HotSpot虚拟机主要参数列表</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">BigData <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../bigdata/">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">HADOOP</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/hadoop/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch1/">Chapter 1: Meet Hadoop</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch2/">Chapter 2: MapReduce</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch3/">Chapter 3: The Hadoop Distributed FileSystem</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch4/">Chapter 4: YARN</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch5/">Chapter 5: Hadoop I/O</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch6/">Chapter 6: Developing a MapReduce Application</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch7/">Chapter 7: How MapReduce Works</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch8/">Chapter 8: MapReduce Types and Formats</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch9/">Chapter 9: MapReduce Features</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch10/">Chapter 10: Setting Up a Hadoop Cluster</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch11/">Chapter 11: Adminstering Hadoop</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch12/">Chapter 12: Avro</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch13/">Chapter 13: Parquet</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch14/">Chapter 14: Flume</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch15/">Chapter 15: Sqoop</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch16/">Chapter 16: Pig</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch17/">Chapter 17: Hive</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch18/">Chapter 18: Crunch</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch19/">Chapter 19: Spark</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch20/">Chapter 20: HBase</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch21/">Chapter 21: ZooKeeper</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch22/">Chapter 22: Composable Data at Center</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch23/">Chapter 23: Biological Data Science: Saving Lives with Software</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch24/">Chapter 24: Cascading</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Spark</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/spark/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch1/">Chapter 1: Introduction to Data Analysis with Spark</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch2/">Chapter 2: Downloading Spark and Getting Started</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch3/">Chapter 3: Programming with RDDs</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch4/">Chapter 4: Working with Key/Value Pairs</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch5/">Chapter 5: Loading and Saving Your Data</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch6/">Chapter 6: Advanced Spark Programming</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch7/">Chapter 7: Running on a Cluster</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch8/">Chapter 8: Tuning and Debugging Spark</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch9/">Chapter 9: Spark SQL</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch10/">Chapter 10: Spark Streaming</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch11/">Chapter 11: Machine Learning with MLlib</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">GDM</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/gdm/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch1/">Chapter 1: 推荐系统入门</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch2/">Chapter 2: 隐式评价和基于物品的过滤算法</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch3/">Chapter 3: 分类</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch4/">Chapter 4: 进一步探索分类</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch5/">Chapter 5: 概率和朴素贝叶斯</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch6/">Chapter 6: 朴素贝叶斯和文本数据</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch7/">Chapter 7: 聚类</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">MLIA</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/mlia/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch1/">Chapter 1: 机器学习基础</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch2/">Chapter 2: k-近邻算法</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch3/">Chapter 3: 决策树</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch4/">Chapter 4: 基于概率论的分类方法：朴素贝叶斯</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch5/">Chapter 5: Logistic回归</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch6/">Chapter 6: 支持向量机</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch7/">Chapter 7: 利用AdaBoost元算法提高分类性能</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch8/">Chapter 8: 预测数值型数据：回归</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch9/">Chapter 9: 树回归</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch10/">Chapter 10: 利用Ｋ-均值聚类算法对未标注数据分组</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch11/">Chapter 11: 使用Apriori算法进行关联分析</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch11/">Chapter 12: 使用FP-growth算法来高效发现频繁项集</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch13/">Chapter 13: 利用PCA来简化数据</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Crawler</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/crawler/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch1/">Chapter 1: 开发环境配置</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch2/">Chapter 2: 爬虫基础</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch3/">Chapter 3: 基本库的使用</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch4/">Chapter 4: 解析库的使用</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch5/">Chapter 5: 数据存储</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch7/">Chapter 7: 动态渲染页面爬取</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch13/">Chapter 13: Scrapy框架的使用</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Projects</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/projects/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/projects/SparkStreaming实时流处理项目/">SparkStreaming实时流处理</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li >
                                <a href="../../../books/">Books</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>

                     <!--
                            <li >
                                <a rel="next" href="../">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../heap/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    -->
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#algorithm-stanford-dynammic-programming">Algorithm (Stanford), Dynammic Programming</a></li>
        <li class="main "><a href="#1-introduction">1. Introduction</a></li>
            <li><a href="#dynamic-programming-vs-divide-and-conquer-algorithm">Dynamic programming v.s. Divide-and-conquer algorithm</a></li>
            <li><a href="#approach">Approach</a></li>
            <li><a href="#top-down-with-memoization">Top-down with memoization</a></li>
            <li><a href="#bottom-up-method">Bottom-up method</a></li>
            <li><a href="#which-method">Which Method?</a></li>
        <li class="main "><a href="#2-application-maximum-weight-independent-set-of-path-graph">2 Application: Maximum weight independent set of path graph</a></li>
            <li><a href="#basis">Basis</a></li>
            <li><a href="#proposed-algorithm">Proposed algorithm</a></li>
            <li><a href="#implementation">Implementation</a></li>
        <li class="main "><a href="#3-application-0-1-knapsack-problem">3. Application: 0-1 Knapsack Problem</a></li>
            <li><a href="#bottom-up-method_1">Bottom-up method</a></li>
            <li><a href="#top-down-with-memoization_1">top-down with memoization</a></li>
            <li><a href="#analysis">Analysis</a></li>
            <li><a href="#reference">Reference</a></li>
        <li class="main "><a href="#4-application-optimal-binary-search-tree">4. Application: Optimal Binary Search Tree</a></li>
            <li><a href="#optimal-substructure">Optimal Substructure</a></li>
            <li><a href="#implementation-top-down-with-memoization">Implementation: top-down with memoization</a></li>
            <li><a href="#reference_1">Reference</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h3 id="algorithm-stanford-dynammic-programming"><strong>Algorithm (Stanford), Dynammic Programming</strong><a class="headerlink" href="#algorithm-stanford-dynammic-programming" title="Permanent link">&para;</a></h3>
<h3 id="1-introduction">1. Introduction<a class="headerlink" href="#1-introduction" title="Permanent link">&para;</a></h3>
<p><strong>Dynamic programming</strong> is a method for solving a complex problem by breaking it down into a collection of simpler subproblems, solving each of those subproblems just once, and storing their solutions. It stores solutions to subproblems instead of recomputing them(called <strong>memoization</strong> technique).</p>
<h4 id="dynamic-programming-vs-divide-and-conquer-algorithm">Dynamic programming v.s. Divide-and-conquer algorithm<a class="headerlink" href="#dynamic-programming-vs-divide-and-conquer-algorithm" title="Permanent link">&para;</a></h4>
<p><strong>Divide-and-conquer</strong> algorithms partition the problem into disjoint subproblems, solve the subproblems recursively, and then combine their solutions to solve the original problem. In contrast, <strong>dynamic programming</strong> partition the problem into subproblems that overlaps, that is, subproblems share subproblems.</p>
<h4 id="approach">Approach<a class="headerlink" href="#approach" title="Permanent link">&para;</a></h4>
<p>There are usually two equivalent ways to implement a dynamic-programming approach.</p>
<h4 id="top-down-with-memoization">Top-down with memoization<a class="headerlink" href="#top-down-with-memoization" title="Permanent link">&para;</a></h4>
<p>自顶向下法</p>
<p>We write the procedure recursively in a natural manner, but modified to save the result of each subproblem in the hash table. The procedure first checks to see whether it has previously solved this subproblem. If so, it returns the saved value, saving further computation at this level; if not, the procedure computes the value in the usual manner. </p>
<h4 id="bottom-up-method">Bottom-up method<a class="headerlink" href="#bottom-up-method" title="Permanent link">&para;</a></h4>
<p>自底向上法
We sort the subproblems by size and solve them in size order, smallest first. When solving a particular subproblem, we have already solved all of the smaller subproblems its solution depends upon, and we have saved their solutions. We solve each subproblem only once, and when we first see it, we have already solved all of its prerequisite subproblems.</p>
<h4 id="which-method">Which Method?<a class="headerlink" href="#which-method" title="Permanent link">&para;</a></h4>
<ul>
<li>Top-down approach often results in slightly simpler and clearer code.</li>
<li>Top-down approach only computes the partial results that are needed for the particular problem instance, whereas the bottom-up approach computes all partial results even if some of them go unused.</li>
</ul>
<h3 id="2-application-maximum-weight-independent-set-of-path-graph">2 Application: Maximum weight independent set of path graph<a class="headerlink" href="#2-application-maximum-weight-independent-set-of-path-graph" title="Permanent link">&para;</a></h3>
<p><strong>Input</strong>: A path graph <span><span class="MathJax_Preview">G=(V,E)</span><script type="math/tex">G=(V,E)</script></span> with nonnegative weights on vertices.</p>
<p><strong>Desired Output</strong>: subset of nonadjacent vertices - an <strong>independent set</strong>(独立集) of maximum total weight.</p>
<p><strong>Background</strong>:</p>
<ul>
<li>A <strong>path graph</strong> [<a href="https://en.wikipedia.org/wiki/Path_graph">wiki</a>] is a graph whose vertices can be listed in the order <span><span class="MathJax_Preview">v_1, v_2, …, v_n</span><script type="math/tex">v_1, v_2, …, v_n</script></span> such that the edges are {<span><span class="MathJax_Preview">v_i, v_{i+1}</span><script type="math/tex">v_i, v_{i+1}</script></span>} . A path graph is therefore a graph that can be drawn so that all of its vertices and edges lie on a single straight line.</li>
</ul>
<p><img alt="Path Graph" src="../figures/PathGraphDemo.png" /></p>
<ul>
<li>A <strong>Independent set</strong> is a set of vertices in a graph, no two of which are adjacent.</li>
</ul>
<p><img alt="IndepdentSetDemo" src="../figures/IndepdentSetDemo.jpg" /></p>
<h4 id="basis">Basis<a class="headerlink" href="#basis" title="Permanent link">&para;</a></h4>
<p>An optimal solution can have one of two properties:</p>
<ul>
<li>Case 1: Either the last element in the path is not part of the maximum weighted independent set (in which case we know that the solution is equally valid for the subgraph G' formed by popping the last vertex off the path)</li>
<li>Case 2: Or the last element is part of the set (in which case we know that the predecessor cannot be part of the set, and the solution minus the last vertex is equally valid for the subgraph G'' formed by popping off the last two vertices of the path)</li>
</ul>
<p><img alt="independentSetAnalysis" src="../figures/independentSetAnalysis.png" /></p>
<h4 id="proposed-algorithm">Proposed algorithm<a class="headerlink" href="#proposed-algorithm" title="Permanent link">&para;</a></h4>
<p>A dynamic programming approach can solve the problem in linear time:</p>
<ul>
<li>The first time solving a subproblem, cache its solution in a global table for O(1)-time lookup later on.<ul>
<li>Plan: Populate array <span><span class="MathJax_Preview">A</span><script type="math/tex">A</script></span> left to right with <span><span class="MathJax_Preview">A[i]</span><script type="math/tex">A[i]</script></span> = value of max-weight Independent Set of <span><span class="MathJax_Preview">G_i</span><script type="math/tex">G_i</script></span> .</li>
<li>Initialization: <span><span class="MathJax_Preview">A[0] = 0, A[1] = w_1</span><script type="math/tex">A[0] = 0, A[1] = w_1</script></span></li>
<li>Main loop: For <span><span class="MathJax_Preview">i = 2, 3, . . . , n</span><script type="math/tex">i = 2, 3, . . . , n</script></span>:
<span><span class="MathJax_Preview">A[i] = \max\{ A[i − 1] , A[i − 2] + w_i \}</span><script type="math/tex">A[i] = \max\{ A[i − 1] , A[i − 2] + w_i \}</script></span></li>
</ul>
</li>
<li>A Reconstruction: the algorithm above computes the <em>value</em> of a max-weight IS, not such an IS itself. So trace back through filled-in array to reconstruct optimal solution.<ul>
<li>While i ≥ 1 [scan through array from right to left]<ul>
<li>If <span><span class="MathJax_Preview">A[i − 1] ≥ A[i − 2] + w_i</span><script type="math/tex">A[i − 1] ≥ A[i − 2] + w_i</script></span> [i.e. case 1 wins]<ul>
<li>Decrease <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> by 1</li>
</ul>
</li>
<li>Else [i.e., case 2 wins]<ul>
<li>Add <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> to S, decrease <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> by 2</li>
</ul>
</li>
</ul>
</li>
<li>Return S</li>
</ul>
</li>
</ul>
<h4 id="implementation">Implementation<a class="headerlink" href="#implementation" title="Permanent link">&para;</a></h4>
<p>Java代码：</p>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>static</span> <span class=kt>int</span><span class=o>[]</span> <span class=nf>getMaximumWeightIndependentSet</span><span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>weights</span><span class=o>)</span> <span class=o>{</span>
    <span class=c1>// setWeights: for ith item, it holds maximum weights of previous i weights.</span>
    <span class=kt>int</span><span class=o>[]</span> <span class=n>setWeights</span> <span class=o>=</span>  <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>weights</span><span class=o>.</span><span class=na>length</span> <span class=o>+</span> <span class=mi>1</span><span class=o>];</span>

    <span class=c1>// Base conditions.</span>
    <span class=n>setWeights</span><span class=o>[</span><span class=mi>0</span><span class=o>]</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span>
    <span class=n>setWeights</span><span class=o>[</span><span class=mi>1</span><span class=o>]</span> <span class=o>=</span> <span class=n>weights</span><span class=o>[</span><span class=mi>0</span><span class=o>];</span>

    <span class=c1>// The max weight will be the max of:</span>
    <span class=c1>// Case 1: the last element in the path is not part of the maximum weighted IS.</span>
    <span class=c1>// then max weight will be previous max weight.</span>
    <span class=c1>// Case 2: the last element in the path is not part of the maximum weighted IS,</span>
    <span class=c1>// then max weight will be, previous vertex + weight of current vertex.</span>
    <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>weights</span><span class=o>.</span><span class=na>length</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
        <span class=n>setWeights</span><span class=o>[</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=o>]</span> <span class=o>=</span> <span class=n>Math</span><span class=o>.</span><span class=na>max</span><span class=o>(</span><span class=n>setWeights</span><span class=o>[</span><span class=n>i</span><span class=o>],</span> <span class=n>setWeights</span><span class=o>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=o>]</span> <span class=o>+</span> <span class=n>weights</span><span class=o>[</span><span class=n>i</span><span class=o>]);</span>

    <span class=c1>// list to hold each index of the max weight independent set</span>
    <span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>maxWeightIndependentSet</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;();</span>

    <span class=c1>// Reconstruct the max weight independent set.</span>
    <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>setWeights</span><span class=o>.</span><span class=na>length</span> <span class=o>-</span> <span class=mi>1</span><span class=o>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>1</span><span class=o>;</span> <span class=o>)</span>
        <span class=k>if</span> <span class=o>(</span><span class=n>setWeights</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>&gt;</span> <span class=n>setWeights</span><span class=o>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=o>])</span> <span class=o>{</span>
            <span class=n>maxWeightIndependentSet</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>i</span><span class=o>);</span>
            <span class=n>i</span> <span class=o>-=</span> <span class=mi>2</span><span class=o>;</span>
        <span class=o>}</span> <span class=k>else</span> <span class=n>i</span> <span class=o>-=</span> <span class=mi>1</span><span class=o>;</span>

    <span class=k>return</span> <span class=n>Ints</span><span class=o>.</span><span class=na>toArray</span><span class=o>(</span><span class=n>maxWeightIndependentSet</span><span class=o>);</span>
<span class=o>}</span>
</pre></div></p>
<p><details><summary>Python代码</summary></p>
<p> <div class=codehilite><pre><span class=k>def</span> <span class=nf>maximum_weight_independent_set</span><span class=p>(</span><span class=n>weights</span><span class=p>):</span>
    <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Compute Maximum weight independent set for a path graph.</span>
<span class=sd>    Weights of vertexes in the path graph are given.</span>
<span class=sd>    Return maximum weight independent set.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>num</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>weights</span><span class=p>)</span>
    <span class=n>a</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=p>(</span><span class=n>num</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>
    <span class=n>in_set</span> <span class=o>=</span> <span class=p>[]</span>  <span class=c1># independent set</span>
    <span class=n>a</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>a</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>weights</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>

    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=n>num</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span>
        <span class=n>a</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>a</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>],</span> <span class=n>a</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>2</span><span class=p>]</span> <span class=o>+</span> <span class=n>weights</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>])</span>

    <span class=n>i</span> <span class=o>=</span> <span class=n>num</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
    <span class=k>while</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>1</span><span class=p>:</span> <span class=c1># start i: # last element</span>
        <span class=k>if</span> <span class=n>a</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=n>a</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>2</span><span class=p>]</span> <span class=o>+</span> <span class=n>weights</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]:</span> <span class=c1># last vertex not in set</span>
            <span class=n>i</span> <span class=o>-=</span> <span class=mi>1</span>
        <span class=k>else</span><span class=p>:</span> <span class=c1># last vertex is in set</span>
            <span class=n>in_set</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>
            <span class=n>i</span> <span class=o>-=</span> <span class=mi>2</span>
    <span class=n>in_set</span><span class=o>.</span><span class=n>reverse</span><span class=p>()</span>
    <span class=k>return</span> <span class=n>in_set</span>
</pre></div></p>
<p></details></p>
<h3 id="3-application-0-1-knapsack-problem">3. Application: 0-1 Knapsack Problem<a class="headerlink" href="#3-application-0-1-knapsack-problem" title="Permanent link">&para;</a></h3>
<p>The most common problem being solved is the <strong>0-1 knapsack problem</strong>(0-1背包问题), which restricts the number of copies of each kind of item to <em>zero or one</em>. Given a set of <span><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span> items numbered from 1 up to <span><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span>, each with a weight <span><span class="MathJax_Preview">w_i</span><script type="math/tex">w_i</script></span> and a value <span><span class="MathJax_Preview">v_i</span><script type="math/tex">v_i</script></span>, along with a maximum weight capacity <span><span class="MathJax_Preview">W</span><script type="math/tex">W</script></span>,</p>
<div>
<div class="MathJax_Preview">\begin{equation}
\begin{split}
&amp;\text{maximize} \sum_{i=1}^nv_ix_i\\
&amp;\text{subject to} \sum_{i=1}^n w_ix_i \le W \quad \text{and} \quad x_i \in \{0,1\}\\
\end{split}
\end{equation}</div>
<script type="math/tex; mode=display">\begin{equation}
\begin{split}
&\text{maximize} \sum_{i=1}^nv_ix_i\\
&\text{subject to} \sum_{i=1}^n w_ix_i \le W \quad \text{and} \quad x_i \in \{0,1\}\\
\end{split}
\end{equation}</script>
</div>
<p>Informally, the problem is to maximize the sum of the values of the items in the knapsack so that the sum of the weights is less than or equal to the knapsack's capacity.</p>
<p><img alt="01KnapsackProblemDemo" src="../figures/01KnapsackProblemDemo.png" /></p>
<h4 id="bottom-up-method_1">Bottom-up method<a class="headerlink" href="#bottom-up-method_1" title="Permanent link">&para;</a></h4>
<p><hh> Solving</hh></p>
<p>Assume <span><span class="MathJax_Preview">w_i, w_2,..., w_n, W</span><script type="math/tex">w_i, w_2,..., w_n, W</script></span> are strictly positive integers. Define <span><span class="MathJax_Preview">m[i, w]</span><script type="math/tex">m[i, w]</script></span> to be the maximum value that can be attained with weight less than or equal to <span><span class="MathJax_Preview">w</span><script type="math/tex">w</script></span> using items up to <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> (first <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> items).</p>
<p>We can define <span><span class="MathJax_Preview">m[i,w]</span><script type="math/tex">m[i,w]</script></span> recursively as follows:</p>
<ul>
<li><span><span class="MathJax_Preview">m[0, w]=0</span><script type="math/tex">m[0, w]=0</script></span></li>
<li><span><span class="MathJax_Preview">m[i,w]=m[i-1, w], \text{if}\quad w_i &gt; w</span><script type="math/tex">m[i,w]=m[i-1, w], \text{if}\quad w_i > w</script></span> ( the new item is more than the current weight limit)</li>
<li><span><span class="MathJax_Preview">m[i,w]= \max(m[i-1,w],m[i-1,w-w_i]+v_i), \text{if}\quad w_i \le w</span><script type="math/tex">m[i,w]= \max(m[i-1,w],m[i-1,w-w_i]+v_i), \text{if}\quad w_i \le w</script></span></li>
</ul>
<pre>m(i, w) = max( m(i-1, w), m(i-1, w-weight[i]) + cost[i] )
               ^^^^^^^^^  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
               不放 -&gt; 0            有放 -&gt; 1
</pre>

<p>The following is pseudo code for the dynamic program:</p>
<p> <div class=codehilite><pre><span class=o>//</span> <span class=n>Input</span><span class=p>:</span>
<span class=o>//</span> <span class=n>Values</span> <span class=p>(</span><span class=n>stored</span> <span class=ow>in</span> <span class=n>array</span> <span class=n>v</span><span class=p>)</span>
<span class=o>//</span> <span class=n>Weights</span> <span class=p>(</span><span class=n>stored</span> <span class=ow>in</span> <span class=n>array</span> <span class=n>w</span><span class=p>)</span>
<span class=o>//</span> <span class=n>Number</span> <span class=n>of</span> <span class=n>distinct</span> <span class=n>items</span> <span class=p>(</span><span class=n>n</span><span class=p>)</span>
<span class=o>//</span> <span class=n>Knapsack</span> <span class=n>capacity</span> <span class=p>(</span><span class=n>W</span><span class=p>)</span>

<span class=k>for</span> <span class=n>j</span> <span class=kn>from</span> <span class=mi>0</span> <span class=n>to</span> <span class=n>W</span> <span class=n>do</span><span class=p>:</span>
     <span class=n>m</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=n>j</span><span class=p>]</span> <span class=p>:</span><span class=o>=</span> <span class=mi>0</span>

<span class=k>for</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=o>..</span><span class=p>,</span><span class=n>n</span><span class=p>:</span>
    <span class=k>for</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=o>...</span><span class=p>,</span><span class=n>W</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>w</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>j</span> <span class=n>then</span><span class=p>:</span>
            <span class=n>m</span><span class=p>[</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>]</span> <span class=p>:</span><span class=o>=</span> <span class=n>m</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=n>j</span><span class=p>]</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>m</span><span class=p>[</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>]</span> <span class=p>:</span><span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>m</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=n>j</span><span class=p>],</span> <span class=n>m</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=n>j</span><span class=o>-</span><span class=n>w</span><span class=p>[</span><span class=n>i</span><span class=p>]]</span> <span class=o>+</span> <span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>])</span>
</pre></div></p>
<p><hh>Implementation</hh></p>
<p> <div class=codehilite><pre><span class=cm>/**</span>
<span class=cm> * 0/1 knapsack problem</span>
<span class=cm> * @param values: values of items to put in the knapsack</span>
<span class=cm> * @param weights: weights of items to put in the knapsack</span>
<span class=cm> * @param maxWeight: a maximum weight capacity of the knapsack</span>
<span class=cm> * @return</span>
<span class=cm> *</span>
<span class=cm> */</span>
<span class=kd>public</span> <span class=kd>static</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=nf>knapsack</span><span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>values</span><span class=o>,</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>weights</span><span class=o>,</span>  <span class=kt>int</span> <span class=n>maxWeight</span><span class=o>)</span> <span class=o>{</span>
    <span class=c1>// m[i][j] to be the maximum value that can be attained with weight less than or equal to j,</span>
    <span class=c1>// using first i items</span>
    <span class=kt>int</span><span class=o>[][]</span> <span class=n>m</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>values</span><span class=o>.</span><span class=na>length</span> <span class=o>+</span> <span class=mi>1</span><span class=o>][</span><span class=n>maxWeight</span> <span class=o>+</span> <span class=mi>1</span><span class=o>];</span>

    <span class=c1>// initialze: using first i=0 items, obviously, their maximum value is zero.</span>
    <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>j</span> <span class=o>&lt;=</span> <span class=n>maxWeight</span><span class=o>;</span> <span class=n>j</span><span class=o>++)</span>
        <span class=n>m</span><span class=o>[</span><span class=mi>0</span><span class=o>][</span><span class=n>j</span><span class=o>]</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span>

    <span class=c1>// cal m</span>
    <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>m</span><span class=o>.</span><span class=na>length</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>1</span><span class=o>;</span> <span class=n>j</span> <span class=o>&lt;=</span> <span class=n>maxWeight</span><span class=o>;</span> <span class=n>j</span><span class=o>++)</span> <span class=o>{</span>
            <span class=kt>int</span> <span class=n>curWeight</span> <span class=o>=</span> <span class=n>weights</span><span class=o>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=o>];</span>
            <span class=k>if</span> <span class=o>(</span><span class=n>curWeight</span> <span class=o>&gt;</span> <span class=n>j</span><span class=o>)</span> <span class=n>m</span><span class=o>[</span><span class=n>i</span><span class=o>][</span><span class=n>j</span><span class=o>]</span> <span class=o>=</span> <span class=n>m</span><span class=o>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=o>][</span><span class=n>j</span><span class=o>];</span>
                <span class=c1>// max(either not put , or put)</span>
            <span class=k>else</span>
                <span class=n>m</span><span class=o>[</span><span class=n>i</span><span class=o>][</span><span class=n>j</span><span class=o>]</span> <span class=o>=</span> <span class=n>Math</span><span class=o>.</span><span class=na>max</span><span class=o>(</span><span class=n>m</span><span class=o>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=o>][</span><span class=n>j</span><span class=o>],</span> <span class=n>values</span><span class=o>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=o>]</span> <span class=o>+</span> <span class=n>m</span><span class=o>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=o>][</span><span class=n>j</span> <span class=o>-</span> <span class=n>curWeight</span><span class=o>]);</span>
        <span class=o>}</span>


    <span class=c1>// trace back to get items</span>
    <span class=kt>int</span> <span class=n>max_val</span> <span class=o>=</span> <span class=n>m</span><span class=o>[</span><span class=n>values</span><span class=o>.</span><span class=na>length</span><span class=o>][</span><span class=n>maxWeight</span><span class=o>];</span>
    <span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>items</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;();</span>

    <span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>values</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
    <span class=k>while</span> <span class=o>(</span><span class=n>max_val</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>i</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>if</span> <span class=o>(</span><span class=n>Ints</span><span class=o>.</span><span class=na>contains</span><span class=o>(</span><span class=n>m</span><span class=o>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=o>],</span> <span class=n>max_val</span> <span class=o>-</span> <span class=n>values</span><span class=o>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=o>]))</span> <span class=o>{</span>
            <span class=n>max_val</span> <span class=o>=</span> <span class=n>max_val</span> <span class=o>-</span> <span class=n>values</span><span class=o>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=o>];</span>
            <span class=n>items</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=o>);</span>
        <span class=o>}</span>
        <span class=n>i</span><span class=o>--;</span>
    <span class=o>}</span>
    <span class=k>return</span> <span class=n>items</span><span class=o>;</span>
<span class=o>}</span>
</pre></div></p>
<p><details><summary>Python代码</summary></p>
<p> <div class=codehilite><pre><span class=k>def</span> <span class=nf>knapsack01</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>weight</span><span class=p>,</span> <span class=n>w_size</span><span class=p>):</span>
    <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    kanapsack01 solves a 0-1 knapsack problem,</span>
<span class=sd>    input: values(value) and weights(W) of items to put into knapsack ( size of which is w_size)</span>
<span class=sd>    output: the index of items that maximize the value of items putted in the knapsack</span>
<span class=sd>    the index of items counts from 0, and corresponding value</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>n</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>  <span class=c1># the number of items</span>
    <span class=c1># maximum value that can be attained with weight &lt;= weight using first i items</span>
    <span class=n>m</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>zeros</span><span class=p>(</span><span class=n>shape</span><span class=o>=</span><span class=p>(</span><span class=n>n</span><span class=o>+</span><span class=mi>1</span><span class=p>,</span> <span class=n>w_size</span><span class=o>+</span><span class=mi>1</span><span class=p>),</span> <span class=n>dtype</span><span class=o>=</span><span class=nb>int</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>w_size</span><span class=o>+</span><span class=mi>1</span><span class=p>):</span>
        <span class=n>m</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>w_size</span><span class=p>,</span> <span class=nb>int</span><span class=p>):</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s1>&#39;knapsack_size should be an integer&#39;</span><span class=p>)</span>

    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>n</span><span class=o>+</span><span class=mi>1</span><span class=p>):</span>  <span class=c1># items</span>
        <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>w_size</span><span class=o>+</span><span class=mi>1</span><span class=p>):</span>  <span class=c1># sizes</span>
            <span class=k>if</span> <span class=n>weight</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>j</span><span class=p>:</span>
                <span class=n>m</span><span class=p>[</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>m</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>j</span><span class=p>]</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>m</span><span class=p>[</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>m</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>j</span><span class=p>],</span> <span class=n>m</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>j</span> <span class=o>-</span> <span class=n>weight</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>]]</span> <span class=o>+</span> <span class=n>value</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>

    <span class=n>max_val</span> <span class=o>=</span> <span class=n>m</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>]</span>
    <span class=n>items</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>

    <span class=k>while</span> <span class=n>max_val</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=ow>and</span> <span class=n>i</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>max_val</span> <span class=o>-</span> <span class=n>value</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=ow>in</span> <span class=n>m</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=p>:]:</span>
            <span class=n>max_val</span> <span class=o>=</span> <span class=n>max_val</span> <span class=o>-</span> <span class=n>value</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
            <span class=n>items</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>
            <span class=n>i</span> <span class=o>-=</span> <span class=mi>1</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>i</span> <span class=o>-=</span> <span class=mi>1</span>
    <span class=k>return</span> <span class=n>items</span><span class=p>,</span> <span class=n>m</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</pre></div></p>
<p></details></p>
<h4 id="top-down-with-memoization_1">top-down with memoization<a class="headerlink" href="#top-down-with-memoization_1" title="Permanent link">&para;</a></h4>
<p> <div class=codehilite><pre><span class=k>def</span> <span class=nf>knapsack01_recursive</span><span class=p>(</span><span class=n>hash_table</span><span class=p>,</span> <span class=n>value</span><span class=p>,</span> <span class=n>weight</span><span class=p>,</span> <span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>):</span>
    <span class=c1># base case: when 1 items here</span>
    <span class=k>if</span> <span class=n>i</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>weight</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>j</span><span class=p>:</span>
            <span class=n>hash_table</span><span class=p>[(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>)]</span> <span class=o>=</span> <span class=n>value</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span>
            <span class=k>return</span> <span class=n>value</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>hash_table</span><span class=p>[(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>)]</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=k>return</span> <span class=mi>0</span>

    <span class=c1># sub-problem computed</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>)</span> <span class=ow>in</span> <span class=n>hash_table</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>hash_table</span><span class=p>[(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>)]</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>weight</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>j</span><span class=p>:</span>
            <span class=c1># only case 1</span>
            <span class=n>hash_table</span><span class=p>[(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>)]</span> <span class=o>=</span> <span class=n>knapsack01_recursive</span><span class=p>(</span><span class=n>hash_table</span><span class=p>,</span> <span class=n>value</span><span class=p>,</span> <span class=n>weight</span><span class=p>,</span> <span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>j</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=c1>#  case 1, item i-1 excluded</span>
            <span class=n>case1</span> <span class=o>=</span> <span class=n>knapsack01_recursive</span><span class=p>(</span><span class=n>hash_table</span><span class=p>,</span> <span class=n>value</span><span class=p>,</span> <span class=n>weight</span><span class=p>,</span> <span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>j</span><span class=p>)</span>
            <span class=c1># case 2, item i-1 included</span>
            <span class=n>case2</span> <span class=o>=</span> <span class=n>knapsack01_recursive</span><span class=p>(</span><span class=n>hash_table</span><span class=p>,</span> <span class=n>value</span><span class=p>,</span> <span class=n>weight</span><span class=p>,</span> <span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>j</span> <span class=o>-</span> <span class=n>weight</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>])</span> <span class=o>+</span> <span class=n>value</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span>
            <span class=n>hash_table</span><span class=p>[(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>)]</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>case1</span><span class=p>,</span> <span class=n>case2</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>hash_table</span><span class=p>[(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>)]</span>
</pre></div></p>
<h4 id="analysis">Analysis<a class="headerlink" href="#analysis" title="Permanent link">&para;</a></h4>
<p>The running time of this algorithm is <span><span class="MathJax_Preview">Θ(nW)</span><script type="math/tex">Θ(nW)</script></span>.</p>
<h4 id="reference">Reference<a class="headerlink" href="#reference" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Knapsack_problem#cite_ref-plateau85_15-0">Knapsack Problem WIKIPEDIA</a></li>
<li><a href="https://stackoverflow.com/questions/5683066/knapsack-problem-classic">Knapsack problem Stack Overflow</a></li>
<li><a href="http://www.es.ele.tue.nl/education/5MC10/Solutions/knapsack.pdf">The knapsack Problem PPT</a></li>
</ul>
<h3 id="4-application-optimal-binary-search-tree">4. Application: Optimal Binary Search Tree<a class="headerlink" href="#4-application-optimal-binary-search-tree" title="Permanent link">&para;</a></h3>
<p>An <strong>Optimal Binary Search Tree (Optimal BST)</strong> is a binary search tree which provides the smallest possible search time for a given sequence of access probabilities. The cost of a BST node is the level of that node plus one multiplied by its frequency.</p>
<p><strong>Problem Statement</strong>: Given a sorted array <code class="codehilite">keys[0.. n-1]</code> of search keys and an array <code class="codehilite">freq[0.. n-1]</code> of frequency counts, where <code class="codehilite">freq[i]</code> is the number of searches to <code class="codehilite">keys[i]</code>. Construct a binary search tree of all keys such that the total cost of all the searches is as small as possible.</p>
<h4 id="optimal-substructure">Optimal Substructure<a class="headerlink" href="#optimal-substructure" title="Permanent link">&para;</a></h4>
<p>The optimal cost of node <span><span class="MathJax_Preview">i,...,j</span><script type="math/tex">i,...,j</script></span> can be recursively calculated using the following formula.</p>
<p><span><span class="MathJax_Preview">Cost(i,j) = \sum \limits^{j}_{k=i}freq[k] + \min \limits_{r=i}^j[Cost(i,r-1)+Cost(r+1,j)]</span><script type="math/tex">Cost(i,j) = \sum \limits^{j}_{k=i}freq[k] + \min \limits_{r=i}^j[Cost(i,r-1)+Cost(r+1,j)]</script></span></p>
<p>We try all nodes one by one as root (<span><span class="MathJax_Preview">r</span><script type="math/tex">r</script></span> varies from <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> to <span><span class="MathJax_Preview">j</span><script type="math/tex">j</script></span>). When we make <span><span class="MathJax_Preview">r</span><script type="math/tex">r</script></span>th node as root, we recursively calculate optimal cost from <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> to <span><span class="MathJax_Preview">r-1</span><script type="math/tex">r-1</script></span> and <span><span class="MathJax_Preview">r+1</span><script type="math/tex">r+1</script></span> to <span><span class="MathJax_Preview">j</span><script type="math/tex">j</script></span>. </p>
<h4 id="implementation-top-down-with-memoization">Implementation: top-down with memoization<a class="headerlink" href="#implementation-top-down-with-memoization" title="Permanent link">&para;</a></h4>
<p> <div class=codehilite><pre><span class=k>def</span> <span class=nf>optimal_bst</span><span class=p>(</span><span class=n>freq</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>opt_cost</span><span class=p>(</span><span class=n>hash_table</span><span class=p>,</span> <span class=n>freq</span><span class=p>,</span> <span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        Optimal Binary Search Tree</span>
<span class=sd>        Recursive Method used here</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=c1># base case: only 0~1 element</span>
        <span class=k>if</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>i</span><span class=p>:</span>
            <span class=k>return</span> <span class=mi>0</span>
        <span class=k>if</span> <span class=n>j</span> <span class=o>==</span> <span class=n>i</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>freq</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>

        <span class=c1># if already exists</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>)</span> <span class=ow>in</span> <span class=n>hash_table</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>hash_table</span><span class=p>[(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>)]</span>

        <span class=n>min_cost</span> <span class=o>=</span> <span class=n>sys</span><span class=o>.</span><span class=n>maxsize</span>
        <span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span>
            <span class=n>cost</span> <span class=o>=</span> <span class=n>opt_cost</span><span class=p>(</span><span class=n>hash_table</span><span class=p>,</span> <span class=n>freq</span><span class=p>,</span> <span class=n>i</span><span class=p>,</span> <span class=n>r</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=o>+</span> <span class=n>opt_cost</span><span class=p>(</span><span class=n>hash_table</span><span class=p>,</span> <span class=n>freq</span><span class=p>,</span> <span class=n>r</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>j</span><span class=p>)</span>
            <span class=k>if</span> <span class=n>cost</span> <span class=o>&lt;</span> <span class=n>min_cost</span><span class=p>:</span>
                <span class=n>min_cost</span> <span class=o>=</span> <span class=n>cost</span>

        <span class=n>hash_table</span><span class=p>[(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>)]</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>freq</span><span class=p>[</span><span class=n>i</span><span class=p>:</span><span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>])</span> <span class=o>+</span> <span class=n>min_cost</span>
        <span class=k>return</span> <span class=n>hash_table</span><span class=p>[(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>)]</span>

    <span class=k>return</span> <span class=n>opt_cost</span><span class=p>({},</span> <span class=n>freq</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>freq</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>
</pre></div></p>
<h4 id="reference_1">Reference<a class="headerlink" href="#reference_1" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="http://ac.els-cdn.com/S0304397596003209/1-s2.0-S0304397596003209-main.pdf?_tid=1505980e-7cd4-11e7-83de-00000aacb361&amp;acdnat=1502263778_53b76d131a06906e9fe3adfadc778677">Optimal Binary Search Tree</a></li>
<li><a href="http://www.geeksforgeeks.org/dynamic-programming-set-24-optimal-binary-search-tree/">Optimal Binary Search Tree GeeksforGeeks</a></li>
</ul></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../../../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
        <script src="../../../extra_javascript/tabhack.js" defer></script>
        <script src="../../../extra_javascript/baidu.js" defer></script>
        <script src="../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
