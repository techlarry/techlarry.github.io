<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Zhenhua Wang">
        <link rel="canonical" href="http://larryim.cc/note/algorithm/algorithmStanford/hashtable/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Topic: Hash Table - Zhenhua's Notes</title>
        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/docco.min.css">
        <link href="../../../extra_css/custom.css" rel="stylesheet">
        <link href="../../../extra_css/custom.js" rel="stylesheet">
        <link href="../../../extra_css/friendly.css" rel="stylesheet">
        <link href="../../../extra_css/theme.css" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/lunr-0.5.7.min.js" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/mustache.min.js" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/require.js" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/search.js" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/text.js" rel="stylesheet">
        <link href="../../../extra_css/code-tab.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../../..">Zhenhua's Notes</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../../..">Home</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Algorithm <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">AlgorithmPrinceton</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../algorithmPrinceton/">Contents</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/unionfind/">Topic 1: UnionFind</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/stackqueue/">Topic 2: StackQueue</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/sort/">Topic 3: Sort</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/priorityqueue/">Topic 4: PriorityQueues</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/symboltable/">Topic 5: Symbol Tables</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/bst/">Topic 6: Balanced Search Trees</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/hashtable/">Topic 7: Hash Table</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/graph/">Topic 8: Graph</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/mst_shortestpath/">Topic 9: Minimum Spanning Tree and Shortest Path</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/stringsort/">Topic 11: String Sort</a>
</li>
            
<li >
    <a href="../../algorithmPrinceton/tries/">Topic 12: Tries</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">AlgorithmStanford</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../">Contents</a>
</li>
            
<li >
    <a href="../dynamicprogramming/">Topic: Dynammic Programming</a>
</li>
            
<li >
    <a href="../heap/">Topic: Heap</a>
</li>
            
<li >
    <a href="../graph/">Topic: Graph</a>
</li>
            
<li >
    <a href="../greedy/">Topic: Greedy Algorithm</a>
</li>
            
<li class="active">
    <a href="./">Topic: Hash Table</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">CS61B</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../calgorithm/s61b/index.md">Contents</a>
</li>
            
<li >
    <a href="../../cs61b/Lab1/">Lab1: javac, java, git</a>
</li>
            
<li >
    <a href="../../cs61b/Lab2/">Lab2: Unit Testing with JUnit and IntLists</a>
</li>
            
<li >
    <a href="../../cs61b/Lab3/">Lab3: Unit Testing with JUnit, Debugging</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">OS <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../os/">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">OSC</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../os/osc/">Contents</a>
</li>
            
<li >
    <a href="../../../os/osc/ch1/">Chapter 1: Introduction </a>
</li>
            
<li >
    <a href="../../../os/osc/ch2/">Chapter 2: Operating System structures</a>
</li>
            
<li >
    <a href="../../../os/osc/ch3/">Chapter 3: Processes</a>
</li>
            
<li >
    <a href="../../../os/osc/ch4/">Chapter 4: Threads and Concurrency</a>
</li>
            
<li >
    <a href="../../../os/osc/ch5/">Chapter 5: CPU Scheduling</a>
</li>
            
<li >
    <a href="../../../os/osc/ch6/">Chapter 6: Synchronization Tools</a>
</li>
            
<li >
    <a href="../../../os/osc/ch7/">Chapter 7: Synchronization Examples</a>
</li>
            
<li >
    <a href="../../../os/osc/ch8/">Chapter 8: Deadlocks</a>
</li>
            
<li >
    <a href="../../../os/osc/ch9/">Chapter 9: Main Memory</a>
</li>
            
<li >
    <a href="../../../os/osc/ch10/">Chapter 10: Virtual Memory</a>
</li>
            
<li >
    <a href="../../../os/osc/ch11/">Chapter 11: Mass-Storage Structure</a>
</li>
            
<li >
    <a href="../../../os/osc/ch13/">Chapter 13: File-System Interfaces</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">CSAPP</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../os/csapp/">Contents</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch1/">Chapter 1: 计算机系统漫游</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch2/">Chapter 2: 信息的表示和处理</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch3/">Chapter 3: 程序的机器级表示</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch4/">Chapter 4: 处理器体系结构</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch5/">Chapter 5: 优化程序性能</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch6/">Chapter 6: 存储器层次结构</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch7/">Chapter 7: 链接</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch8/">Chapter 8: 异常控制流</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch9/">Chapter 9: 虚拟内存</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch10/">Chapter 10: 系统级I/O</a>
</li>
            
<li >
    <a href="../../../csapp/ch11.md">Chapter 11: 网络编程</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">DataBase <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../database/">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">MySql</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../database/mysql/">Contents</a>
</li>
            
<li >
    <a href="../../../database/mysql/LearningMySQLandMariaDB/">Chapter Learning MySQL and MariaDB</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Java <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../java/">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">HFJ</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../java/hfj/">Contents</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch1/">Chapter 1: Dive in A Quick Dip</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch2/">Chapter 2: Classes and Objects</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch3/">Chapter 3: Primitives and References</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch4/">Chapter 4: Methods use Instance Variables</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch5/">Chapter 5: Writing a Program</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch6/">Chapter 6: Get to Know the Java API</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch7/">Chapter 7: Inheritance and Polymorphism</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch8/">Chapter 8: Interfaces and Abstract Classes</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch9/">Chapter 9: Constructors and Garbage Collection</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch10/">Chapter 10: Numbers and Statics</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch11/">Chapter 11: Exception Handling</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch12/">Chapter 12: Getting GUI</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch13/">Chapter 13: Using Swing</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch14/">Chapter 14: Serialization and File I/O</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch15/">Chapter 15: Networking and Threads</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch16/">Chapter 16: Collections and Generics</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch17/">Chapter 17: Packages, Jars and Deployment</a>
</li>
            
<li >
    <a href="../../../java/hfj/ch18/">Chapter 18: Remote deploy with RMI</a>
</li>
            
<li >
    <a href="../../../java/hfj/Appendix/">Appendix: The Top Ten Topics</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">HFDP</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../java/hfdp/">Contents</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch1/">Chapter 1: Strategy Pattern </a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch2/">Chapter 2: Observer Pattern</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch3/">Chapter 3: Decorator Pattern </a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch4/">Chapter 4: Factory Pattern</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch5/">Chapter 5: Singleton Pattern</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch6/">Chapter 6: Command Pattern</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch7/">Chapter 7: Adapter and Facade Patterns</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch8/">Chapter 8: Template Method Pattern</a>
</li>
            
<li >
    <a href="../../../java/hfdp/ch9/">Chapter 9: Iterator and Composite Patterns</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">TIJ</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../java/tij/">Contents</a>
</li>
            
<li >
    <a href="../../../java/tij/ch1/">Chapter 1: Introduction</a>
</li>
            
<li >
    <a href="../../../java/tij/ch2/">Chapter 2: Introduction to Objects</a>
</li>
            
<li >
    <a href="../../../java/tij/ch3/">Chapter 3: Everything is an Object</a>
</li>
            
<li >
    <a href="../../../java/tij/ch4/">Chapter 4: Opertors</a>
</li>
            
<li >
    <a href="../../../java/tij/ch5/">Chapter 5: Controlling Execution</a>
</li>
            
<li >
    <a href="../../../java/tij/ch6/">Chapter 6: Initialization & Cleanup</a>
</li>
            
<li >
    <a href="../../../java/tij/ch7/">Chapter 7: Access Control</a>
</li>
            
<li >
    <a href="../../../java/tij/ch8/">Chapter 8: Reusing Clases</a>
</li>
            
<li >
    <a href="../../../java/tij/ch9/">Chapter 9: Polymorphism</a>
</li>
            
<li >
    <a href="../../../java/tij/ch10/">Chapter 10: Interfaces</a>
</li>
            
<li >
    <a href="../../../java/tij/ch11/">Chapter 11: Inner Classes</a>
</li>
            
<li >
    <a href="../../../java/tij/ch12/">Chapter 12: Holding Your Objects</a>
</li>
            
<li >
    <a href="../../../java/tij/ch13/">Chapter 13: Error Handling with Exceptions</a>
</li>
            
<li >
    <a href="../../../java/tij/ch14/">Chapter 14: Strings</a>
</li>
            
<li >
    <a href="../../../java/tij/ch15/">Chapter 15: Type Information</a>
</li>
            
<li >
    <a href="../../../java/tij/ch16/">Chapter 16: Generics</a>
</li>
            
<li >
    <a href="../../../java/tij/ch17/">Chapter 17: Arrays</a>
</li>
            
<li >
    <a href="../../../java/tij/ch18/">Chapter 18: Containers in Depth</a>
</li>
            
<li >
    <a href="../../../java/tij/ch19/">Chapter 19: I/O</a>
</li>
            
<li >
    <a href="../../../java/tij/ch20/">Chapter 20: Enumerated Types</a>
</li>
            
<li >
    <a href="../../../java/tij/ch21/">Chapter 21: Annotations</a>
</li>
            
<li >
    <a href="../../../java/tij/ch22/">Chapter 22: Concurrency</a>
</li>
            
<li >
    <a href="../../../java/tij/ch23/">Chapter 23: Graphical User Interfaces</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">UJVM</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../java/ujvm/">Contents</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch1/">Chapter 1 : 走进Java</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch2/">Chapter 2 : Java内存区域与内存溢出正常</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch3/">Chapter 3 : 垃圾收集器与内存分配策略</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch4/">Chapter 4 : 虚拟机性能监控与故障处理工具</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch5/">Chapter 5 : 调优案例分析与实战</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch6/">Chapter 6 : 类文件结构</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch7/">Chapter 7 : 虚拟机类加载机制</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch8/">Chapter 8 : 虚拟机字节码执行引擎</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch9/">Chapter 9 : 类加载及执行子系统的案例与实战</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch10/">Chapter 10 : 早期(编译期)优化</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch11/">Chapter 11 : 晚期(运行期)优化</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch12/">Chapter 12 : Java内存模型与线程</a>
</li>
            
<li >
    <a href="../../../java/ujvm/ch13/">Chapter 13 : 线程安全与锁优化</a>
</li>
            
<li >
    <a href="../../../java/ujvm/AppendixC/">Appendix HotSpot虚拟机主要参数列表</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">BigData <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../bigdata/">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">HADOOP</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/hadoop/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch1/">Chapter 1: Meet Hadoop</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch2/">Chapter 2: MapReduce</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch3/">Chapter 3: The Hadoop Distributed FileSystem</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch4/">Chapter 4: YARN</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch5/">Chapter 5: Hadoop I/O</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch6/">Chapter 6: Developing a MapReduce Application</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch7/">Chapter 7: How MapReduce Works</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch8/">Chapter 8: MapReduce Types and Formats</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch9/">Chapter 9: MapReduce Features</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch10/">Chapter 10: Setting Up a Hadoop Cluster</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch11/">Chapter 11: Adminstering Hadoop</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch12/">Chapter 12: Avro</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch13/">Chapter 13: Parquet</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch14/">Chapter 14: Flume</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch15/">Chapter 15: Sqoop</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch16/">Chapter 16: Pig</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch17/">Chapter 17: Hive</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch18/">Chapter 18: Crunch</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch19/">Chapter 19: Spark</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch20/">Chapter 20: HBase</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch21/">Chapter 21: ZooKeeper</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch22/">Chapter 22: Composable Data at Center</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch23/">Chapter 23: Biological Data Science: Saving Lives with Software</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch24/">Chapter 24: Cascading</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Spark</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/spark/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch1/">Chapter 1: Introduction to Data Analysis with Spark</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch2/">Chapter 2: Downloading Spark and Getting Started</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch3/">Chapter 3: Programming with RDDs</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch4/">Chapter 4: Working with Key/Value Pairs</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch5/">Chapter 5: Loading and Saving Your Data</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch6/">Chapter 6: Advanced Spark Programming</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch7/">Chapter 7: Running on a Cluster</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch8/">Chapter 8: Tuning and Debugging Spark</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch9/">Chapter 9: Spark SQL</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch10/">Chapter 10: Spark Streaming</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch11/">Chapter 11: Machine Learning with MLlib</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">GDM</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/gdm/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch1/">Chapter 1: 推荐系统入门</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch2/">Chapter 2: 隐式评价和基于物品的过滤算法</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch3/">Chapter 3: 分类</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch4/">Chapter 4: 进一步探索分类</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch5/">Chapter 5: 概率和朴素贝叶斯</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch6/">Chapter 6: 朴素贝叶斯和文本数据</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch7/">Chapter 7: 聚类</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">MLIA</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/mlia/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch1/">Chapter 1: 机器学习基础</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch2/">Chapter 2: k-近邻算法</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch3/">Chapter 3: 决策树</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch4/">Chapter 4: 基于概率论的分类方法：朴素贝叶斯</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch5/">Chapter 5: Logistic回归</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch6/">Chapter 6: 支持向量机</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch7/">Chapter 7: 利用AdaBoost元算法提高分类性能</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch8/">Chapter 8: 预测数值型数据：回归</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch9/">Chapter 9: 树回归</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch10/">Chapter 10: 利用Ｋ-均值聚类算法对未标注数据分组</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch11/">Chapter 11: 使用Apriori算法进行关联分析</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch11/">Chapter 12: 使用FP-growth算法来高效发现频繁项集</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch13/">Chapter 13: 利用PCA来简化数据</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Crawler</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/crawler/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch1/">Chapter 1: 开发环境配置</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch2/">Chapter 2: 爬虫基础</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch3/">Chapter 3: 基本库的使用</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch4/">Chapter 4: 解析库的使用</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch5/">Chapter 5: 数据存储</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch7/">Chapter 7: 动态渲染页面爬取</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch13/">Chapter 13: Scrapy框架的使用</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Projects</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/projects/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/projects/SparkStreaming实时流处理项目/">SparkStreaming实时流处理</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li >
                                <a href="../../../books/">Books</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>

                     <!--
                            <li >
                                <a rel="next" href="../greedy/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../../cs61b/Lab1/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    -->
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#topic-hash-table">Topic: Hash Table</a></li>
            <li><a href="#direct-address-tables">Direct-address tables</a></li>
        <li class="main "><a href="#hash-function">Hash function</a></li>
        <li class="main "><a href="#collision-resolution">Collision Resolution</a></li>
            <li><a href="#separate-chaining">Separate chaining</a></li>
            <li><a href="#open-addressing">Open addressing</a></li>
            <li><a href="#linear-probing">Linear probing</a></li>
            <li><a href="#quadratic-probing">Quadratic probing</a></li>
            <li><a href="#load-factor">Load factor</a></li>
        <li class="main "><a href="#universal-hashing">Universal Hashing</a></li>
            <li><a href="#why-universal-hashing">Why Universal Hashing?</a></li>
            <li><a href="#designing-a-universal-class-of-hash-functions">Designing a universal class of hash functions</a></li>
            <li><a href="#implementation">Implementation</a></li>
            <li><a href="#resources">Resources</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h3 id="topic-hash-table"><strong>Topic: Hash Table</strong><a class="headerlink" href="#topic-hash-table" title="Permanent link">&para;</a></h3>
<p>Hash table (哈希表) is a collection of items which are stored in such a way as to make it easy to find item. Each position of the hash table, often called a <em>slot</em>, can hold an item and is named by an integer value starting at 0. The mapping between an item and the slot where that item belongs in the hash table is called the <em>hash function</em>(哈希函数). A <em>perfect hash function</em> maps every items into a unique slot. When two items hash to the same slot, <em>collision</em> happens. And a systematic method, which called <em>collision resolution</em>, for placing the second item in the hash table must be put forward.</p>
<h5 id="direct-address-tables">Direct-address tables<a class="headerlink" href="#direct-address-tables" title="Permanent link">&para;</a></h5>
<p>If the number of possible keys is small and they are unique, <em>direct-address tables</em>(直接寻址表) can be used. Each slot corresponds to a unique key.</p>
<p> <div class=codehilite><pre><span class=n>Insert</span><span class=p>(</span><span class=n>T</span><span class=p>,</span><span class=n>x</span><span class=p>):</span>
    <span class=n>T</span><span class=p>[</span><span class=n>key</span><span class=p>(</span><span class=n>x</span><span class=p>)]</span> <span class=o>=</span> <span class=n>x</span>   
<span class=n>Search</span><span class=p>(</span><span class=n>T</span><span class=p>,</span><span class=n>x</span><span class=p>):</span>
    <span class=k>return</span><span class=p>(</span><span class=n>T</span><span class=p>[</span><span class=n>key</span><span class=p>(</span><span class=n>x</span><span class=p>)])</span>
<span class=n>Delete</span><span class=p>(</span><span class=n>T</span><span class=p>,</span><span class=n>x</span><span class=p>):</span>
    <span class=n>T</span><span class=p>[</span><span class=n>key</span><span class=p>(</span><span class=n>x</span><span class=p>)]</span> <span class=o>=</span> <span class=n>NIL</span>
</pre></div></p>
<p><img alt="" src="../figures/direct-address-table.jpg" /></p>
<p>The range of the key determines the size of the direct address table and may be too large to be practical. For instance, it's not likely that you'll be able to use a direct address table to store elements which have arbitrary 32-but integers as their keys for a few years yet.</p>
<h3 id="hash-function">Hash function<a class="headerlink" href="#hash-function" title="Permanent link">&para;</a></h3>
<p>What is a good hash function? Hash functions should have the following properties:</p>
<ul>
<li><em>Fast</em> computation of the hash value (<span><span class="MathJax_Preview">O(1)</span><script type="math/tex">O(1)</script></span>).</li>
<li>Hash values should be distributed (nearly) <em>uniformly</em>.</li>
</ul>
<p>The goal of a hash function is</p>
<ul>
<li>disperse the keys in an apparently random way</li>
</ul>
<p><strong>Remainder method</strong> simply takes an item and divides it by the table size, returning the remainder as its hash value, i.e. <span><span class="MathJax_Preview">h(item)=item\%11</span><script type="math/tex">h(item)=item\%11</script></span></p>
<p><strong>Folding method</strong> begins by dividing the item into equal size pieces (the last piece may not be of equal size), and then added together to give the resulting hash value by extra step of dividing by the table size and keeping the remainder.</p>
<h3 id="collision-resolution">Collision Resolution<a class="headerlink" href="#collision-resolution" title="Permanent link">&para;</a></h3>
<p>Various techniques are used to manage collision:</p>
<ul>
<li>Separate Chaining (分离链接法)</li>
<li>Open addressing (开放寻址法)<ul>
<li>linear probing (线性探查)</li>
<li>quadratic probing (二次探查)</li>
</ul>
</li>
</ul>
<h4 id="separate-chaining">Separate chaining<a class="headerlink" href="#separate-chaining" title="Permanent link">&para;</a></h4>
<p>Separate Chaining allows each slot to hold a reference to a collection of items. It allows many items to exist at the same location in the hash table.</p>
<p><img alt="" src="../figures/separate-chaining.jpg" /></p>
<h4 id="open-addressing">Open addressing<a class="headerlink" href="#open-addressing" title="Permanent link">&para;</a></h4>
<p>In <strong>open addressing</strong>, all elements occupy the hash table itself. That is, each table entry contains either an element of the dynamic set or NIL. When searching for an element, we systematically examine table slots until either we find the desired element or we have ascertained that the element is not in the table. No lists and no elements are stored outside the table, unlike in chaining.</p>
<h4 id="linear-probing">Linear probing<a class="headerlink" href="#linear-probing" title="Permanent link">&para;</a></h4>
<p>One of the simplest re-hashing functions is +1(or -1) on a collision, i.e. look in the neighboring slot in the table. It calculates new address extremely quickly.</p>
<p>A disadvantage to linear probing is the tendency for clustering: items become clustered in the table.</p>
<h4 id="quadratic-probing">Quadratic probing<a class="headerlink" href="#quadratic-probing" title="Permanent link">&para;</a></h4>
<p>Instead of using a constant 'skip' value, quadratic probing using a rehash function that increments the hash value by 1, 3, 5, 7, 9 and so on. This means that if the first hash value is <span><span class="MathJax_Preview">h</span><script type="math/tex">h</script></span>, the successive values are <span><span class="MathJax_Preview">h+1</span><script type="math/tex">h+1</script></span>, <span><span class="MathJax_Preview">h+4</span><script type="math/tex">h+4</script></span>,<span><span class="MathJax_Preview">h+9</span><script type="math/tex">h+9</script></span>, <span><span class="MathJax_Preview">h+16</span><script type="math/tex">h+16</script></span> and so on.</p>
<h4 id="load-factor">Load factor<a class="headerlink" href="#load-factor" title="Permanent link">&para;</a></h4>
<p><em>Load factor</em>(装载因子) is commonly denoted by <span><span class="MathJax_Preview">\lambda = \frac{number\_of\_items}{table\_size}</span><script type="math/tex">\lambda = \frac{number\_of\_items}{table\_size}</script></span>.</p>
<p>The most important piece of information we need to analyze the use of a hash table is the load factor, <span><span class="MathJax_Preview">\lambda</span><script type="math/tex">\lambda</script></span>. Conceptually, if the load factor is small, then there is a lower chance of collisions.</p>
<p>For a successful search, using open addressing with linear probing, the average number of comparisons is approximately <span><span class="MathJax_Preview">\frac{1}{2}(1+\frac{1}{1-\lambda})</span><script type="math/tex">\frac{1}{2}(1+\frac{1}{1-\lambda})</script></span> and an unsuccessful search gives <span><span class="MathJax_Preview">\frac{1}{2}(1+(\frac{1}{1-\lambda})^2)</span><script type="math/tex">\frac{1}{2}(1+(\frac{1}{1-\lambda})^2)</script></span>.</p>
<p>Using chaining, the average number of comparisons is <span><span class="MathJax_Preview">1+\lambda/2</span><script type="math/tex">1+\lambda/2</script></span> for the successful case, and simply <span><span class="MathJax_Preview">\lambda</span><script type="math/tex">\lambda</script></span> comparisons if the search is unsuccessful.</p>
<p>High load factor <span><span class="MathJax_Preview">\alpha \ge 0.85</span><script type="math/tex">\alpha \ge 0.85</script></span> has negative effect on efficiency:</p>
<ul>
<li>lots of collisions</li>
<li>efficiency due to collision overhead</li>
</ul>
<h3 id="universal-hashing">Universal Hashing<a class="headerlink" href="#universal-hashing" title="Permanent link">&para;</a></h3>
<p>Let <span><span class="MathJax_Preview">H</span><script type="math/tex">H</script></span> be a finite collection of hash functions that map a given universe <span><span class="MathJax_Preview">U</span><script type="math/tex">U</script></span> of keys into the range <span><span class="MathJax_Preview">\{0,1,...,m-1\}</span><script type="math/tex">\{0,1,...,m-1\}</script></span>. Such a collection is said to be <em>universal</em> if for each pair of distinct keys <span><span class="MathJax_Preview">k,l \in U</span><script type="math/tex">k,l \in U</script></span>, the number of hash function <span><span class="MathJax_Preview">h \in H</span><script type="math/tex">h \in H</script></span> for which <span><span class="MathJax_Preview">h(k) = h(l)</span><script type="math/tex">h(k) = h(l)</script></span> is at most <span><span class="MathJax_Preview">\frac{|H|}{m}</span><script type="math/tex">\frac{|H|}{m}</script></span>, i.e.</p>
<div>
<div class="MathJax_Preview"> \forall k,l \in U, k\ne l: \Pr_{h\in H }[h(x)=h(y)]\le \frac{1}{m}  </div>
<script type="math/tex; mode=display"> \forall k,l \in U, k\ne l: \Pr_{h\in H }[h(x)=h(y)]\le \frac{1}{m}  </script>
</div>
<h4 id="why-universal-hashing">Why Universal Hashing?<a class="headerlink" href="#why-universal-hashing" title="Permanent link">&para;</a></h4>
<p>Some malicious adversary might chooses the keys which all hash to the same slot, yielding an average retrieval time of <span><span class="MathJax_Preview">\Theta(n)</span><script type="math/tex">\Theta(n)</script></span>. Instead of fixed hash functions, randomly chosen hash functions can yield good performance on average.</p>
<h4 id="designing-a-universal-class-of-hash-functions">Designing a universal class of hash functions<a class="headerlink" href="#designing-a-universal-class-of-hash-functions" title="Permanent link">&para;</a></h4>
<p>In short, you can generate family of hash functions using following simple equation:</p>
<div>
<div class="MathJax_Preview">\text{h}_{a,b}(\text{key}) = ((a\times\text{key} + b) \text{mod } p) \text{mod } m</div>
<script type="math/tex; mode=display">\text{h}_{a,b}(\text{key}) = ((a\times\text{key} + b) \text{mod } p) \text{mod } m</script>
</div>
<ul>
<li><span><span class="MathJax_Preview">key</span><script type="math/tex">key</script></span> is key you want to hash</li>
<li><span><span class="MathJax_Preview">a</span><script type="math/tex">a</script></span> is any number you can choose between <span><span class="MathJax_Preview">1</span><script type="math/tex">1</script></span> to <span><span class="MathJax_Preview">p-1</span><script type="math/tex">p-1</script></span> inclusive.</li>
<li><span><span class="MathJax_Preview">b</span><script type="math/tex">b</script></span> is any number you can choose between <span><span class="MathJax_Preview">0</span><script type="math/tex">0</script></span> to <span><span class="MathJax_Preview">p-1</span><script type="math/tex">p-1</script></span> inclusive.</li>
<li><span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> is a prime number that is greater than max possible value of <span><span class="MathJax_Preview">x</span><script type="math/tex">x</script></span>.</li>
<li><span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span> is a max possible value you want for hash code + 1.</li>
</ul>
<p>By selecting different values of <span><span class="MathJax_Preview">a</span><script type="math/tex">a</script></span> and <span><span class="MathJax_Preview">b</span><script type="math/tex">b</script></span> you can generate many hash codes that are independent of each other.</p>
<h4 id="implementation">Implementation<a class="headerlink" href="#implementation" title="Permanent link">&para;</a></h4>
<p> <div class=codehilite><pre><span class=kn>import</span> <span class=nn>random</span>


<span class=k>class</span> <span class=nc>UniversalHash</span><span class=p>:</span>
    <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    &gt;&gt;&gt; h=UniversalHash()</span>
<span class=sd>    &gt;&gt;&gt; h[54]=&quot;cat&quot;</span>
<span class=sd>    &gt;&gt;&gt; h[26]=&quot;dog&quot;</span>
<span class=sd>    &gt;&gt;&gt; h[93]=&quot;lion&quot;</span>
<span class=sd>    &gt;&gt;&gt; h[77]=&quot;bird&quot;</span>
<span class=sd>    &gt;&gt;&gt; h[31]=&quot;cow&quot;</span>
<span class=sd>    &gt;&gt;&gt; h[44]=&quot;goat&quot;</span>
<span class=sd>    &gt;&gt;&gt; 54 in h</span>
<span class=sd>    True</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>def</span> <span class=nf>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>size</span> <span class=o>=</span> <span class=mi>100</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>slots</span> <span class=o>=</span> <span class=p>[</span><span class=bp>None</span><span class=p>]</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=p>[</span><span class=bp>None</span><span class=p>]</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span>
        <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>p</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>a</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>b</span><span class=p>)</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>generate_hash_constants</span><span class=p>()</span>


    <span class=k>def</span> <span class=nf>generate_hash_constants</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        generate a, b, p for universal hashing</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=n>p</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_prime</span><span class=p>()</span>  <span class=c1>### set p a  random prime number</span>
        <span class=n>a</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>p</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>  <span class=c1>### A has a random value between 1 and p - 1.</span>
        <span class=n>b</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>p</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>  <span class=c1>### B has a random value between 1 and p - 1</span>
        <span class=k>return</span> <span class=n>p</span><span class=p>,</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span>

    <span class=k>def</span> <span class=nf>put</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
        <span class=n>hash_value</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>hash_function</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>slots</span><span class=p>[</span><span class=n>hash_value</span><span class=p>]</span> <span class=ow>is</span> <span class=bp>None</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>slots</span><span class=p>[</span><span class=n>hash_value</span><span class=p>]</span> <span class=o>=</span> <span class=n>key</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>hash_value</span><span class=p>]</span> <span class=o>=</span> <span class=n>data</span>
        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>slots</span><span class=p>[</span><span class=n>hash_value</span><span class=p>]</span> <span class=o>==</span> <span class=n>key</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>hash_value</span><span class=p>]</span> <span class=o>=</span> <span class=n>data</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=c1>### rehash</span>
            <span class=n>next_slot</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>rehash</span><span class=p>(</span><span class=n>hash_value</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>slots</span><span class=p>))</span>
            <span class=k>while</span> <span class=bp>self</span><span class=o>.</span><span class=n>slots</span><span class=p>[</span><span class=n>next_slot</span><span class=p>]</span> <span class=ow>is</span> <span class=ow>not</span> <span class=bp>None</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>slots</span><span class=p>[</span><span class=n>next_slot</span><span class=p>]</span> <span class=o>!=</span> <span class=n>key</span><span class=p>:</span>
                <span class=n>next_slot</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>rehash</span><span class=p>(</span><span class=n>hash_value</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>slots</span><span class=p>))</span>

            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>slots</span><span class=p>[</span><span class=n>next_slot</span><span class=p>]</span> <span class=ow>is</span> <span class=bp>None</span><span class=p>:</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>slots</span><span class=p>[</span><span class=n>next_slot</span><span class=p>]</span> <span class=o>=</span> <span class=n>key</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>hash_value</span><span class=p>]</span> <span class=o>=</span> <span class=n>data</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>hash_value</span><span class=p>]</span> <span class=o>=</span> <span class=n>data</span>

    <span class=k>def</span> <span class=nf>hash_function</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        hash_function implements the simple remainder method</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=nb>round</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>a</span> <span class=o>*</span> <span class=n>key</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>b</span><span class=p>)</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>p</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span>

    <span class=k>def</span> <span class=nf>rehash</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>old_hash</span><span class=p>,</span> <span class=n>size</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        linear probing with a plus 1</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=p>(</span><span class=n>old_hash</span><span class=o>+</span><span class=mi>1</span><span class=p>)</span> <span class=o>%</span> <span class=n>size</span>

    <span class=k>def</span> <span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>):</span>
        <span class=n>start_slot</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>hash_function</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
        <span class=n>data</span> <span class=o>=</span> <span class=bp>None</span>
        <span class=n>stop</span> <span class=o>=</span> <span class=bp>False</span>
        <span class=n>found</span> <span class=o>=</span> <span class=bp>False</span>
        <span class=n>position</span> <span class=o>=</span> <span class=n>start_slot</span>
        <span class=k>while</span> <span class=bp>self</span><span class=o>.</span><span class=n>slots</span><span class=p>[</span><span class=n>position</span><span class=p>]</span> <span class=ow>is</span> <span class=ow>not</span> <span class=bp>None</span> <span class=ow>and</span> \
                <span class=ow>not</span> <span class=n>found</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>stop</span><span class=p>:</span>
            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>slots</span><span class=p>[</span><span class=n>position</span><span class=p>]</span> <span class=o>==</span> <span class=n>key</span><span class=p>:</span>
                <span class=n>found</span> <span class=o>=</span> <span class=bp>True</span>
                <span class=n>data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>position</span><span class=p>]</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>position</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>rehash</span><span class=p>(</span><span class=n>position</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>slots</span><span class=p>))</span>
            <span class=k>if</span> <span class=n>position</span> <span class=o>==</span> <span class=n>start_slot</span><span class=p>:</span>
                <span class=n>stop</span> <span class=o>=</span> <span class=bp>True</span>
        <span class=k>return</span> <span class=n>data</span>

    <span class=k>def</span> <span class=nf>_is_prime</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>n</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>n</span> <span class=o>&lt;=</span> <span class=mi>2</span> <span class=ow>or</span> <span class=n>n</span><span class=o>%</span><span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>False</span>

        <span class=k>return</span> <span class=ow>not</span> <span class=nb>any</span><span class=p>((</span><span class=n>n</span><span class=o>%</span><span class=n>i</span> <span class=o>==</span> <span class=mi>0</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>)))</span>

    <span class=k>def</span> <span class=nf>_get_prime</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>p</span><span class=o>=</span><span class=mi>0</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        get a prime number</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=n>p</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
            <span class=n>p</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>1000000</span><span class=p>,</span><span class=mi>10000000</span><span class=p>)</span>
        <span class=k>while</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_is_prime</span><span class=p>(</span><span class=n>p</span><span class=p>):</span>
            <span class=n>p</span> <span class=o>+=</span> <span class=mi>1</span>

        <span class=k>return</span> <span class=n>p</span>

    <span class=k>def</span> <span class=nf>__getitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>__setitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>__len__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        return length</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>slots</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>item</span> <span class=ow>is</span> <span class=ow>not</span> <span class=bp>None</span><span class=p>:</span>
                <span class=n>count</span> <span class=o>+=</span> <span class=mi>1</span>

        <span class=k>return</span> <span class=n>count</span>

    <span class=k>def</span> <span class=nf>__contains__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>item</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        定义了使用in和not in进行成员测试时类的行为</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>item</span><span class=p>)</span> <span class=ow>is</span> <span class=ow>not</span> <span class=bp>None</span>

    <span class=k>def</span> <span class=nf>__iter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        iterator</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>slots</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>item</span> <span class=ow>is</span> <span class=ow>not</span> <span class=bp>None</span><span class=p>:</span>
                <span class=k>yield</span> <span class=n>item</span>

<span class=k>if</span> <span class=n>__name__</span> <span class=o>==</span> <span class=s2>&quot;__main__&quot;</span><span class=p>:</span>
    <span class=kn>import</span> <span class=nn>doctest</span>
    <span class=n>doctest</span><span class=o>.</span><span class=n>testmod</span><span class=p>(</span><span class=n>verbose</span><span class=o>=</span><span class=bp>True</span><span class=p>)</span>
</pre></div></p>
<h4 id="resources">Resources<a class="headerlink" href="#resources" title="Permanent link">&para;</a></h4>
<ol>
<li><a href="https://www.cse.iitb.ac.in/~sri/cs213/lec-Hashing.pdf">Hash Functions and Hash Tables</a></li>
<li>Cormen, Leiserson, Rivest, and Stein, Introduction to Algorithms (3rd edition)</li>
</ol></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../../../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
        <script src="../../../extra_javascript/tabhack.js" defer></script>
        <script src="../../../extra_javascript/baidu.js" defer></script>
        <script src="../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
