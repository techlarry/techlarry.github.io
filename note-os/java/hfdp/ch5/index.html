<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Zhenhua Wang">
        <link rel="canonical" href="http://larryim.cc/note-os/java/hfdp/ch5/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Chapter 5: Singleton Pattern - Zhenhua's Notes</title>
        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/docco.min.css">
        <link href="../../../extra_css/custom.css" rel="stylesheet">
        <link href="../../../extra_css/custom.js" rel="stylesheet">
        <link href="../../../extra_css/friendly.css" rel="stylesheet">
        <link href="../../../extra_css/theme.css" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/lunr-0.5.7.min.js" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/mustache.min.js" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/require.js" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/search.js" rel="stylesheet">
        <link href="../../../extra_css/mkdocs/js/text.js" rel="stylesheet">
        <link href="../../../extra_css/code-tab.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../../..">Zhenhua's Notes</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../../..">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Algorithm <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../algorithm/">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">AlgorithmPrinceton</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../algorithm/algorithmPrinceton/">Contents</a>
</li>
            
<li >
    <a href="../../../algorithm/algorithmPrinceton/unionfind/">Topic 1: UnionFind</a>
</li>
            
<li >
    <a href="../../../algorithm/algorithmPrinceton/stackqueue/">Topic 2: StackQueue</a>
</li>
            
<li >
    <a href="../../../algorithm/algorithmPrinceton/sort/">Topic 3: Sort</a>
</li>
            
<li >
    <a href="../../../algorithm/algorithmPrinceton/priorityqueue/">Topic 4: PriorityQueues</a>
</li>
            
<li >
    <a href="../../../algorithm/algorithmPrinceton/symboltable/">Topic 5: Symbol Tables</a>
</li>
            
<li >
    <a href="../../../algorithm/algorithmPrinceton/bst/">Topic 6: Balanced Search Trees</a>
</li>
            
<li >
    <a href="../../../algorithm/algorithmPrinceton/hashtable/">Topic 7: Hash Table</a>
</li>
            
<li >
    <a href="../../../algorithm/algorithmPrinceton/graph/">Topic 8: Graph</a>
</li>
            
<li >
    <a href="../../../algorithm/algorithmPrinceton/mst_shortestpath/">Topic 9: Minimum Spanning Tree and Shortest Path</a>
</li>
            
<li >
    <a href="../../../algorithm/algorithmPrinceton/stringsort/">Topic 11: String Sort</a>
</li>
            
<li >
    <a href="../../../algorithm/algorithmPrinceton/tries/">Topic 12: Tries</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">AlgorithmStanford</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../algorithm/algorithmStanford/">Contents</a>
</li>
            
<li >
    <a href="../../../algorithm/algorithmStanford/dynamicprogramming/">Topic: Dynammic Programming</a>
</li>
            
<li >
    <a href="../../../algorithm/algorithmStanford/heap/">Topic: Heap</a>
</li>
            
<li >
    <a href="../../../algorithm/algorithmStanford/graph/">Topic: Graph</a>
</li>
            
<li >
    <a href="../../../algorithm/algorithmStanford/greedy/">Topic: Greedy Algorithm</a>
</li>
            
<li >
    <a href="../../../algorithm/algorithmStanford/hashtable/">Topic: Hash Table</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">CS61B</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../algorithm/cs61b/">Contents</a>
</li>
            
<li >
    <a href="../../../algorithm/cs61b/Lab1/">Lab1: javac, java, git</a>
</li>
            
<li >
    <a href="../../../algorithm/cs61b/Lab2/">Lab2: Unit Testing with JUnit and IntLists</a>
</li>
            
<li >
    <a href="../../../algorithm/cs61b/Lab3/">Lab3: Unit Testing with JUnit, Debugging</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Sword</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../algorithm/sword/">Contents</a>
</li>
            
<li >
    <a href="../../../algorithm/sword/ch2/">⾯试需要的基础知识</a>
</li>
            
<li >
    <a href="../../../algorithm/sword/ch3/">高质量的代码</a>
</li>
            
<li >
    <a href="../../../algorithm/sword/ch4/">二叉树的镜像</a>
</li>
            
<li >
    <a href="../../../algorithm/sword/ch5/">二叉树的镜像</a>
</li>
            
<li >
    <a href="../../../algorithm/sword/ch6/">二叉树的镜像</a>
</li>
            
<li >
    <a href="../../../algorithm/sword/ch7/">二叉树的镜像</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">OS <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../os/">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">OSC</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../os/osc/">Contents</a>
</li>
            
<li >
    <a href="../../../os/osc/ch1/">Chapter 1: Introduction </a>
</li>
            
<li >
    <a href="../../../os/osc/ch2/">Chapter 2: Operating System structures</a>
</li>
            
<li >
    <a href="../../../os/osc/ch3/">Chapter 3: Processes</a>
</li>
            
<li >
    <a href="../../../os/osc/ch4/">Chapter 4: Threads and Concurrency</a>
</li>
            
<li >
    <a href="../../../os/osc/ch5/">Chapter 5: CPU Scheduling</a>
</li>
            
<li >
    <a href="../../../os/osc/ch6/">Chapter 6: Synchronization Tools</a>
</li>
            
<li >
    <a href="../../../os/osc/ch7/">Chapter 7: Synchronization Examples</a>
</li>
            
<li >
    <a href="../../../os/osc/ch8/">Chapter 8: Deadlocks</a>
</li>
            
<li >
    <a href="../../../os/osc/ch9/">Chapter 9: Main Memory</a>
</li>
            
<li >
    <a href="../../../os/osc/ch10/">Chapter 10: Virtual Memory</a>
</li>
            
<li >
    <a href="../../../os/osc/ch11/">Chapter 11: Mass-Storage Structure</a>
</li>
            
<li >
    <a href="../../../os/osc/ch13/">Chapter 13: File-System Interfaces</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">CSAPP</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../os/csapp/">Contents</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch1/">Chapter 1: 计算机系统漫游</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch2/">Chapter 2: 信息的表示和处理</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch3/">Chapter 3: 程序的机器级表示</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch4/">Chapter 4: 处理器体系结构</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch5/">Chapter 5: 优化程序性能</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch6/">Chapter 6: 存储器层次结构</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch7/">Chapter 7: 链接</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch8/">Chapter 8: 异常控制流</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch9/">Chapter 9: 虚拟内存</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch10/">Chapter 10: 系统级I/O</a>
</li>
            
<li >
    <a href="../../../os/csapp/ch11/">Chapter 11: 网络编程</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">DataBase <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../database/">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">MySql</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../database/mysql/">Contents</a>
</li>
            
<li >
    <a href="../../../database/mysql/LearningMySQLandMariaDB/">Chapter Learning MySQL and MariaDB</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Java <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">HFJ</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../hfj/">Contents</a>
</li>
            
<li >
    <a href="../../hfj/ch1/">Chapter 1: Dive in A Quick Dip</a>
</li>
            
<li >
    <a href="../../hfj/ch2/">Chapter 2: Classes and Objects</a>
</li>
            
<li >
    <a href="../../hfj/ch3/">Chapter 3: Primitives and References</a>
</li>
            
<li >
    <a href="../../hfj/ch4/">Chapter 4: Methods use Instance Variables</a>
</li>
            
<li >
    <a href="../../hfj/ch5/">Chapter 5: Writing a Program</a>
</li>
            
<li >
    <a href="../../hfj/ch6/">Chapter 6: Get to Know the Java API</a>
</li>
            
<li >
    <a href="../../hfj/ch7/">Chapter 7: Inheritance and Polymorphism</a>
</li>
            
<li >
    <a href="../../hfj/ch8/">Chapter 8: Interfaces and Abstract Classes</a>
</li>
            
<li >
    <a href="../../hfj/ch9/">Chapter 9: Constructors and Garbage Collection</a>
</li>
            
<li >
    <a href="../../hfj/ch10/">Chapter 10: Numbers and Statics</a>
</li>
            
<li >
    <a href="../../hfj/ch11/">Chapter 11: Exception Handling</a>
</li>
            
<li >
    <a href="../../hfj/ch12/">Chapter 12: Getting GUI</a>
</li>
            
<li >
    <a href="../../hfj/ch13/">Chapter 13: Using Swing</a>
</li>
            
<li >
    <a href="../../hfj/ch14/">Chapter 14: Serialization and File I/O</a>
</li>
            
<li >
    <a href="../../hfj/ch15/">Chapter 15: Networking and Threads</a>
</li>
            
<li >
    <a href="../../hfj/ch16/">Chapter 16: Collections and Generics</a>
</li>
            
<li >
    <a href="../../hfj/ch17/">Chapter 17: Packages, Jars and Deployment</a>
</li>
            
<li >
    <a href="../../hfj/ch18/">Chapter 18: Remote deploy with RMI</a>
</li>
            
<li >
    <a href="../../hfj/Appendix/">Appendix: The Top Ten Topics</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">HFDP</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../">Contents</a>
</li>
            
<li >
    <a href="../ch1/">Chapter 1: Strategy Pattern </a>
</li>
            
<li >
    <a href="../ch2/">Chapter 2: Observer Pattern</a>
</li>
            
<li >
    <a href="../ch3/">Chapter 3: Decorator Pattern </a>
</li>
            
<li >
    <a href="../ch4/">Chapter 4: Factory Pattern</a>
</li>
            
<li class="active">
    <a href="./">Chapter 5: Singleton Pattern</a>
</li>
            
<li >
    <a href="../ch6/">Chapter 6: Command Pattern</a>
</li>
            
<li >
    <a href="../ch7/">Chapter 7: Adapter and Facade Patterns</a>
</li>
            
<li >
    <a href="../ch8/">Chapter 8: Template Method Pattern</a>
</li>
            
<li >
    <a href="../ch9/">Chapter 9: Iterator and Composite Patterns</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">MultiThreading</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../multithreading/">Contents</a>
</li>
            
<li >
    <a href="../../multithreading/pre1/">序章1 Java线程</a>
</li>
            
<li >
    <a href="../../multithreading/pre2/">序章2 多线程程序的评价标准</a>
</li>
            
<li >
    <a href="../../multithreading/ch1/">第1章 Single Threaded Execution模式</a>
</li>
            
<li >
    <a href="../../multithreading/ch1/">第2章 Immutable模式</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">TIJ</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../tij/">Contents</a>
</li>
            
<li >
    <a href="../../tij/ch1/">Chapter 1: Introduction</a>
</li>
            
<li >
    <a href="../../tij/ch2/">Chapter 2: Introduction to Objects</a>
</li>
            
<li >
    <a href="../../tij/ch3/">Chapter 3: Everything is an Object</a>
</li>
            
<li >
    <a href="../../tij/ch4/">Chapter 4: Opertors</a>
</li>
            
<li >
    <a href="../../tij/ch5/">Chapter 5: Controlling Execution</a>
</li>
            
<li >
    <a href="../../tij/ch6/">Chapter 6: Initialization & Cleanup</a>
</li>
            
<li >
    <a href="../../tij/ch7/">Chapter 7: Access Control</a>
</li>
            
<li >
    <a href="../../tij/ch8/">Chapter 8: Reusing Clases</a>
</li>
            
<li >
    <a href="../../tij/ch9/">Chapter 9: Polymorphism</a>
</li>
            
<li >
    <a href="../../tij/ch10/">Chapter 10: Interfaces</a>
</li>
            
<li >
    <a href="../../tij/ch11/">Chapter 11: Inner Classes</a>
</li>
            
<li >
    <a href="../../tij/ch12/">Chapter 12: Holding Your Objects</a>
</li>
            
<li >
    <a href="../../tij/ch13/">Chapter 13: Error Handling with Exceptions</a>
</li>
            
<li >
    <a href="../../tij/ch14/">Chapter 14: Strings</a>
</li>
            
<li >
    <a href="../../tij/ch15/">Chapter 15: Type Information</a>
</li>
            
<li >
    <a href="../../tij/ch16/">Chapter 16: Generics</a>
</li>
            
<li >
    <a href="../../tij/ch17/">Chapter 17: Arrays</a>
</li>
            
<li >
    <a href="../../tij/ch18/">Chapter 18: Containers in Depth</a>
</li>
            
<li >
    <a href="../../tij/ch19/">Chapter 19: I/O</a>
</li>
            
<li >
    <a href="../../tij/ch20/">Chapter 20: Enumerated Types</a>
</li>
            
<li >
    <a href="../../tij/ch21/">Chapter 21: Annotations</a>
</li>
            
<li >
    <a href="../../tij/ch22/">Chapter 22: Concurrency</a>
</li>
            
<li >
    <a href="../../tij/ch23/">Chapter 23: Graphical User Interfaces</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">UJVM</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../ujvm/">Contents</a>
</li>
            
<li >
    <a href="../../ujvm/ch1/">Chapter 1 : 走进Java</a>
</li>
            
<li >
    <a href="../../ujvm/ch2/">Chapter 2 : Java内存区域与内存溢出正常</a>
</li>
            
<li >
    <a href="../../ujvm/ch3/">Chapter 3 : 垃圾收集器与内存分配策略</a>
</li>
            
<li >
    <a href="../../ujvm/ch4/">Chapter 4 : 虚拟机性能监控与故障处理工具</a>
</li>
            
<li >
    <a href="../../ujvm/ch5/">Chapter 5 : 调优案例分析与实战</a>
</li>
            
<li >
    <a href="../../ujvm/ch6/">Chapter 6 : 类文件结构</a>
</li>
            
<li >
    <a href="../../ujvm/ch7/">Chapter 7 : 虚拟机类加载机制</a>
</li>
            
<li >
    <a href="../../ujvm/ch8/">Chapter 8 : 虚拟机字节码执行引擎</a>
</li>
            
<li >
    <a href="../../ujvm/ch9/">Chapter 9 : 类加载及执行子系统的案例与实战</a>
</li>
            
<li >
    <a href="../../ujvm/ch10/">Chapter 10 : 早期(编译期)优化</a>
</li>
            
<li >
    <a href="../../ujvm/ch11/">Chapter 11 : 晚期(运行期)优化</a>
</li>
            
<li >
    <a href="../../ujvm/ch12/">Chapter 12 : Java内存模型与线程</a>
</li>
            
<li >
    <a href="../../ujvm/ch13/">Chapter 13 : 线程安全与锁优化</a>
</li>
            
<li >
    <a href="../../ujvm/AppendixC/">Appendix HotSpot虚拟机主要参数列表</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">BigData <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../bigdata/">Contents</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">HADOOP</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/hadoop/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch1/">Chapter 1: Meet Hadoop</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch2/">Chapter 2: MapReduce</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch3/">Chapter 3: The Hadoop Distributed FileSystem</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch4/">Chapter 4: YARN</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch5/">Chapter 5: Hadoop I/O</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch6/">Chapter 6: Developing a MapReduce Application</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch7/">Chapter 7: How MapReduce Works</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch8/">Chapter 8: MapReduce Types and Formats</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch9/">Chapter 9: MapReduce Features</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch10/">Chapter 10: Setting Up a Hadoop Cluster</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch11/">Chapter 11: Adminstering Hadoop</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch12/">Chapter 12: Avro</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch13/">Chapter 13: Parquet</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch14/">Chapter 14: Flume</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch15/">Chapter 15: Sqoop</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch16/">Chapter 16: Pig</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch17/">Chapter 17: Hive</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch18/">Chapter 18: Crunch</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch19/">Chapter 19: Spark</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch20/">Chapter 20: HBase</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch21/">Chapter 21: ZooKeeper</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch22/">Chapter 22: Composable Data at Center</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch23/">Chapter 23: Biological Data Science: Saving Lives with Software</a>
</li>
            
<li >
    <a href="../../../bigdata/hadoop/ch24/">Chapter 24: Cascading</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Spark</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/spark/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch1/">Chapter 1: Introduction to Data Analysis with Spark</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch2/">Chapter 2: Downloading Spark and Getting Started</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch3/">Chapter 3: Programming with RDDs</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch4/">Chapter 4: Working with Key/Value Pairs</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch5/">Chapter 5: Loading and Saving Your Data</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch6/">Chapter 6: Advanced Spark Programming</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch7/">Chapter 7: Running on a Cluster</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch8/">Chapter 8: Tuning and Debugging Spark</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch9/">Chapter 9: Spark SQL</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch10/">Chapter 10: Spark Streaming</a>
</li>
            
<li >
    <a href="../../../bigdata/spark/ch11/">Chapter 11: Machine Learning with MLlib</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">GDM</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/gdm/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch1/">Chapter 1: 推荐系统入门</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch2/">Chapter 2: 隐式评价和基于物品的过滤算法</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch3/">Chapter 3: 分类</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch4/">Chapter 4: 进一步探索分类</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch5/">Chapter 5: 概率和朴素贝叶斯</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch6/">Chapter 6: 朴素贝叶斯和文本数据</a>
</li>
            
<li >
    <a href="../../../bigdata/gdm/ch7/">Chapter 7: 聚类</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">MLIA</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/mlia/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch1/">Chapter 1: 机器学习基础</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch2/">Chapter 2: k-近邻算法</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch3/">Chapter 3: 决策树</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch4/">Chapter 4: 基于概率论的分类方法：朴素贝叶斯</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch5/">Chapter 5: Logistic回归</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch6/">Chapter 6: 支持向量机</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch7/">Chapter 7: 利用AdaBoost元算法提高分类性能</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch8/">Chapter 8: 预测数值型数据：回归</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch9/">Chapter 9: 树回归</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch10/">Chapter 10: 利用Ｋ-均值聚类算法对未标注数据分组</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch11/">Chapter 11: 使用Apriori算法进行关联分析</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch11/">Chapter 12: 使用FP-growth算法来高效发现频繁项集</a>
</li>
            
<li >
    <a href="../../../bigdata/mlia/ch13/">Chapter 13: 利用PCA来简化数据</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Crawler</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/crawler/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch1/">Chapter 1: 开发环境配置</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch2/">Chapter 2: 爬虫基础</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch3/">Chapter 3: 基本库的使用</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch4/">Chapter 4: 解析库的使用</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch5/">Chapter 5: 数据存储</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch7/">Chapter 7: 动态渲染页面爬取</a>
</li>
            
<li >
    <a href="../../../bigdata/crawler/ch13/">Chapter 13: Scrapy框架的使用</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Projects</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../bigdata/projects/">Contents</a>
</li>
            
<li >
    <a href="../../../bigdata/projects/SparkStreaming实时流处理项目/">SparkStreaming实时流处理</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li >
                                <a href="../../../books/">Books</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>

                     <!--
                            <li >
                                <a rel="next" href="../ch4/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../ch6/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    -->
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#head-first-design-patterns-5-singleton-pattern">Head First Design Patterns 5 - Singleton Pattern</a></li>
        <li class="main "><a href="#lazily-created-instance">Lazily Created Instance</a></li>
        <li class="main "><a href="#eagerly-created-instance">Eagerly Created Instance</a></li>
        <li class="main "><a href="#synchronized-method">Synchronized Method</a></li>
        <li class="main "><a href="#double-checked-locking">Double-checked locking</a></li>
            <li><a href="#serialization">Serialization</a></li>
        <li class="main "><a href="#static-inner-class">Static Inner Class</a></li>
        <li class="main "><a href="#enum">Enum</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h3 id="head-first-design-patterns-5-singleton-pattern"><strong>Head First Design Patterns 5 - Singleton Pattern</strong><a class="headerlink" href="#head-first-design-patterns-5-singleton-pattern" title="Permanent link">&para;</a></h3>
<p>In many ways, the <strong>Singleton Pattern</strong>(单例模式) is a convention for ensuring one and only one object is instantiated for a given class. It often used to manage pools of resources, like connection or thread pools.</p>
<blockquote>
<p>The Singleton Pattern ensures a class has only one instance, and provides a global point of access to it.</p>
</blockquote>
<h3 id="lazily-created-instance">Lazily Created Instance<a class="headerlink" href="#lazily-created-instance" title="Permanent link">&para;</a></h3>
<p>懒汉式(lazily created instance)在多线程环境下是不安全的，如果多个线程能够同时进入<code class="codehilite"><span class="k">if</span> <span class="o">(</span><span class="n">uniqueInstance</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span></code>，并且此时 <C>uniqueInstance</C>为 null，那么会有多个线程执行<code class="codehilite"><span class="n">uniqueInstance</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Singleton</span><span class="o">();</span></code> 语句，这将导致实例化多次<C>uniqueInstance</C>。</p>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Singleton</span> <span class=o>{</span>
    <span class=c1>// We have a static variable to hold our one instance of the class Singleton.</span>
    <span class=kd>private</span> <span class=kd>static</span> <span class=n>Singleton</span> <span class=n>uniqueInstance</span><span class=o>;</span>
    <span class=c1>// Our constructor is declared private; only Singleton can instantiate this class!</span>
    <span class=kd>private</span> <span class=nf>Singleton</span><span class=o>()</span> <span class=o>{}</span>

    <span class=c1>// The getInstance() method gives us a way to instantiate the class</span>
    <span class=c1>// and also to return an instance of it.</span>
    <span class=kd>public</span> <span class=kd>static</span> <span class=n>Singleton</span> <span class=nf>getInstance</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>if</span> <span class=o>(</span><span class=n>uniqueInstance</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span>
            <span class=n>uniqueInstance</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Singleton</span><span class=o>();</span>
        <span class=k>return</span> <span class=n>uniqueInstance</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=c1>// other useful methods here</span>
    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getDescription</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=s>&quot;I&#39;m a classic Singleton!&quot;</span><span class=o>;</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre></div></p>
<p><img alt="The Singleton Pattern ClassDiagram" src="../figures/TheSingletonPatternClassDiagram.png" /></p>
<h3 id="eagerly-created-instance">Eagerly Created Instance<a class="headerlink" href="#eagerly-created-instance" title="Permanent link">&para;</a></h3>
<p>Move to an <strong>eagerly created instance</strong>(饿汉式) rather than a lazily created one(懒汉式). 线程不安全问题主要是由于<C>uniqueInstance</C>被实例化多次，采取直接实例化<C>uniqueInstance</C>的方式就不会产生线程不安全问题。</p>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Singleton</span> <span class=o>{</span>
    <span class=kd>private</span> <span class=kd>static</span> <span class=n>Singleton</span> <span class=n>uniqueInstance</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Singleton</span><span class=o>();</span>
    <span class=kd>private</span> <span class=nf>Singleton</span><span class=o>()</span> <span class=o>{}</span>
    <span class=kd>public</span> <span class=kd>static</span> <span class=n>Singleton</span> <span class=nf>getInstance</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=n>uniqueInstance</span><span class=o>;</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre></div></p>
<p><img alt="" src="../figures/EagerSingleton.jpg" /></p>
<h3 id="synchronized-method">Synchronized Method<a class="headerlink" href="#synchronized-method" title="Permanent link">&para;</a></h3>
<p>懒汉式-线程安全: 只需要对<C>getUniqueInstance()</C>方法加锁，那么在一个时间点只能有一个线程能够进入该方法，从而避免了实例化多次<C>uniqueInstance</C>。</p>
<p>we almost trivially fix it by making <C>getInstance()</C> a synchronized method:</p>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Singleton</span> <span class=o>{</span>
    <span class=kd>private</span> <span class=kd>static</span> <span class=n>Singleton</span> <span class=n>uniqueInstance</span><span class=o>;</span>
    <span class=c1>// other useful instance variables here</span>
    <span class=kd>private</span> <span class=nf>Singleton</span><span class=o>()</span> <span class=o>{}</span>

    <span class=kd>public</span> <span class=kd>static</span> <span class=kd>synchronized</span> <span class=n>Singleton</span> <span class=nf>getInstance</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>if</span> <span class=o>(</span><span class=n>uniqueInstance</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span>
            <span class=n>uniqueInstance</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Singleton</span><span class=o>();</span>
        <span class=k>return</span> <span class=n>uniqueInstance</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=c1>// other useful methods here</span>
    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getDescription</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=s>&quot;I&#39;m a thread safe Singleton!&quot;</span><span class=o>;</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre></div></p>
<p>Good point, and it’s actually a little worse than you make out: the only time synchronization is relevant is the first time through this method. Once we’ve set the uniqueInstance variable to an instance of Singleton, we have no further need to synchronize this method.</p>
<ul>
<li>Do nothing if the performance of <C>getInstance()</C> isn’t critical to your application.</li>
</ul>
<h3 id="double-checked-locking">Double-checked locking<a class="headerlink" href="#double-checked-locking" title="Permanent link">&para;</a></h3>
<p>With double-checked locking(双重校验锁), we first check to see if an instance is created, and if not, THEN we synchronize. This way, we only synchronize the first time through, just what we want.</p>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Singleton</span> <span class=o>{</span>
    <span class=kd>private</span> <span class=kd>volatile</span> <span class=kd>static</span> <span class=n>Singleton</span> <span class=n>uniqueInstance</span><span class=o>;</span>
    <span class=kd>private</span> <span class=nf>Singleton</span><span class=o>()</span> <span class=o>{}</span>
    <span class=kd>public</span> <span class=kd>static</span> <span class=n>Singleton</span> <span class=nf>getInstance</span><span class=o>()</span> <span class=o>{</span>
       <span class=c1>// check for an instance and if there isn&#39;t one, enter a synchronized block</span>
       <span class=c1>// Note we only synchronize the first time through!</span>
        <span class=k>if</span> <span class=o>(</span><span class=n>uniqueInstance</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span> <span class=o>{</span>
            <span class=kd>synchronized</span> <span class=o>(</span><span class=n>Singleton</span><span class=o>.</span><span class=na>class</span><span class=o>)</span> <span class=o>{</span>
               <span class=c1>// Once in the block, check again and</span>
               <span class=c1>// if still null, create an instance</span>
                <span class=k>if</span> <span class=o>(</span><span class=n>uniqueInstance</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span>
                    <span class=n>uniqueInstance</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Singleton</span><span class=o>();</span>
            <span class=o>}</span>
        <span class=o>}</span>
        <span class=k>return</span> <span class=n>uniqueInstance</span><span class=o>;</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre></div></p>
<p>Note: Using <C>Singleton.class</C> instead of <C>this</C> here, because <C>getInstance()</C> is a static method.</p>
<p>采用<C>volatile</C>关键字修饰也是很有必要的，<code class="codehilite"><span class="n">uniqueInstance</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Singleton</span><span class="o">()</span></code>; 这段代码其实是分为三步执行：</p>
<ol>
<li>为<C>uniqueInstance</C>分配内存空间</li>
<li>初始化<C>uniqueInstance</C></li>
<li>将<C>uniqueInstance</C>指向分配的内存地址</li>
</ol>
<p>但是由于JVM会重排指令，执行顺序有可能变成 1-&gt;3-&gt;2。指令重排在单线程环境下不会出现问题，但是在多线程环境下会导致一个线程获得还没有初始化的实例。例如，线程T1执行了1和 3，此时线程T2调用<C>getUniqueInstance()</C>后发现 <C>uniqueInstance</C>不为空，因此返回<C>uniqueInstance</C>，但此时</C>uniqueInstance</C>还未被初始化。</p>
<p>使用<C>volatile</C>可以<strong>禁止指令重排序优化</strong>，保证在多线程环境下也能正常运行(volatile的讨论参见<a href="http://larryim.cc/note-os/java/ujvm/ch12/#volatile">深入了解JVM</a>)。</p>
<h4 id="serialization">Serialization<a class="headerlink" href="#serialization" title="Permanent link">&para;</a></h4>
<p>通过对<C>Singleton</C>的序列化与反序列化得到的对象是一个全新的对象，这就破坏了<C>Singleton</C>的单例性。</p>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>agrs</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>Exception</span>  <span class=o>{</span>
    <span class=c1>// write singleton to file</span>
    <span class=n>FileOutputStream</span> <span class=n>fileOutputStream</span> <span class=o>=</span> <span class=k>new</span> <span class=n>FileOutputStream</span><span class=o>(</span><span class=s>&quot;singleton.ser&quot;</span><span class=o>);</span>
    <span class=n>ObjectOutputStream</span> <span class=n>objectOutputStream</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ObjectOutputStream</span><span class=o>(</span><span class=n>fileOutputStream</span><span class=o>);</span>
    <span class=n>objectOutputStream</span><span class=o>.</span><span class=na>writeObject</span><span class=o>(</span><span class=n>Singleton</span><span class=o>.</span><span class=na>getInstance</span><span class=o>());</span>
    <span class=n>objectOutputStream</span><span class=o>.</span><span class=na>close</span><span class=o>();</span>

    <span class=c1>// read singleton from file</span>
    <span class=n>FileInputStream</span> <span class=n>fileInputStream</span> <span class=o>=</span> <span class=k>new</span> <span class=n>FileInputStream</span><span class=o>(</span><span class=s>&quot;singleton.ser&quot;</span><span class=o>);</span>
    <span class=n>ObjectInputStream</span> <span class=n>objectInputStream</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ObjectInputStream</span><span class=o>(</span><span class=n>fileInputStream</span><span class=o>);</span>
    <span class=n>Singleton</span> <span class=n>anotherSingleton</span> <span class=o>=</span> <span class=o>(</span><span class=n>Singleton</span><span class=o>)</span> <span class=n>objectInputStream</span><span class=o>.</span><span class=na>readObject</span><span class=o>();</span>
    <span class=n>objectInputStream</span><span class=o>.</span><span class=na>close</span><span class=o>();</span>

    <span class=c1>// result: false</span>
    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>anotherSingleton</span> <span class=o>==</span> <span class=n>Singleton</span><span class=o>.</span><span class=na>getInstance</span><span class=o>());</span>
<span class=o>}</span>
</pre></div></p>
<p>一个解决方法是添加<C>readResolve()</C>方法。</p>
<blockquote>
<p><C>readResolve()</C> is used for replacing the object read from the stream. A common usage  is enforcing singletons; when an object is read, replace it with the singleton instance. This ensures that nobody can create another instance by serializing and deserializing the singleton. <a href="https://stackoverflow.com/questions/1168348/java-serialization-readobject-vs-readresolve">ref</a></p>
</blockquote>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Singleton</span> <span class=o>{</span>
    <span class=o>....</span>
    <span class=kd>private</span> <span class=n>Object</span> <span class=nf>readResolve</span><span class=o>()</span> <span class=o>{</span>
       <span class=c1>// instead of the object we&#39;re on,</span>
       <span class=c1>// return the class variable INSTANCE</span>
      <span class=k>return</span> <span class=n>unique</span><span class=o>;</span>
<span class=o>}</span>
</pre></div></p>
<p>其具体原因是：</p>
<blockquote>
<p>The <C>readResolve</C> method is called when <C>ObjectInputStream</C> has read an object from the stream and is preparing to return it to the caller. <C>ObjectInputStream</C>  checks whether the class of the object defines the <C>readResolve</C> method. If the method is defined, the <C>readResolve</C> method is called to allow the object in the stream to designate the object to be returned. The object returned should be of a type that is compatible with all uses. If it is not compatible, a <C>ClassCastException</C> will be thrown when the type mismatch is discovered.</p>
</blockquote>
<h3 id="static-inner-class">Static Inner Class<a class="headerlink" href="#static-inner-class" title="Permanent link">&para;</a></h3>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Singleton</span> <span class=o>{</span>  
    <span class=kd>private</span> <span class=kd>static</span> <span class=kd>class</span> <span class=nc>SingletonHolder</span> <span class=o>{</span>  
        <span class=kd>private</span> <span class=kd>static</span> <span class=kd>final</span> <span class=n>Singleton</span> <span class=n>uniqueInstance</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Singleton</span><span class=o>();</span>  
    <span class=o>}</span>  
    <span class=kd>private</span> <span class=nf>Singleton</span> <span class=o>(){}</span>  
    <span class=kd>public</span> <span class=kd>static</span> <span class=kd>final</span> <span class=n>Singleton</span> <span class=nf>getInstance</span><span class=o>()</span> <span class=o>{</span>  
        <span class=k>return</span> <span class=n>SingletonHolder</span><span class=o>.</span><span class=na>uniqueInstance</span><span class=o>;</span>  
    <span class=o>}</span>  
<span class=o>}</span>
</pre></div></p>
<p>静态内部类利用了<C>classloader</C>机制保证初始化<code class="codehilite">uniqueInstance</code>时只有一个线程。注意只有当调用<C>getInstance</C>方法时，才会装载<C>SingletonHolder</C>，初始化<code class="codehilite">uniqueInstance</code>。</p>
<h3 id="enum">Enum<a class="headerlink" href="#enum" title="Permanent link">&para;</a></h3>
<p>枚举不仅能避免多线程同步问题，而且还能防止反序列化重新创建新的对象。</p>
<blockquote>
<p>This approach is functionally equivalent to the public field approach, except that it is more concise, provides the serialization machinery for free, and provides an ironclad guarantee against multiple instantiation, even in the face of sophisticated serialization or reflection attacks. While this approach has yet to be widely adopted, <em>a single-element enum type is the best way to implement a singleton</em>. <small>[Effective Java]</small></p>
</blockquote>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>enum</span> <span class=n>Singleton</span> <span class=o>{</span>  
    <span class=n>INSTANCE</span><span class=o>;</span>  
    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>whateverMethod</span><span class=o>()</span> <span class=o>{</span>  
    <span class=o>}</span>  
<span class=o>}</span>  
</pre></div></p>
<ol>
<li>线程安全：<C>Enum</C>中的枚举项实际上static类变量，static类型的属性会在类被加载之后被初始化。当一个Java类第一次被真正使用到的时候静态资源被初始化，Java类的加载和初始化过程都是线程安全的。所以，创建一个enum类型是线程安全的。</li>
<li>反序列化: 普通的Java类的反序列化过程中，会通过反射调用类的默认构造函数来初始化对象。所以，即使单例中构造函数是私有的，也会被反射给破坏掉。由于反序列化后的对象是重新new出来的，所以这就破坏了单例。但是，枚举的反序列化并不是通过反射实现的。所以，也就不会发生由于反序列化导致的单例破坏问题。</li>
</ol>
<blockquote>
<p>Enum constants are serialized differently than ordinary serializable or externalizable objects. The serialized form of an enum constant consists solely of its name; field values of the constant are not present in the form. To serialize an enum constant, <C>ObjectOutputStream</C> writes the value returned by the enum constant's name method. To deserialize an enum constant, <C>ObjectInputStream</C> reads the constant name from the stream; the deserialized constant is then obtained by calling the <C>java.lang.Enum.valueOf</C> method, passing the constant's enum type along with the received constant name as arguments. Like other serializable or externalizable objects, enum constants can function as the targets of back references appearing subsequently in the serialization stream.</p>
<p>The process by which enum constants are serialized cannot be customized: any class-specific <C>writeObject</C>, <C>readObject</C>, <C>readObjectNoData</C>, <C>writeReplace</C>, and <C>readResolve</C> methods defined by enum types are <em>ignored</em> during serialization and deserialization. Similarly, any <C>serialPersistentFields</C> or <C>serialVersionUID</C> field declarations are also ignored--all enum types have a fixed <C>serialVersionUID</C>  of 0L. Documenting serializable fields and data for enum types is unnecessary, since there is no variation in the type of data sent. <a href="https://docs.oracle.com/javase/7/docs/platform/serialization/spec/serial-arch.html#6469">Java Object Serialization Specification</a></p>
</blockquote></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../../../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
        <script src="../../../extra_javascript/tabhack.js" defer></script>
        <script src="../../../extra_javascript/baidu.js" defer></script>
        <script src="../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
