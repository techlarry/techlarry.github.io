<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Zhenhua Wang">
        <link rel="canonical" href="http://larryim.cc/note/tij/ch12/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Chapter 12: Holding Your Objects - Zhenhua's Notes</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/docco.min.css">
        <link href="../../extra_css/custom.css" rel="stylesheet">
        <link href="../../extra_css/custom.js" rel="stylesheet">
        <link href="../../extra_css/friendly.css" rel="stylesheet">
        <link href="../../extra_css/theme.css" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/lunr-0.5.7.min.js" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/mustache.min.js" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/require.js" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/search.js" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/text.js" rel="stylesheet">
        <link href="../../extra_css/code-tab.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../..">Zhenhua's Notes</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../..">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">OSC <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../osc/">Contents</a>
</li>
                                    
<li >
    <a href="../../osc/ch1/">Chapter 1: Introduction </a>
</li>
                                    
<li >
    <a href="../../osc/ch2/">Chapter 2: Operating System structures</a>
</li>
                                    
<li >
    <a href="../../osc/ch3/">Chapter 3: Processes</a>
</li>
                                    
<li >
    <a href="../../osc/ch4/">Chapter 4: Threads and Concurrency</a>
</li>
                                    
<li >
    <a href="../../osc/ch5/">Chapter 5: CPU Scheduling</a>
</li>
                                    
<li >
    <a href="../../osc/ch6/">Chapter 6: Synchronization Tools</a>
</li>
                                    
<li >
    <a href="../../osc/ch7/">Chapter 7: Synchronization Examples</a>
</li>
                                    
<li >
    <a href="../../osc/ch8/">Chapter 8: Deadlocks</a>
</li>
                                    
<li >
    <a href="../../osc/ch9/">Chapter 9: Main Memory</a>
</li>
                                    
<li >
    <a href="../../osc/ch10/">Chapter 10: Virtual Memory</a>
</li>
                                    
<li >
    <a href="../../osc/ch11/">Chapter 11: Mass-Storage Structure</a>
</li>
                                    
<li >
    <a href="../../osc/ch13/">Chapter 13: File-System Interfaces</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">CSAPP <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../csapp/">Contents</a>
</li>
                                    
<li >
    <a href="../../csapp/ch1/">Chapter 1: 计算机系统漫游</a>
</li>
                                    
<li >
    <a href="../../csapp/ch2/">Chapter 2: 信息的表示和处理</a>
</li>
                                    
<li >
    <a href="../../csapp/ch3/">Chapter 3: 程序的机器级表示</a>
</li>
                                    
<li >
    <a href="../../csapp/ch4/">Chapter 4: 处理器体系结构</a>
</li>
                                    
<li >
    <a href="../../csapp/ch5/">Chapter 5: 优化程序性能</a>
</li>
                                    
<li >
    <a href="../../csapp/ch6/">Chapter 6: 存储器层次结构</a>
</li>
                                    
<li >
    <a href="../../csapp/ch7/">Chapter 7: 链接</a>
</li>
                                    
<li >
    <a href="../../csapp/ch8/">Chapter 8: 异常控制流</a>
</li>
                                    
<li >
    <a href="../../csapp/ch9/">Chapter 9: 虚拟内存</a>
</li>
                                    
<li >
    <a href="../../csapp/ch10/">Chapter 10: 系统级I/O</a>
</li>
                                    
<li >
    <a href="../../csapp/ch11/">Chapter 11: 网络编程</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">MySql <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../mysql/">Contents</a>
</li>
                                    
<li >
    <a href="../../mysql/LearningMySQLandMariaDB/">Chapter Learning MySQL and MariaDB</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">HFJ <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../hfj/">Contents</a>
</li>
                                    
<li >
    <a href="../../hfj/ch1/">Chapter 1: Dive in A Quick Dip</a>
</li>
                                    
<li >
    <a href="../../hfj/ch2/">Chapter 2: Classes and Objects</a>
</li>
                                    
<li >
    <a href="../../hfj/ch3/">Chapter 3: Primitives and References</a>
</li>
                                    
<li >
    <a href="../../hfj/ch4/">Chapter 4: Methods use Instance Variables</a>
</li>
                                    
<li >
    <a href="../../hfj/ch5/">Chapter 5: Writing a Program</a>
</li>
                                    
<li >
    <a href="../../hfj/ch6/">Chapter 6: Get to Know the Java API</a>
</li>
                                    
<li >
    <a href="../../hfj/ch7/">Chapter 7: Inheritance and Polymorphism</a>
</li>
                                    
<li >
    <a href="../../hfj/ch8/">Chapter 8: Interfaces and Abstract Classes</a>
</li>
                                    
<li >
    <a href="../../hfj/ch9/">Chapter 9: Constructors and Garbage Collection</a>
</li>
                                    
<li >
    <a href="../../hfj/ch10/">Chapter 10: Numbers and Statics</a>
</li>
                                    
<li >
    <a href="../../hfj/ch11/">Chapter 11: Exception Handling</a>
</li>
                                    
<li >
    <a href="../../hfj/ch12/">Chapter 12: Getting GUI</a>
</li>
                                    
<li >
    <a href="../../hfj/ch13/">Chapter 13: Using Swing</a>
</li>
                                    
<li >
    <a href="../../hfj/ch14/">Chapter 14: Serialization and File I/O</a>
</li>
                                    
<li >
    <a href="../../hfj/ch15/">Chapter 15: Networking and Threads</a>
</li>
                                    
<li >
    <a href="../../hfj/ch16/">Chapter 16: Collections and Generics</a>
</li>
                                    
<li >
    <a href="../../hfj/ch17/">Chapter 17: Packages, Jars and Deployment</a>
</li>
                                    
<li >
    <a href="../../hfj/ch18/">Chapter 18: Remote deploy with RMI</a>
</li>
                                    
<li >
    <a href="../../hfj/Appendix/">Appendix: The Top Ten Topics</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">HFDP <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../hfdp/">Contents</a>
</li>
                                    
<li >
    <a href="../../hfdp/ch1/">Chapter 1: Strategy Pattern </a>
</li>
                                    
<li >
    <a href="../../hfdp/ch2/">Chapter 2: Observer Pattern</a>
</li>
                                    
<li >
    <a href="../../hfdp/ch3/">Chapter 3: Decorator Pattern </a>
</li>
                                    
<li >
    <a href="../../hfdp/ch4/">Chapter 4: Factory Pattern</a>
</li>
                                    
<li >
    <a href="../../hfdp/ch5/">Chapter 5: Singleton Pattern</a>
</li>
                                    
<li >
    <a href="../../hfdp/ch6/">Chapter 6: Command Pattern</a>
</li>
                                    
<li >
    <a href="../../hfdp/ch7/">Chapter 7: Adapter and Facade Patterns</a>
</li>
                                    
<li >
    <a href="../../hfdp/ch8/">Chapter 8: Template Method Pattern</a>
</li>
                                    
<li >
    <a href="../../hfdp/ch9/">Chapter 9: Iterator and Composite Patterns</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">TIJ <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../">Contents</a>
</li>
                                    
<li >
    <a href="../ch1/">Chapter 1: Introduction</a>
</li>
                                    
<li >
    <a href="../ch2/">Chapter 2: Introduction to Objects</a>
</li>
                                    
<li >
    <a href="../ch3/">Chapter 3: Everything is an Object</a>
</li>
                                    
<li >
    <a href="../ch4/">Chapter 4: Opertors</a>
</li>
                                    
<li >
    <a href="../ch5/">Chapter 5: Controlling Execution</a>
</li>
                                    
<li >
    <a href="../ch6/">Chapter 6: Initialization & Cleanup</a>
</li>
                                    
<li >
    <a href="../ch7/">Chapter 7: Access Control</a>
</li>
                                    
<li >
    <a href="../ch8/">Chapter 8: Reusing Clases</a>
</li>
                                    
<li >
    <a href="../ch9/">Chapter 9: Polymorphism</a>
</li>
                                    
<li >
    <a href="../ch10/">Chapter 10: Interfaces</a>
</li>
                                    
<li >
    <a href="../ch11/">Chapter 11: Inner Classes</a>
</li>
                                    
<li class="active">
    <a href="./">Chapter 12: Holding Your Objects</a>
</li>
                                    
<li >
    <a href="../ch13/">Chapter 13: Error Handling with Exceptions</a>
</li>
                                    
<li >
    <a href="../ch14/">Chapter 14: Strings</a>
</li>
                                    
<li >
    <a href="../ch15/">Chapter 15: Type Information</a>
</li>
                                    
<li >
    <a href="../ch16/">Chapter 16: Generics</a>
</li>
                                    
<li >
    <a href="../ch17/">Chapter 17: Arrays</a>
</li>
                                    
<li >
    <a href="../ch18/">Chapter 18: Containers in Depth</a>
</li>
                                    
<li >
    <a href="../ch19/">Chapter 19: I/O</a>
</li>
                                    
<li >
    <a href="../ch20/">Chapter 20: Enumerated Types</a>
</li>
                                    
<li >
    <a href="../ch21/">Chapter 21: Annotations</a>
</li>
                                    
<li >
    <a href="../ch22/">Chapter 22: Concurrency</a>
</li>
                                    
<li >
    <a href="../ch23/">Chapter 23: Graphical User Interfaces</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">UJVM <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../ujvm/">Contents</a>
</li>
                                    
<li >
    <a href="../../ujvm/ch1/">Chapter 1 : 走进Java</a>
</li>
                                    
<li >
    <a href="../../ujvm/ch2/">Chapter 2 : Java内存区域与内存溢出正常</a>
</li>
                                    
<li >
    <a href="../../ujvm/ch3/">Chapter 3 : 垃圾收集器与内存分配策略</a>
</li>
                                    
<li >
    <a href="../../ujvm/ch4/">Chapter 4 : 虚拟机性能监控与故障处理工具</a>
</li>
                                    
<li >
    <a href="../../ujvm/ch5/">Chapter 5 : 调优案例分析与实战</a>
</li>
                                    
<li >
    <a href="../../ujvm/ch6/">Chapter 6 : 类文件结构</a>
</li>
                                    
<li >
    <a href="../../ujvm/ch7/">Chapter 7 : 虚拟机类加载机制</a>
</li>
                                    
<li >
    <a href="../../ujvm/ch8/">Chapter 8 : 虚拟机字节码执行引擎</a>
</li>
                                    
<li >
    <a href="../../ujvm/ch9/">Chapter 9 : 类加载及执行子系统的案例与实战</a>
</li>
                                    
<li >
    <a href="../../ujvm/ch10/">Chapter 10 : 早期(编译期)优化</a>
</li>
                                    
<li >
    <a href="../../ujvm/ch11/">Chapter 11 : 晚期(运行期)优化</a>
</li>
                                    
<li >
    <a href="../../ujvm/ch12/">Chapter 12 : Java内存模型与线程</a>
</li>
                                    
<li >
    <a href="../../ujvm/ch13/">Chapter 13 : 线程安全与锁优化</a>
</li>
                                    
<li >
    <a href="../../ujvm/AppendixC/">Appendix HotSpot虚拟机主要参数列表</a>
</li>
                                </ul>
                            </li>
                            <li >
                                <a href="../../books/">Books</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../ch11/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../ch13/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#thinking-in-java-12-holding-your-objects">Thinking in Java 12 - Holding Your Objects</a></li>
            <li><a href="#generics-and-type-safe-containers">Generics and type-safe containers</a></li>
            <li><a href="#basic-concepts">Basic concepts</a></li>
            <li><a href="#adding-groups-of-elements">Adding groups of elements</a></li>
            <li><a href="#printing-containers">Printing containers</a></li>
            <li><a href="#list">List</a></li>
            <li><a href="#listiterator">ListIterator</a></li>
            <li><a href="#set">Set</a></li>
            <li><a href="#map">Map</a></li>
            <li><a href="#priorityqueue">PriorityQueue</a></li>
            <li><a href="#foreach-and-iterators">Foreach and iterators</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h3 id="thinking-in-java-12-holding-your-objects"><strong>Thinking in Java 12 - Holding Your Objects</strong><a class="headerlink" href="#thinking-in-java-12-holding-your-objects" title="Permanent link">&para;</a></h3>
<p>The <C>java.util</C> library has a reasonably complete set of container classes, the basic types of which are <C>List</C>, <C>Set</C>, <C>Queue</C>, and <C>Map</C>.</p>
<h4 id="generics-and-type-safe-containers">Generics and type-safe containers<a class="headerlink" href="#generics-and-type-safe-containers" title="Permanent link">&para;</a></h4>
<p>One of the problems of using pre-Java SE5 containers was that the compiler allowed you to insert an incorrect type into a container.</p>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>class</span> <span class=nc>ApplesAndOrangesWithoutGenerics</span> <span class=o>{</span>
  <span class=nd>@SuppressWarnings</span><span class=o>(</span><span class=s>&quot;unchecked&quot;</span><span class=o>)</span>
  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
    <span class=n>ArrayList</span> <span class=n>apples</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>();</span>
    <span class=k>for</span><span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
      <span class=n>apples</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=k>new</span> <span class=n>Apple</span><span class=o>());</span>
    <span class=c1>// Not prevented from adding an Orange to apples:</span>
    <span class=n>apples</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=k>new</span> <span class=n>Orange</span><span class=o>());</span>
    <span class=k>for</span><span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>apples</span><span class=o>.</span><span class=na>size</span><span class=o>();</span> <span class=n>i</span><span class=o>++)</span>
      <span class=o>((</span><span class=n>Apple</span><span class=o>)</span><span class=n>apples</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>i</span><span class=o>)).</span><span class=na>id</span><span class=o>();</span>
      <span class=c1>// Orange is detected only at run time</span>
  <span class=o>}</span>
<span class=o>}</span>

<span class=c1>//output: Exception in thread &quot;main&quot; </span>
<span class=n>java</span><span class=o>.</span><span class=na>lang</span><span class=o>.</span><span class=na>ClassCastException</span><span class=o>:</span> <span class=n>holding</span><span class=o>.</span><span class=na>Orange</span> <span class=n>cannot</span> <span class=n>be</span> <span class=n>cast</span> <span class=n>to</span> <span class=n>holding</span><span class=o>.</span><span class=na>Apple</span>
</pre></div></p>
<p>With generics, you're prevented, at <strong>compile</strong> time, from putting the wrong type of object into a container. Now the compiler will prevent you from putting an Orange into apples, so it becomes a compile-time error rather than a runtime error.</p>
<h4 id="basic-concepts">Basic concepts<a class="headerlink" href="#basic-concepts" title="Permanent link">&para;</a></h4>
<p>The Java container library takes the idea of "holding your objects" and divides it into two distinct concepts, expressed as the basic interfaces of the library:</p>
<ul>
<li><C>Collection</C>: a sequence of individual elements with one or more rules applied to them.<ul>
<li><C>List</C>, <C>Set</C>, <C>Queue</C></li>
<li>The <C>Collection</C> interface generalizes the idea of a <em>sequence</em>—a way of holding a group of objects. </li>
</ul>
</li>
<li><C>Map</C>: a group of key-value object pairs, allowing you to look up a value using a key.</li>
</ul>
<h4 id="adding-groups-of-elements">Adding groups of elements<a class="headerlink" href="#adding-groups-of-elements" title="Permanent link">&para;</a></h4>
<ul>
<li><C>Arrays.asList()</C> takes either an array or a comma-separated list of elements (using varargs) and turns it into a <C>List</C> object. </li>
<li><C>Collections.addAll()</C> takes a <C>Collection</C> object and either an array or a comma-separated list and adds the elements to the <C>Collection</C>.</li>
</ul>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Arrays</span> <span class=o>{</span> 
<span class=o>...</span>
    <span class=kd>public</span> <span class=kd>static</span> <span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=nf>asList</span><span class=o>(</span><span class=n>T</span><span class=o>...</span> <span class=n>a</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>return</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;(</span><span class=n>a</span><span class=o>);</span>
    <span class=o>}</span>
<span class=o>...</span>
</pre></div></p>
<h4 id="printing-containers">Printing containers<a class="headerlink" href="#printing-containers" title="Permanent link">&para;</a></h4>
<p>You must use <C>Arrays.toString()</C> to produce a printable representation of an array, but the containers print nicely without any help.</p>
<h4 id="list">List<a class="headerlink" href="#list" title="Permanent link">&para;</a></h4>
<p>Lists promise to maintain elements in a particular sequence. The <C>List</C> interface adds a number of methods to <C>Collection</C> that allow insertion and removal of elements in the middle of a <C>List</C>.</p>
<p>There are two types of <C>List</C>:</p>
<ul>
<li>The basic <C>ArrayList</C>, which excels at randomly accessing elements, but is slower when inserting and removing elements in the middle of a List.</li>
<li>The <C>LinkedList</C>, which provides optimal sequential access, with inexpensive insertions and deletions from the middle of the List. A <C>LinkedList</C> is relatively slow for random access, but it has a larger feature set than the <C>ArrayList</C>.</li>
</ul>
<h4 id="listiterator">ListIterator<a class="headerlink" href="#listiterator" title="Permanent link">&para;</a></h4>
<p>The <C>ListIterator</C> is a more powerful subtype of <C>Iterator</C> that is produced only by <C>List</C> classes. While <C>Iterator</C> can only move forward, <C>ListIterator</C> is bidirectional.</p>
<p><img alt="listIterator" src="../figures/listIterator.png" /></p>
<p>A <C>ListIterator</C> has no current element; its <I>cursor position</I> always lies between the element that would be returned by a call to <C>previous()</C> and the element that would be returned by a call to <C>next()</C>. An iterator for a list of length n has n+1 possible
cursor positions, as illustrated by the carets (^ ) below:</p>
<p> <div class=codehilite><pre>                     Element(0)   Element(1)   Element(2)   ... Element(n-1)
cursor positions:  ^            ^            ^            ^      
</pre></div></p>
<p>An example:</p>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>class</span> <span class=nc>ListIteration</span> <span class=o>{</span>
  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
    <span class=n>List</span><span class=o>&lt;</span><span class=n>Pet</span><span class=o>&gt;</span> <span class=n>pets</span> <span class=o>=</span> <span class=n>Pets</span><span class=o>.</span><span class=na>arrayList</span><span class=o>(</span><span class=mi>8</span><span class=o>);</span>
    <span class=n>ListIterator</span><span class=o>&lt;</span><span class=n>Pet</span><span class=o>&gt;</span> <span class=n>it</span> <span class=o>=</span> <span class=n>pets</span><span class=o>.</span><span class=na>listIterator</span><span class=o>();</span>
    <span class=k>while</span><span class=o>(</span><span class=n>it</span><span class=o>.</span><span class=na>hasNext</span><span class=o>())</span>
      <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>print</span><span class=o>(</span><span class=n>it</span><span class=o>.</span><span class=na>next</span><span class=o>()</span> <span class=o>+</span> <span class=s>&quot;, &quot;</span> <span class=o>+</span> <span class=n>it</span><span class=o>.</span><span class=na>nextIndex</span><span class=o>()</span> <span class=o>+</span>
        <span class=s>&quot;, &quot;</span> <span class=o>+</span> <span class=n>it</span><span class=o>.</span><span class=na>previousIndex</span><span class=o>()</span> <span class=o>+</span> <span class=s>&quot;; &quot;</span><span class=o>);</span>
    <span class=o>}</span>
  <span class=o>}</span>
<span class=o>}</span> 
<span class=c1>// Output:</span>
<span class=c1>// Rat, 1, 0; Manx, 2, 1; Cymric, 3, 2; Mutt, 4, 3; Pug, 5, 4; </span>
<span class=c1>// Cymric, 6, 5; Pug, 7, 6; Manx, 8, 7;</span>
</pre></div></p>
<h4 id="set">Set<a class="headerlink" href="#set" title="Permanent link">&para;</a></h4>
<ul>
<li><C>TreeSet</C> keeps elements sorted into a red-black tree data structure.</li>
<li><C>HashSet</C> uses the hashing function.</li>
<li><C>LinkedHashSet</C> also uses hashing for lookup speed, but appears to maintain elements in insertion order using a linked list.</li>
</ul>
<p>If you want the results to be sorted, one approach is to use a <C>TreeSet</C> instead of a <C>HashSet</C>.</p>
<h4 id="map">Map<a class="headerlink" href="#map" title="Permanent link">&para;</a></h4>
<p><C>LinkedList</C> has methods to support queue behavior and it implements the <C>Queue</C> interface, so a <C>LinkedList</C> can be used as a <C>Queue</C> implementation by upcasting a <C>LinkedList</C> to a <C>Queue</C>.</p>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>class</span> <span class=nc>LinkedList</span><span class=o>&lt;</span><span class=n>E</span><span class=o>&gt;</span>
    <span class=kd>extends</span> <span class=n>AbstractSequentialList</span><span class=o>&lt;</span><span class=n>E</span><span class=o>&gt;</span>
    <span class=kd>implements</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>E</span><span class=o>&gt;,</span> <span class=n>Deque</span><span class=o>&lt;</span><span class=n>E</span><span class=o>&gt;,</span> <span class=n>Cloneable</span><span class=o>,</span> <span class=n>java</span><span class=o>.</span><span class=na>io</span><span class=o>.</span><span class=na>Serializable</span>
</pre></div></p>
<p>Interface <C>Queue</C>:</p>
<p><img alt="InterfaceQueue" src="../figures/InterfaceQueue.png" /></p>
<p><C>offer()</C> inserts an element at the tail of the queue if it can, or returns false. Both <C>peek()</C> and <C>element()</C> return the head of the queue without removing it, but <C>peek()</C> returns null if the queue is empty and <C>element()</C> throws <C>NoSuchElementException</C>. Both <C>poll()</C> and <C>remove()</C> remove and return the head of the queue, but <C>poll()</C> returns null if the queue is empty, while <C>remove()</C>throws<C>NoSuchElementException</C>.</p>
<p> <div class=codehilite><pre><span class=kd>public</span> <span class=kd>class</span> <span class=nc>QueueDemo</span> <span class=o>{</span>
  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>printQ</span><span class=o>(</span><span class=n>Queue</span> <span class=n>queue</span><span class=o>)</span> <span class=o>{</span>
    <span class=k>while</span><span class=o>(</span><span class=n>queue</span><span class=o>.</span><span class=na>peek</span><span class=o>()</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>)</span>
      <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>print</span><span class=o>(</span><span class=n>queue</span><span class=o>.</span><span class=na>remove</span><span class=o>()</span> <span class=o>+</span> <span class=s>&quot; &quot;</span><span class=o>);</span>
    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>();</span>
  <span class=o>}</span>
  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
    <span class=n>Queue</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>queue</span> <span class=o>=</span> <span class=k>new</span> <span class=n>LinkedList</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;();</span>
    <span class=n>Random</span> <span class=n>rand</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Random</span><span class=o>(</span><span class=mi>47</span><span class=o>);</span>
    <span class=k>for</span><span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>10</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
      <span class=n>queue</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>rand</span><span class=o>.</span><span class=na>nextInt</span><span class=o>(</span><span class=n>i</span> <span class=o>+</span> <span class=mi>10</span><span class=o>));</span>
    <span class=n>printQ</span><span class=o>(</span><span class=n>queue</span><span class=o>);</span>
    <span class=n>Queue</span><span class=o>&lt;</span><span class=n>Character</span><span class=o>&gt;</span> <span class=n>qc</span> <span class=o>=</span> <span class=k>new</span> <span class=n>LinkedList</span><span class=o>&lt;</span><span class=n>Character</span><span class=o>&gt;();</span>
    <span class=k>for</span><span class=o>(</span><span class=kt>char</span> <span class=n>c</span> <span class=o>:</span> <span class=s>&quot;Brontosaurus&quot;</span><span class=o>.</span><span class=na>toCharArray</span><span class=o>())</span>
      <span class=n>qc</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>c</span><span class=o>);</span>
    <span class=n>printQ</span><span class=o>(</span><span class=n>qc</span><span class=o>);</span>
  <span class=o>}</span>
<span class=o>}</span> <span class=cm>/* Output:</span>
<span class=cm>8 1 1 1 5 14 3 1 0 1</span>
<span class=cm>B r o n t o s a u r u s</span>
<span class=cm>*/</span><span class=c1>//:~</span>
</pre></div></p>
<h4 id="priorityqueue">PriorityQueue<a class="headerlink" href="#priorityqueue" title="Permanent link">&para;</a></h4>
<p>The elements of the priority queue are ordered according to their <C>Comparable</C> natural ordering, or by a <C>Comparator</C> provided at queue construction time, depending on which constructor is used. </p>
<p> <div class=codehilite><pre><span class=c1>// natural order</span>
<span class=n>PriorityQueue</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>priorityQueue</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PriorityQueue</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;();</span>
<span class=c1>// reverse natural order</span>
<span class=n>priorityQueue</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PriorityQueue</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;(</span><span class=n>ints</span><span class=o>.</span><span class=na>size</span><span class=o>(),</span> <span class=n>Collections</span><span class=o>.</span><span class=na>reverseOrder</span><span class=o>());</span>
</pre></div></p>
<h4 id="foreach-and-iterators">Foreach and iterators<a class="headerlink" href="#foreach-and-iterators" title="Permanent link">&para;</a></h4>
<p>Java SE5 introduced a new interface called <C>Iterable</C> which contains an <C>iterator()</C> method to produce an <C>Iterator</C>, and the <C>Iterable</C> interface is what foreach uses to move through a sequence. So if you create any class that implements <C>Iterable</C>, you can use it in a foreach statement.</p>
<p>From Java SE5, a number of classes have been made <C>Iterable</C>, primarily all <C>Collection</C> classes (but not <C>Maps</C>).</p>
<p><C>Map.entrySet()</C> produces a <C>Set</C> of <C>Map.Entry</C> elements, and a <C>Set</C> is <C>Iterable</C> so it can be used in a foreach loop.</p>
<p> <div class=codehilite><pre><span class=n>HashMap</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>HashMap</span><span class=o>&gt;</span> <span class=n>selects</span> <span class=o>=</span> <span class=k>new</span> <span class=n>HashMap</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>HashMap</span><span class=o>&gt;();</span>
<span class=k>for</span><span class=o>(</span><span class=n>Map</span><span class=o>.</span><span class=na>Entry</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>HashMap</span><span class=o>&gt;</span> <span class=n>entry</span> <span class=o>:</span> <span class=n>selects</span><span class=o>.</span><span class=na>entrySet</span><span class=o>())</span> <span class=o>{</span>
    <span class=n>String</span> <span class=n>key</span> <span class=o>=</span> <span class=n>entry</span><span class=o>.</span><span class=na>getKey</span><span class=o>();</span>
    <span class=n>HashMap</span> <span class=n>value</span> <span class=o>=</span> <span class=n>entry</span><span class=o>.</span><span class=na>getValue</span><span class=o>();</span>

    <span class=c1>// do what you have to do here</span>
    <span class=c1>// In your case, another loop.</span>
<span class=o>}</span>
</pre></div></p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
        <script src="../../extra_javascript/tabhack.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
