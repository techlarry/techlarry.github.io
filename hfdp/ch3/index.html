<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Zhenhua Wang">
        <link rel="canonical" href="http://larryim.cc/note/hfdp/ch3/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Chapter 3: Decorator Pattern  - Zhenhua's Notes</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../extra_css/custom.css" rel="stylesheet">
        <link href="../../extra_css/custom.js" rel="stylesheet">
        <link href="../../extra_css/friendly.css" rel="stylesheet">
        <link href="../../extra_css/theme.css" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/lunr-0.5.7.min.js" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/mustache.min.js" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/require.js" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/search.js" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/text.js" rel="stylesheet">
        <link href="../../extra_css/code-tab.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../..">Zhenhua's Notes</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../..">Home</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">OSC <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../osc/">Contents</a>
</li>
                            
<li >
    <a href="../../osc/ch1/">Chapter 1: Introduction </a>
</li>
                            
<li >
    <a href="../../osc/ch2/">Chapter 2: Operating System structures</a>
</li>
                            
<li >
    <a href="../../osc/ch3/">Chapter 3: Processes</a>
</li>
                            
<li >
    <a href="../../osc/ch4/">Chapter 4: Threads and Concurrency</a>
</li>
                            
<li >
    <a href="../../osc/ch5/">Chapter 5: CPU Scheduling</a>
</li>
                            
<li >
    <a href="../../osc/ch6/">Chapter 6: Synchronization Tools</a>
</li>
                            
<li >
    <a href="../../osc/ch7/">Chapter 7: Synchronization Examples</a>
</li>
                            
<li >
    <a href="../../osc/ch8/">Chapter 8: Deadlocks</a>
</li>
                            
<li >
    <a href="../../osc/ch9/">Chapter 9: Main Memory</a>
</li>
                            
<li >
    <a href="../../osc/ch10/">Chapter 10: Virtual Memory</a>
</li>
                            
<li >
    <a href="../../osc/ch11/">Chapter 11: Mass-Storage Structure</a>
</li>
                            
<li >
    <a href="../../osc/ch13/">Chapter 13: File-System Interfaces</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">CSAPP <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../csapp/">Contents</a>
</li>
                            
<li >
    <a href="../../csapp/ch1/">Chapter 1: 计算机系统漫游</a>
</li>
                            
<li >
    <a href="../../csapp/ch2/">Chapter 2: 信息的表示和处理</a>
</li>
                            
<li >
    <a href="../../csapp/ch3/">Chapter 3: 程序的机器级表示</a>
</li>
                            
<li >
    <a href="../../csapp/ch4/">Chapter 4: 处理器体系结构</a>
</li>
                            
<li >
    <a href="../../csapp/ch5/">Chapter 5: 优化程序性能</a>
</li>
                            
<li >
    <a href="../../csapp/ch6/">Chapter 6: 存储器层次结构</a>
</li>
                            
<li >
    <a href="../../csapp/ch7/">Chapter 7: 链接</a>
</li>
                            
<li >
    <a href="../../csapp/ch8/">Chapter 8: 异常控制流</a>
</li>
                            
<li >
    <a href="../../csapp/ch9/">Chapter 9: 虚拟内存</a>
</li>
                            
<li >
    <a href="../../csapp/ch10/">Chapter 10: 系统级I/O</a>
</li>
                            
<li >
    <a href="../../csapp/ch11/">Chapter 11: 网络编程</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">HFJ <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../hfj/">Contents</a>
</li>
                            
<li >
    <a href="../../hfj/ch1/">Chapter 1: Dive in A Quick Dip</a>
</li>
                            
<li >
    <a href="../../hfj/ch2/">Chapter 2: Classes and Objects</a>
</li>
                            
<li >
    <a href="../../hfj/ch3/">Chapter 3: Primitives and References</a>
</li>
                            
<li >
    <a href="../../hfj/ch4/">Chapter 4: Methods use Instance Variables</a>
</li>
                            
<li >
    <a href="../../hfj/ch5/">Chapter 5: Writing a Program</a>
</li>
                            
<li >
    <a href="../../hfj/ch6/">Chapter 6: Get to Know the Java API</a>
</li>
                            
<li >
    <a href="../../hfj/ch7/">Chapter 7: Inheritance and Polymorphism</a>
</li>
                            
<li >
    <a href="../../hfj/ch8/">Chapter 8: Interfaces and Abstract Classes</a>
</li>
                            
<li >
    <a href="../../hfj/ch9/">Chapter 9: Constructors and Garbage Collection</a>
</li>
                            
<li >
    <a href="../../hfj/ch10/">Chapter 10: Numbers and Statics</a>
</li>
                            
<li >
    <a href="../../hfj/ch11/">Chapter 11: Exception Handling</a>
</li>
                            
<li >
    <a href="../../hfj/ch12/">Chapter 12: Getting GUI</a>
</li>
                            
<li >
    <a href="../../hfj/ch13/">Chapter 13: Using Swing</a>
</li>
                            
<li >
    <a href="../../hfj/ch14/">Chapter 14: Serialization and File I/O</a>
</li>
                            
<li >
    <a href="../../hfj/ch15/">Chapter 15: Networking and Threads</a>
</li>
                            
<li >
    <a href="../../hfj/ch16/">Chapter 16: Collections and Generics</a>
</li>
                            
<li >
    <a href="../../hfj/ch17/">Chapter 17: Packages, Jars and Deployment</a>
</li>
                            
<li >
    <a href="../../hfj/ch18/">Chapter 18: Remote deploy with RMI</a>
</li>
                            
<li >
    <a href="../../hfj/Appendix/">Appendix: The Top Ten Topics</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">HFDP <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../">Contents</a>
</li>
                            
<li >
    <a href="../ch1/">Chapter 1: Strategy Pattern </a>
</li>
                            
<li >
    <a href="../ch2/">Chapter 2: Observer Pattern</a>
</li>
                            
<li class="active">
    <a href="./">Chapter 3: Decorator Pattern </a>
</li>
                            
<li >
    <a href="../ch4/">Chapter 4: Factory Pattern</a>
</li>
                            
<li >
    <a href="../ch5/">Chapter 5: Singleton Pattern</a>
</li>
                            
<li >
    <a href="../ch6/">Chapter 6: Command Pattern</a>
</li>
                            
<li >
    <a href="../ch7/">Chapter 7: Adapter and Facade Patterns</a>
</li>
                            
<li >
    <a href="../ch8/">Chapter 8: Template Method Pattern</a>
</li>
                            
<li >
    <a href="../ch9/">Chapter 9: Iterator and Composite Patterns</a>
</li>
                            
<li >
    <a href="../ch10/">Chapter 10: State Pattern</a>
</li>
                            
<li >
    <a href="../ch11/">Chapter 11: Proxy Pattern</a>
</li>
                            
<li >
    <a href="../ch12/">Chapter 12: Compound Pattern</a>
</li>
                            
<li >
    <a href="../ch13/">Chapter 13: Better Living with Patterns</a>
</li>
                            
<li >
    <a href="../Appendix/">Appendix: Design Pattern in Java Library</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">CS61B <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../cs61b/">Contents</a>
</li>
                            
<li >
    <a href="../../cs61b/Lab1/">Lab1: javac, java, git</a>
</li>
                            
<li >
    <a href="../../cs61b/Lab2/">Lab2: Unit Testing with JUnit and IntLists</a>
</li>
                            
<li >
    <a href="../../cs61b/Lab3/">Lab3: Unit Testing with JUnit, Debugging</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">TIJ <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../tij/">Contents</a>
</li>
                            
<li >
    <a href="../../tij/ch1/">Chapter 1: Introduction</a>
</li>
                            
<li >
    <a href="../../tij/ch2/">Chapter 2: Introduction to Objects</a>
</li>
                            
<li >
    <a href="../../tij/ch3/">Chapter 3: Everything is an Object</a>
</li>
                            
<li >
    <a href="../../tij/ch4/">Chapter 4: Opertors</a>
</li>
                            
<li >
    <a href="../../tij/ch5/">Chapter 5: Controlling Execution</a>
</li>
                            
<li >
    <a href="../../tij/ch6/">Chapter 6: Initialization & Cleanup</a>
</li>
                            
<li >
    <a href="../../tij/ch7/">Chapter 7: Access Control</a>
</li>
                            
<li >
    <a href="../../tij/ch8/">Chapter 8: Reusing Clases</a>
</li>
                            
<li >
    <a href="../../tij/ch9/">Chapter 9: Polymorphism</a>
</li>
                            
<li >
    <a href="../../tij/ch10/">Chapter 10: Interfaces</a>
</li>
                            
<li >
    <a href="../../tij/ch11/">Chapter 11: Inner Classes</a>
</li>
                            
<li >
    <a href="../../tij/ch12/">Chapter 12: Holding Your Objects</a>
</li>
                            
<li >
    <a href="../../tij/ch13/">Chapter 13: Error Handling with Exceptions</a>
</li>
                            
<li >
    <a href="../../tij/ch14/">Chapter 14: Strings</a>
</li>
                            
<li >
    <a href="../../tij/ch15/">Chapter 15: Type Information</a>
</li>
                            
<li >
    <a href="../../tij/ch16/">Chapter 16: Generics</a>
</li>
                            
<li >
    <a href="../../tij/ch17/">Chapter 17: Arrays</a>
</li>
                            
<li >
    <a href="../../tij/ch18/">Chapter 18: Containers in Depth</a>
</li>
                            
<li >
    <a href="../../tij/ch19/">Chapter 19: I/O</a>
</li>
                            
<li >
    <a href="../../tij/ch20/">Chapter 20: Enumerated Types</a>
</li>
                            
<li >
    <a href="../../tij/ch21/">Chapter 21: Annotations</a>
</li>
                            
<li >
    <a href="../../tij/ch22/">Chapter 22: Concurrency</a>
</li>
                            
<li >
    <a href="../../tij/ch23/">Chapter 23: Graphical User Interfaces</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">UJVM <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../ujvm/">Contents</a>
</li>
                            
<li >
    <a href="../../ujvm/ch1/">Chapter 1 : 走进Java</a>
</li>
                            
<li >
    <a href="../../ujvm/ch2/">Chapter 2 : Java内存区域与内存溢出正常</a>
</li>
                            
<li >
    <a href="../../ujvm/ch3/">Chapter 3 : 垃圾收集器与内存分配策略</a>
</li>
                            
<li >
    <a href="../../ujvm/ch4/">Chapter 4 : 虚拟机性能监控与故障处理工具</a>
</li>
                            
<li >
    <a href="../../ujvm/ch5/">Chapter 5 : 调优案例分析与实战</a>
</li>
                            
<li >
    <a href="../../ujvm/ch6/">Chapter 6 : 类文件结构</a>
</li>
                            
<li >
    <a href="../../ujvm/ch7/">Chapter 7 : 虚拟机类加载机制</a>
</li>
                            
<li >
    <a href="../../ujvm/ch8/">Chapter 8 : 虚拟机字节码执行引擎</a>
</li>
                            
<li >
    <a href="../../ujvm/ch9/">Chapter 9 : 类加载及执行子系统的案例与实战</a>
</li>
                            
<li >
    <a href="../../ujvm/ch10/">Chapter 10 : 早期(编译期)优化</a>
</li>
                            
<li >
    <a href="../../ujvm/ch11/">Chapter 11 : 晚期(运行期)优化</a>
</li>
                            
<li >
    <a href="../../ujvm/ch12/">Chapter 12 : Java内存模型与线程</a>
</li>
                            
<li >
    <a href="../../ujvm/ch13/">Chapter 13 : 线程安全与锁优化</a>
</li>
                            
<li >
    <a href="../../ujvm/AppendixC/">Appendix HotSpot虚拟机主要参数列表</a>
</li>
                        </ul>
                    </li>
                    <li >
                        <a href="../../books/">Books</a>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../ch2/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../ch4/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#head-first-design-patterns-3-decorator-pattern">Head First Design Patterns 3 - Decorator Pattern</a></li>
        <li class="main "><a href="#1-starbuzz-coffee">1 Starbuzz Coffee</a></li>
            <li><a href="#the-open-closed-principle">The Open-Closed Principle</a></li>
        <li class="main "><a href="#2-decorator-pattern">2 Decorator Pattern</a></li>
            <li><a href="#class-diagram">Class Diagram</a></li>
            <li><a href="#decorating-beverages">decorating beverages</a></li>
        <li class="main "><a href="#3-decorators-in-java-io">3 Decorators in Java I/O</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h3 id="head-first-design-patterns-3-decorator-pattern"><strong>Head First Design Patterns 3 - Decorator Pattern</strong><a class="headerlink" href="#head-first-design-patterns-3-decorator-pattern" title="Permanent link">&para;</a></h3>
<h3 id="1-starbuzz-coffee">1 Starbuzz Coffee<a class="headerlink" href="#1-starbuzz-coffee" title="Permanent link">&para;</a></h3>
<p>Starbuzz Coffee has made a name for itself as the fastest growing coffee shop around. Because they've grown so quickly, they're scrambling to update their ordering systems to match their beverage offerings. When they first went into business they designed their classes like this...</p>
<p><img alt="FirstBeverageDesign" src="../figures/FirstBeverageDesign.png" /></p>
<p>In addition to coffee, one can also ask for several condiments like steamed milk, soy, and mocha (otherwise known as chocolate), and have it all topped off with whipped milk.</p>
<p>Here’s their first attempt...</p>
<p><img alt="BeverageBadTry" src="../figures/BeverageBadTry.png" /></p>
<h4 id="the-open-closed-principle">The Open-Closed Principle<a class="headerlink" href="#the-open-closed-principle" title="Permanent link">&para;</a></h4>
<blockquote>
<p><strong>Design Principle</strong>: Classes should be open for extension, but closed for modification.
</p>
</blockquote>
<h3 id="2-decorator-pattern">2 Decorator Pattern<a class="headerlink" href="#2-decorator-pattern" title="Permanent link">&para;</a></h3>
<blockquote>
<p>The Decorator Pattern attaches additional responsibilities to an object dynamically. Decorators provide a flexible alternative to subclassing for extending functionality.</p>
<p>装饰器模式动态地将额外的责任附加到对象上。装饰器提供了比继承功能更灵活的替代方案。 </p>
</blockquote>
<ul>
<li>Think of decorator objects as "wrappers".</li>
<li>Decorators have the same supertype as the objects they decorate.</li>
<li>You can use one or more decorators to wrap an object.</li>
<li>Given that the decorator has the same supertype as the object it decorates, we can pass around a decorated object in place of the original (wrapped) object.</li>
<li>The decorator adds its own behavior either before and/or after delegating to the object it decorates to do the rest of the job.</li>
<li>Objects can be decorated at any time, so we can decorate objects dynamically at runtime with as many decorators as we like.</li>
</ul>
<h4 id="class-diagram">Class Diagram<a class="headerlink" href="#class-diagram" title="Permanent link">&para;</a></h4>
<p><img alt="DecoratorPatternUM" src="../figures/DecoratorPatternUML.png" /></p>
<ul>
<li>Each component can be used on its own, or wrapped by a decorator.</li>
<li>The <C>ConcreteComponent</C> is the object we're going to dynamically add new behavior to. It extends <C>component</C>.</li>
<li>Each decorator HAS-A (wraps) a component, which means the decorator has an instance variable that holds a reference to a component.</li>
<li>Decorators implement the same interface or abstract class as the component they are going to decorate.</li>
<li>The <C>ConcreteDecorator</C> has an instance variable for the thing it decorate (the <C>Component</C> the <C>Decorator</C> wraps).</li>
<li>Decorators can add new methods; however, new behavior is typically added by doing computation before or after an existing method in the component.</li>
</ul>
<h4 id="decorating-beverages">decorating beverages<a class="headerlink" href="#decorating-beverages" title="Permanent link">&para;</a></h4>
<p><img alt="DecoratingBeberages" src="../figures/DecoratingBeberages.png" /></p>
<div class=md-fenced-code-tabs id=tab-tab-group-0><input name=tab-group-0 type=radio id=tab-group-0-0_Java checked=checked class=code-tab data-lang=Java aria-controls=tab-group-0-0_Java-panel role=tab><label for=tab-group-0-0_Java class=code-tab-label data-lang=Java id=tab-group-0-0_Java-label>Beverage</label><div class=code-tabpanel role=tabpanel data-lang=Java id=tab-group-0-0_Java-panel aria-labelledby=tab-group-0-0_Java-label><div class=codehilite><pre><span class=kd>public</span> <span class=kd>abstract</span> <span class=kd>class</span> <span class=nc>Beverage</span> <span class=o>{</span>
    <span class=n>String</span> <span class=n>description</span> <span class=o>=</span> <span class=s>&quot;Unknown Beverage&quot;</span><span class=o>;</span>

    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getDescription</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=n>description</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=kd>abstract</span> <span class=kt>double</span> <span class=nf>cost</span><span class=o>();</span>
<span class=o>}</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>HouseBlend</span> <span class=kd>extends</span> <span class=n>Beverage</span> <span class=o>{</span>
    <span class=kd>public</span> <span class=nf>HouseBlend</span><span class=o>()</span> <span class=o>{</span>
        <span class=n>description</span> <span class=o>=</span> <span class=s>&quot;House Blend Coffee&quot;</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=kt>double</span> <span class=nf>cost</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=mf>.89</span><span class=o>;</span>
    <span class=o>}</span>
<span class=o>}</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>Espresso</span> <span class=kd>extends</span> <span class=n>Beverage</span> <span class=o>{</span>

    <span class=kd>public</span> <span class=nf>Espresso</span><span class=o>()</span> <span class=o>{</span>
        <span class=n>description</span> <span class=o>=</span> <span class=s>&quot;Espresso&quot;</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=kt>double</span> <span class=nf>cost</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=mf>1.99</span><span class=o>;</span>
    <span class=o>}</span>
<span class=o>}</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>Decaf</span> <span class=kd>extends</span> <span class=n>Beverage</span> <span class=o>{</span>
    <span class=kd>public</span> <span class=nf>Decaf</span><span class=o>()</span> <span class=o>{</span>
        <span class=n>description</span> <span class=o>=</span> <span class=s>&quot;Decaf Coffee&quot;</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=kt>double</span> <span class=nf>cost</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=mf>1.05</span><span class=o>;</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre></div></div><input name=tab-group-0 type=radio id=tab-group-0-1_Java class=code-tab data-lang=Java aria-controls=tab-group-0-1_Java-panel role=tab><label for=tab-group-0-1_Java class=code-tab-label data-lang=Java id=tab-group-0-1_Java-label>Condimentdecorator</label><div class=code-tabpanel role=tabpanel data-lang=Java id=tab-group-0-1_Java-panel aria-labelledby=tab-group-0-1_Java-label><div class=codehilite><pre><span class=kd>public</span> <span class=kd>abstract</span> <span class=kd>class</span> <span class=nc>CondimentDecorator</span> <span class=kd>extends</span> <span class=n>Beverage</span> <span class=o>{</span>
    <span class=kd>public</span> <span class=kd>abstract</span> <span class=n>String</span> <span class=nf>getDescription</span><span class=o>();</span>
<span class=o>}</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>Milk</span> <span class=kd>extends</span> <span class=n>CondimentDecorator</span> <span class=o>{</span>
    <span class=n>Beverage</span> <span class=n>beverage</span><span class=o>;</span>

    <span class=kd>public</span> <span class=nf>Milk</span><span class=o>(</span><span class=n>Beverage</span> <span class=n>beverage</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>this</span><span class=o>.</span><span class=na>beverage</span> <span class=o>=</span> <span class=n>beverage</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getDescription</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=n>beverage</span><span class=o>.</span><span class=na>getDescription</span><span class=o>()</span> <span class=o>+</span> <span class=s>&quot;, Milk&quot;</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=kt>double</span> <span class=nf>cost</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=mf>.10</span> <span class=o>+</span> <span class=n>beverage</span><span class=o>.</span><span class=na>cost</span><span class=o>();</span>
    <span class=o>}</span>
<span class=o>}</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>Mocha</span> <span class=kd>extends</span> <span class=n>CondimentDecorator</span> <span class=o>{</span>
    <span class=n>Beverage</span> <span class=n>beverage</span><span class=o>;</span>

    <span class=kd>public</span> <span class=nf>Mocha</span><span class=o>(</span><span class=n>Beverage</span> <span class=n>beverage</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>this</span><span class=o>.</span><span class=na>beverage</span> <span class=o>=</span> <span class=n>beverage</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getDescription</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=n>beverage</span><span class=o>.</span><span class=na>getDescription</span><span class=o>()</span> <span class=o>+</span> <span class=s>&quot;, Mocha&quot;</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=kt>double</span> <span class=nf>cost</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=mf>.20</span> <span class=o>+</span> <span class=n>beverage</span><span class=o>.</span><span class=na>cost</span><span class=o>();</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre></div></div><input name=tab-group-0 type=radio id=tab-group-0-2_Java class=code-tab data-lang=Java aria-controls=tab-group-0-2_Java-panel role=tab><label for=tab-group-0-2_Java class=code-tab-label data-lang=Java id=tab-group-0-2_Java-label>Starbuzzcoffee</label><div class=code-tabpanel role=tabpanel data-lang=Java id=tab-group-0-2_Java-panel aria-labelledby=tab-group-0-2_Java-label><div class=codehilite><pre><span class=kd>public</span> <span class=kd>class</span> <span class=nc>StarbuzzCoffee</span> <span class=o>{</span>

    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span> <span class=n>args</span><span class=o>[])</span> <span class=o>{</span>
        <span class=n>Beverage</span> <span class=n>beverage</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Espresso</span><span class=o>();</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>beverage</span><span class=o>.</span><span class=na>getDescription</span><span class=o>()</span> 
                <span class=o>+</span> <span class=s>&quot; $&quot;</span> <span class=o>+</span> <span class=n>beverage</span><span class=o>.</span><span class=na>cost</span><span class=o>());</span>

        <span class=n>Beverage</span> <span class=n>beverage2</span> <span class=o>=</span> <span class=k>new</span> <span class=n>DarkRoast</span><span class=o>();</span>
        <span class=n>beverage2</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Mocha</span><span class=o>(</span><span class=n>beverage2</span><span class=o>);</span>
        <span class=n>beverage2</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Mocha</span><span class=o>(</span><span class=n>beverage2</span><span class=o>);</span>
        <span class=n>beverage2</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Whip</span><span class=o>(</span><span class=n>beverage2</span><span class=o>);</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>beverage2</span><span class=o>.</span><span class=na>getDescription</span><span class=o>()</span> 
                <span class=o>+</span> <span class=s>&quot; $&quot;</span> <span class=o>+</span> <span class=n>beverage2</span><span class=o>.</span><span class=na>cost</span><span class=o>());</span>

        <span class=n>Beverage</span> <span class=n>beverage3</span> <span class=o>=</span> <span class=k>new</span> <span class=n>HouseBlend</span><span class=o>();</span>
        <span class=n>beverage3</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Soy</span><span class=o>(</span><span class=n>beverage3</span><span class=o>);</span>
        <span class=n>beverage3</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Mocha</span><span class=o>(</span><span class=n>beverage3</span><span class=o>);</span>
        <span class=n>beverage3</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Whip</span><span class=o>(</span><span class=n>beverage3</span><span class=o>);</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>beverage3</span><span class=o>.</span><span class=na>getDescription</span><span class=o>()</span> 
                <span class=o>+</span> <span class=s>&quot; $&quot;</span> <span class=o>+</span> <span class=n>beverage3</span><span class=o>.</span><span class=na>cost</span><span class=o>());</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre></div></div></div>

<h3 id="3-decorators-in-java-io">3 Decorators in Java I/O<a class="headerlink" href="#3-decorators-in-java-io" title="Permanent link">&para;</a></h3>
<p>The <C>java.io</C> package is largely based on decorator. Here’s a typical set of objects that use decorators to add functionality to reading data from a file:</p>
<p><img alt="JavaIO" src="../figures/JavaIO.png" /></p>
<p><img alt="JavaIOClassGraph" src="../figures/JavaIOClassGraph.png" /></p>
<p>Java I/O also points out one of the <strong><em>downsides</em></strong> of the Decorator Pattern: designs using this pattern often result in a large number of small classes that can be overwhelming to a developer trying to use the Decorator-based API.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../..';</script>
        <script src="../../js/base.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        <script src="../../extra_javascript/tabhack.js"></script>
        <script src="../../search/require.js"></script>
        <script src="../../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
