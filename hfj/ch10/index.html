<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Zhenhua Wang">
        <link rel="canonical" href="http://larryim.cc/note/hfj/ch10/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Chapter 10: Numbers and Statics - Zhenhua's Notes</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../extra_css/custom.css" rel="stylesheet">
        <link href="../../extra_css/custom.js" rel="stylesheet">
        <link href="../../extra_css/friendly.css" rel="stylesheet">
        <link href="../../extra_css/theme.css" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/lunr-0.5.7.min.js" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/mustache.min.js" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/require.js" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/search.js" rel="stylesheet">
        <link href="../../extra_css/mkdocs/js/text.js" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../..">Zhenhua's Notes</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../..">Home</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">OSC <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../osc/">Contents</a>
</li>
                            
<li >
    <a href="../../osc/ch1/">Chapter 1: Introduction </a>
</li>
                            
<li >
    <a href="../../osc/ch2/">Chapter 2: Operating System structures</a>
</li>
                            
<li >
    <a href="../../osc/ch3/">Chapter 3: Processes</a>
</li>
                            
<li >
    <a href="../../osc/ch4/">Chapter 4: Threads and Concurrency</a>
</li>
                            
<li >
    <a href="../../osc/ch5/">Chapter 5: CPU Scheduling</a>
</li>
                            
<li >
    <a href="../../osc/ch6/">Chapter 6: Synchronization Tools</a>
</li>
                            
<li >
    <a href="../../osc/ch7/">Chapter 7: Synchronization Examples</a>
</li>
                            
<li >
    <a href="../../osc/ch8/">Chapter 8: Deadlocks</a>
</li>
                            
<li >
    <a href="../../osc/ch9/">Chapter 9: Main Memory</a>
</li>
                            
<li >
    <a href="../../osc/ch10/">Chapter 10: Virtual Memory</a>
</li>
                            
<li >
    <a href="../../osc/ch13/">Chapter 13: File-System Interfaces</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">CSAPP <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../csapp/">Contents</a>
</li>
                            
<li >
    <a href="../../csapp/ch1/">Chapter 1: 计算机系统漫游</a>
</li>
                            
<li >
    <a href="../../csapp/ch2/">Chapter 2: 信息的表示和处理</a>
</li>
                            
<li >
    <a href="../../csapp/ch3/">Chapter 3: 程序的机器级表示</a>
</li>
                            
<li >
    <a href="../../csapp/ch4/">Chapter 4: 处理器体系结构</a>
</li>
                            
<li >
    <a href="../../csapp/ch5/">Chapter 5: 优化程序性能</a>
</li>
                            
<li >
    <a href="../../csapp/ch6/">Chapter 6: 存储器层次结构</a>
</li>
                            
<li >
    <a href="../../csapp/ch7/">Chapter 7: 链接</a>
</li>
                            
<li >
    <a href="../../csapp/ch8/">Chapter 8: 异常控制流</a>
</li>
                            
<li >
    <a href="../../csapp/ch9/">Chapter 9: 虚拟内存</a>
</li>
                            
<li >
    <a href="../../csapp/ch10/">Chapter 10: 系统级I/O</a>
</li>
                            
<li >
    <a href="../../csapp/ch11/">Chapter 11: 网络编程</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">HFJ <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../">Contents</a>
</li>
                            
<li >
    <a href="../ch1/">Chapter 1: Dive in A Quick Dip</a>
</li>
                            
<li >
    <a href="../ch2/">Chapter 2: Classes and Objects</a>
</li>
                            
<li >
    <a href="../ch3/">Chapter 3: Primitives and References</a>
</li>
                            
<li >
    <a href="../ch4/">Chapter 4: Methods use Instance Variables</a>
</li>
                            
<li >
    <a href="../ch5/">Chapter 5: Writing a Program</a>
</li>
                            
<li >
    <a href="../ch6/">Chapter 6: Get to Know the Java API</a>
</li>
                            
<li >
    <a href="../ch7/">Chapter 7: Inheritance and Polymorphism</a>
</li>
                            
<li >
    <a href="../ch8/">Chapter 8: Interfaces and Abstract Classes</a>
</li>
                            
<li >
    <a href="../ch9/">Chapter 9: Constructors and Garbage Collection</a>
</li>
                            
<li class="active">
    <a href="./">Chapter 10: Numbers and Statics</a>
</li>
                            
<li >
    <a href="../ch11/">Chapter 11: Exception Handling</a>
</li>
                            
<li >
    <a href="../ch12/">Chapter 12: Getting GUI</a>
</li>
                            
<li >
    <a href="../ch13/">Chapter 13: Using Swing</a>
</li>
                            
<li >
    <a href="../ch14/">Chapter 14: Serialization and File I/O</a>
</li>
                            
<li >
    <a href="../ch15/">Chapter 15: Networking and Threads</a>
</li>
                            
<li >
    <a href="../ch16/">Chapter 16: Collections and Generics</a>
</li>
                            
<li >
    <a href="../ch17/">Chapter 17: Packages, Jars and Deployment</a>
</li>
                            
<li >
    <a href="../ch18/">Chapter 18: Remote deploy with RMI</a>
</li>
                        </ul>
                    </li>
                    <li >
                        <a href="../../books/">Books</a>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../ch9/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../ch11/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/techlarry/note/edit/master/docs/hfj/ch10.md"><i class="fa fa-github"></i> Edit on GitHub</a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#chapter-10-numbers-and-statics">Chapter 10 Numbers and Statics</a></li>
        <li class="main "><a href="#1-static-methods">1 Static methods</a></li>
            <li><a href="#comparison-between-abstract-class-and-private-constructor">Comparison between abstract class and private constructor</a></li>
            <li><a href="#usage">Usage</a></li>
        <li class="main "><a href="#2-static-variable">2 Static variable</a></li>
            <li><a href="#initializing-a-static-variable">Initializing a static variable</a></li>
            <li><a href="#static-final">Static final</a></li>
            <li><a href="#static-block">Static block</a></li>
            <li><a href="#final">Final</a></li>
        <li class="main "><a href="#3-wrapping-a-primitive">3 Wrapping a primitive</a></li>
            <li><a href="#autoboxing">Autoboxing</a></li>
            <li><a href="#wrapper-method">Wrapper method</a></li>
        <li class="main "><a href="#4-number-formatting">4 Number formatting</a></li>
            <li><a href="#the-format-specifier">The format specifier</a></li>
            <li><a href="#date-formatting">Date Formatting</a></li>
            <li><a href="#calendar">Calendar</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h3 id="chapter-10-numbers-and-statics"><strong>Chapter 10 Numbers and Statics</strong><a class="headerlink" href="#chapter-10-numbers-and-statics" title="Permanent link">&para;</a></h3>
<h3 id="1-static-methods">1 Static methods<a class="headerlink" href="#1-static-methods" title="Permanent link">&para;</a></h3>
<p>Methods in the Math class don't use any instance variable values. Because the methods of Math are 'static', you don't need to have an instance of Math. All you need is the Math class.</p>
<div class="codehilite"><pre><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">round</span><span class="o">(</span><span class="mf">42.2</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="mi">56</span><span class="o">,</span> <span class="mi">12</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">z</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(-</span><span class="mi">343</span><span class="o">);</span>
</pre></div>


<p>If you try to make an instance of class Math:</p>
<div class="codehilite"><pre><span class="n">Math</span> <span class="n">mathObject</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Math</span><span class="o">()</span>
</pre></div>


<p>You'll get an error:</p>
<div class="codehilite"><pre>Math() has private access in java.lang.Math
</pre></div>


<p>This error shows that the Math constructor is marked private! That means you can NEVER say <code>new</code> on the Math class to make a new Math object.</p>
<p><big><i>The keyword <b>static</b> lets a method run <b>without any instance of the class</b>.</i></big></p>
<div class="codehilite"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">min</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">//return the lesser of a  and b</span>
<span class="o">}</span>
</pre></div>


<p>static method v.s. non-static method:</p>
<ul>
<li>Call a static method using a class name (e.g.<code>Math.min(88, 12)</code>)</li>
<li>Call a non-static method using a reference variable name (e.g. <code>t2.play()</code>)</li>
</ul>
<h4 id="comparison-between-abstract-class-and-private-constructor">Comparison between abstract class and private constructor<a class="headerlink" href="#comparison-between-abstract-class-and-private-constructor" title="Permanent link">&para;</a></h4>
<p>Often (although not always), a class with static method is not to be instantiated. But this does not mean that a class with one or more static methods should never be instantiated. In fact, every class you put a <code>main()</code> method in is a class with a static method in it.</p>
<p>An abstract class is impossible to be instantiated. And a non-abstract class with private constructor means only code from within the class can invoke the constructor.</p>
<h4 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h4>
<p><strong>Static methods can't use non-static methods/variables</strong>, because static methods run without knowing about any particular instance of the static method's class.</p>
<div class="codehilite"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Duck</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">size</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span> <span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// which Duck? Whose size?</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Size of duck is &quot;</span> <span class="o">+</span> <span class="n">size</span><span class="o">);</span>
        <span class="c1">// Calling getSize() just postpones </span>
        <span class="c1">// the inevitable-getSize() use the size instance varible.</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;size is &quot;</span> <span class="o">+</span> <span class="n">getSize</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setSize</span><span class="o">(</span><span class="kt">int</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">s</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getSize</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">size</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<h3 id="2-static-variable">2 Static variable<a class="headerlink" href="#2-static-variable" title="Permanent link">&para;</a></h3>
<p><important>Static variable: value is the same for All instances of the class.</important></p>
<ul>
<li>Static variables are shared by all instances of a class. </li>
<li>In other words, one value per <em>class</em>, instead of one value per <em>instance</em>.</li>
</ul>
<div class="codehilite"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Duck</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">size</span><span class="o">;</span>
    <span class="c1">// The static duckCount variable is initialized</span>
    <span class="c1">// ONLY when the class is first loaded,</span>
    <span class="c1">// NOT each time a new instance is made</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">duckCount</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Duck</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// Now it will keep incrementing each time the Duck constructor runs</span>
        <span class="c1">// because duck Count is static and won&#39;t reset to 0.</span>
        <span class="n">duckCount</span><span class="o">++;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setSize</span><span class="o">(</span><span class="kt">int</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">s</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getSize</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">size</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<h4 id="initializing-a-static-variable">Initializing a static variable<a class="headerlink" href="#initializing-a-static-variable" title="Permanent link">&para;</a></h4>
<p>There are two guarantees about static initialization:</p>
<ul>
<li>Static variables in a class are initialized before any <em>object</em> of that class can be created.</li>
<li>Static variables in a class are initialized before any <em>static method</em> of the class runs.</li>
<li>If you don't explicitly initialize a static variable, it gets a default value when declared. ( in exactly the same way that instance variables are given default values)</li>
</ul>
<h4 id="static-final">Static final<a class="headerlink" href="#static-final" title="Permanent link">&para;</a></h4>
<p><important> Static final variables are constants.</important></p>
<p>A variable marked <strong><code>final</code></strong> means that -- once initialized -- it can never change. In other words, the value of the <code>static final</code> variable will stay the same as long as the class is loaded. </p>
<p>For example, <code>Math.PI</code> is declared as</p>
<div class="codehilite"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">double</span> <span class="n">PI</span> <span class="o">=</span> <span class="mf">3.141592653589793</span><span class="o">;</span>
</pre></div>


<p>Name convection: <em>Constant variables names should be in all caps!</em></p>
<p><code>final</code> variables in Java must be initialized.</p>
<div class="codehilite"><pre><span class="kd">final</span> <span class="kd">class</span> <span class="nc">initialize_final</span>
<span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">x</span><span class="o">;</span> <span class="c1">// x will have a default value without initialization.</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="c1">//y must be initialized.</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">z</span><span class="o">;</span> <span class="c1">//ERROR! y must be initialized.</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">h</span><span class="o">;</span>  <span class="c1">//h must be initialized.</span>

    <span class="kd">static</span>
    <span class="o">{</span>
        <span class="n">h</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>  <span class="c1">//static final variable can be initialized here. See details in next section.</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="c1">//output: Error: variable z not initialized in the default constructor.</span>
</pre></div>


<h4 id="static-block">Static block<a class="headerlink" href="#static-block" title="Permanent link">&para;</a></h4>
<p>A <strong>static block</strong>(静态块) or <strong>static initializer</strong>(静态初始化程序) is a block of code that runs when a class is loaded, <em>before any other code can use the class</em> , so it's a great place to initialize a static final variable.</p>
<div class="codehilite"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Bar</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">double</span> <span class="n">BAR_SIGN</span><span class="o">;</span>

    <span class="kd">static</span> <span class="o">{</span>
        <span class="c1">// this code runs as soon as the class is loaded,</span>
        <span class="c1">// before any static method is called,</span>
        <span class="c1">// and even before any static variable can be used.</span>
        <span class="n">BAR_SIGN</span> <span class="o">=</span> <span class="o">(</span><span class="kt">double</span><span class="o">)</span> <span class="n">Math</span><span class="o">.</span><span class="na">random</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p>Important Notes:</p>
<ul>
<li>Static blocks will be executed only once as soon the class is <strong>loaded in memory</strong>.</li>
<li>They are executed in <strong>the order which they appear</strong> in the class.</li>
<li>You cannot refer to any instance variables from within the static blocks.</li>
<li>You can have as many static blocks as many you want in a class.</li>
</ul>
<div class="codehilite"><pre><span class="kd">class</span> <span class="nc">StaticSuper</span><span class="o">{</span>
    <span class="kd">static</span> <span class="o">{</span> 
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;super static block&quot;</span><span class="o">);</span> 
    <span class="o">}</span>

    <span class="n">StaticSuper</span><span class="o">(){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;super constructor&quot;</span><span class="o">);</span> 
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">StaticTests</span> <span class="kd">extends</span> <span class="n">StaticSuper</span> <span class="o">{</span>
    <span class="kd">static</span> <span class="kt">int</span> <span class="n">rand</span><span class="o">;</span>

    <span class="kd">static</span> <span class="o">{</span>
        <span class="n">rand</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">random</span><span class="o">()*</span><span class="mi">6</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;static block&quot;</span> <span class="o">+</span> <span class="n">rand</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="n">StaticTests</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;constructor&quot;</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;int main&quot;</span><span class="o">);</span>
        <span class="n">StaticTests</span> <span class="n">st</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StaticTests</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p>output: </p>
<div class="codehilite"><pre>super static block
static block2
int main
super constructor
constructor
</pre></div>


<h4 id="final">Final<a class="headerlink" href="#final" title="Permanent link">&para;</a></h4>
<p>The keyword <strong>final</strong> can modify non-static variables, including instance variables, local variables, and even method parameters. In each case, it means the same thing: <em>the value can't be changed</em> .</p>
<ul>
<li>A final <strong>variable</strong> means you can't <strong>change</strong> its value.</li>
<li>A final <strong>method</strong> means you can't <strong>override</strong> the method.</li>
<li>A final <strong>class</strong> means you can't <strong>extend</strong> the class.</li>
</ul>
<p>Note: If the class is final, you don't need to mark the method final.</p>
<h3 id="3-wrapping-a-primitive">3 Wrapping a primitive<a class="headerlink" href="#3-wrapping-a-primitive" title="Permanent link">&para;</a></h3>
<p>Sometimes you want to treat a primitive like an object. For example, in all versions of Java prior to 5.0, you can't put a primitive directly into a collection like ArrayList or HashMap:</p>
<div class="codehilite"><pre><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">32</span><span class="o">;</span>
<span class="n">ArrayList</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">();</span>
<span class="c1">// ArrayList only has add() methods that</span>
<span class="c1">// take object references,  not primitives.</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">x</span><span class="o">);</span>
</pre></div>


<p>When you need to treat a primitive like an object, wrap it. Java provide wrapper classes for every primitive type. Each one is named after the primitive type it wraps, but with the first letter capitalized.</p>
<ul>
<li>Boolean</li>
<li>Character // different: char</li>
<li>Byte</li>
<li>Short</li>
<li>Integer // different: int</li>
<li>Long</li>
<li>Float</li>
<li>Double</li>
</ul>
<p><img alt="wrap_primitive" src="../figures/wrap_primitive.png" /></p>
<h4 id="autoboxing">Autoboxing<a class="headerlink" href="#autoboxing" title="Permanent link">&para;</a></h4>
<p>The <strong>autoboxing/unboxing</strong>(自动装箱/拆箱) feature added to Java 5.0 does the conversion from primitive to wrap/unwrap object <em>automatically</em>!</p>
<div class="codehilite"><pre><span class="kd">public</span> <span class="kt">void</span> <span class="nf">doNumsNewWay</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// Make an ArrayList of type Integer</span>
    <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">listOfNumbers</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>
    <span class="c1">// Just add it!</span>
    <span class="n">listOfNumbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span> 
    <span class="c1">// And the compiler automatically unwraps (unboxes) the Integer object</span>
    <span class="c1">// so you can assign the int value directly to a primitive without</span>
    <span class="c1">// having to call the intValue() method on the Integer object.</span>
    <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="n">listOfNumbers</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>


<p>Autoboxing works almost everywhere:</p>
<ul>
<li>Method arguments: <code>void takeNumber(Integer i){}</code></li>
<li>Return values: <code>int giveNumber(){ Integer x = new Integer(42); return x; }</code></li>
<li>Boolean expressions: <code>if (bool) {System.out.println("true");}</code></li>
<li>Option on numbers: <code>Integer i = new Integer(42); i++</code></li>
<li>Assignments: <code>double x = 10.0; Double d = x;</code></li>
</ul>
<h4 id="wrapper-method">Wrapper method<a class="headerlink" href="#wrapper-method" title="Permanent link">&para;</a></h4>
<p>Wrappers have a bunch of really useful static methods.</p>
<div class="codehilite"><pre><span class="n">String</span> <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;2&quot;</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
<span class="kt">double</span> <span class="n">d</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseDobule</span><span class="o">(</span><span class="s">&quot;420.24&quot;</span><span class="o">);</span>

<span class="kt">double</span> <span class="n">d</span> <span class="o">=</span> <span class="mf">42.5</span><span class="o">;</span>
<span class="n">String</span> <span class="n">doubleString</span> <span class="o">=</span> <span class="n">Double</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">d</span><span class="o">);</span>
</pre></div>


<h3 id="4-number-formatting">4 Number formatting<a class="headerlink" href="#4-number-formatting" title="Permanent link">&para;</a></h3>
<p>Java has a powerful and flexible formatting through a Formatter class in <code>java.util</code>. You don't need to create and call methods on the Formatter class yourself, just calling a static <code>String.format()</code> method and passing it the thing you want formatted along with formatting instructions.</p>
<div class="codehilite"><pre><span class="n">String</span> <span class="n">s</span> <span class="o">=</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%, d&quot;</span><span class="o">,</span> <span class="mi">1000000000</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">);</span> <span class="c1">// output: 1,000,000,000</span>
</pre></div>


<h4 id="the-format-specifier">The format specifier<a class="headerlink" href="#the-format-specifier" title="Permanent link">&para;</a></h4>
<p>The <strong>format specifier</strong>(格式说明符) is the things that go after the percentage (%) sign.</p>
<p>A format specifier can have up to five different parts (not including the “%”). Everything in brackets <strong>[ ]</strong> below is <strong>optional</strong>, so only the percent (%) and the type are required. But the <strong>order</strong> is also <strong>mandatory</strong>, so any parts you DO use must go in this order.</p>
<p><font color="red"><big><b>
%[argument number][ﬂags][width][.precision]type
</b></big></font></p>
<ul>
<li><strong>flags</strong>: It is for special formatting options like inserting commas, or putting negative numbers in parentheses, or to make the numbers left justified.</li>
<li><strong>width</strong>: It defines the MINIMUM number of characters that will be used. If the number is longer than the width, it'll still be used in full, but if it's less than the width, it'll be padded with zeros.</li>
<li><strong>precision</strong>: It defines the precision. It sets the number of decimal places.</li>
<li><strong>type</strong>: It is mandatory and will usually be "d" for a decimal integer or "f" for a floating point number.</li>
</ul>
<p>A few examples:</p>
<ul>
<li>%,d: insert commas and format the number as a decimal integer.</li>
<li>%,.2f: insert commas and format the number as a floating point with a precision of two decimal places.</li>
</ul>
<h4 id="date-formatting">Date Formatting<a class="headerlink" href="#date-formatting" title="Permanent link">&para;</a></h4>
<p>Date formats use a two-character type that starts with "t".</p>
<div class="codehilite"><pre><span class="kn">import</span> <span class="nn">java.util.Date</span>
<span class="c1">//The complete data and time: %tc</span>
<span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%tc&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">Date</span><span class="o">());</span> <span class="c1">//output: Mon Jul 30 16:33:29 CST 2017</span>
<span class="c1">// Just the time %tr</span>
<span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%tr&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">Date</span><span class="o">());</span> <span class="c1">// output: 04:35:11 PM</span>
<span class="c1">// Day of the week, month and day %tA %tB %td</span>
<span class="n">Date</span> <span class="n">today</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Date</span><span class="o">();</span> 
<span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="err">“</span><span class="o">%</span><span class="n">tA</span><span class="o">,</span> <span class="o">%</span><span class="n">tB</span> <span class="o">%</span><span class="n">td</span><span class="err">”</span><span class="o">,</span><span class="n">today</span><span class="o">,</span><span class="n">today</span><span class="o">,</span><span class="n">today</span><span class="o">)</span> <span class="c1">// output: Sunday, November 28</span>
<span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="err">“</span><span class="o">%</span><span class="n">tA</span><span class="o">,</span> <span class="o">%&lt;</span><span class="n">tB</span> <span class="o">%</span> <span class="n">td</span><span class="err">”</span><span class="o">,</span><span class="n">today</span><span class="o">);</span> <span class="c1">// output: Sunday, November 28</span>
</pre></div>


<h4 id="calendar">Calendar<a class="headerlink" href="#calendar" title="Permanent link">&para;</a></h4>
<p>For a time-stamp of "now" use Date. But for everything else, use <strong>Calendar</strong> (in <code>java.util.Calendar</code>).</p>
<p>Calendar is actually an abstract class, so you can't use <code>new</code>. Instead, use the static <code>getInstance()</code> method, which gives you an <strong>instance of a concrete Calendar subclass</strong>.</p>
<p>Examples of working with a Calendar object:</p>
<div class="codehilite"><pre><span class="n">Calendar</span> <span class="n">c</span> <span class="o">=</span> <span class="n">Calendar</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span> 
<span class="n">c</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="mi">2004</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">7</span><span class="o">,</span><span class="mi">15</span><span class="o">,</span><span class="mi">40</span><span class="o">);</span> <span class="c1">// set time to Jan 7, 2004 at 15:40 (Notice the month is zero-based)</span>
<span class="kt">long</span> <span class="n">day1</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="na">getTimeInMillis</span><span class="o">();</span>
<span class="n">day1</span> <span class="o">+=</span> <span class="mi">1000</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span><span class="o">;</span> 
<span class="n">c</span><span class="o">.</span><span class="na">setTimeInMillis</span><span class="o">(</span><span class="n">day1</span><span class="o">);</span> 
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;new hour &quot;</span> <span class="o">+</span> <span class="n">c</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">c</span><span class="o">.</span><span class="na">HOUR_OF_DAY</span><span class="o">));</span>  <span class="c1">//new hour 16</span>
<span class="n">c</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">c</span><span class="o">.</span><span class="na">DATE</span><span class="o">,</span> <span class="mi">35</span><span class="o">);</span> 
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;add 35 days &quot;</span> <span class="o">+</span> <span class="n">c</span><span class="o">.</span><span class="na">getTime</span><span class="o">());</span>  <span class="c1">// add 35 days Wed Feb 11 16:40:03 CST 2004</span>
<span class="n">c</span><span class="o">.</span><span class="na">roll</span><span class="o">(</span><span class="n">c</span><span class="o">.</span><span class="na">DATE</span><span class="o">,</span> <span class="mi">35</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;roll 35 days &quot;</span> <span class="o">+</span> <span class="n">c</span><span class="o">.</span><span class="na">getTime</span><span class="o">());</span> <span class="c1">// roll 35 days Tue Feb 17 16:40:03 CST 2004</span>
<span class="n">c</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">c</span><span class="o">.</span><span class="na">DATE</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span> 
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;set to 1 &quot;</span> <span class="o">+</span> <span class="n">c</span><span class="o">.</span><span class="na">getTime</span><span class="o">());</span> <span class="c1">//set to 1 Sun Feb 01 16:40:03 CST 2004</span>
</pre></div></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../..';</script>
        <script src="../../js/base.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script src="../../search/require.js"></script>
        <script src="../../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
