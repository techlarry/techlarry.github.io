



<!doctype html>
<html lang="zh" class="no-js">
  <head>

 <!-- 百度统计代码 -->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?b6f62cca1f01c8c6a28628994476d789";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="复制">
      
        <meta name="lang:clipboard.copied" content="已复制">
      
        <meta name="lang:search.language" content="en, jp">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
        <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
        <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.5.0">
    
    
      
        <title>Hadoop基础</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.1b62728e.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../../../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#1-meet-hadoop" tabindex="1" class="md-skip">
        跳转至
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="Zhenhua's Wiki" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Zhenhua's Wiki
            </span>
            <span class="md-header-nav__topic">
              
                Hadoop基础
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/techlarry/note/" title="前往 Github 仓库" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../../../Algorithm/CS61B/" class="md-tabs__link">
          Algorithm
        </a>
      
    </li>
  

  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../Big Data/" class="md-tabs__link md-tabs__link--active">
          Data Science
        </a>
      
    </li>
  

      
        
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../../../Java/Effective Java/" class="md-tabs__link">
          Java
        </a>
      
    </li>
  

  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../Leetcode/1. Two Sum/" class="md-tabs__link">
          Leetcode
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../Miscellaneous/Clion/" class="md-tabs__link">
          Miscellaneous
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../OS/Docker/" class="md-tabs__link">
          OS
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../.." title="Zhenhua's Wiki" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Zhenhua's Wiki
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/techlarry/note/" title="前往 Github 仓库" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Algorithm
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Algorithm
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-1" type="checkbox" id="nav-1-1">
    
    <label class="md-nav__link" for="nav-1-1">
      CS61B
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-1-1">
        CS61B
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/CS61B/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/CS61B/Lab1/" title="Lab1" class="md-nav__link">
      Lab1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/CS61B/Lab2/" title="Lab2" class="md-nav__link">
      Lab2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/CS61B/Lab3/" title="Lab3" class="md-nav__link">
      Lab3
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-2" type="checkbox" id="nav-1-2">
    
    <label class="md-nav__link" for="nav-1-2">
      Princeton
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-1-2">
        Princeton
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/Princeton/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/Princeton/Topic 1 - Union Find/" title="Topic 1 - Union Find" class="md-nav__link">
      Topic 1 - Union Find
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/Princeton/Topic 2 - Stacks and Queues/" title="Topic 2 - Stacks and Queues" class="md-nav__link">
      Topic 2 - Stacks and Queues
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/Princeton/Topic 3 - Sorting/" title="Topic 3 - Sorting" class="md-nav__link">
      Topic 3 - Sorting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/Princeton/Topic 4 - Priority Queues/" title="Topic 4 - Priority Queues" class="md-nav__link">
      Topic 4 - Priority Queues
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/Princeton/Topic 5 - Symbol Tables/" title="Topic 5 - Symbol Tables" class="md-nav__link">
      Topic 5 - Symbol Tables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/Princeton/Topic 6 - Balanced Search Trees/" title="Topic 6 - Balanced Search Trees" class="md-nav__link">
      Topic 6 - Balanced Search Trees
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/Princeton/Topic 7 - Hash Table/" title="Topic 7 - Hash Table" class="md-nav__link">
      Topic 7 - Hash Table
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/Princeton/Topic 8 - Graph/" title="Topic 8 - Graph" class="md-nav__link">
      Topic 8 - Graph
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/Princeton/Topic 9 - Minimum Spanning Tree and Shortest Path/" title="Topic 9 - Minimum Spanning Tree and Shortest Path" class="md-nav__link">
      Topic 9 - Minimum Spanning Tree and Shortest Path
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/Princeton/Topic 11 - String Sort/" title="Topic 11 - String Sort" class="md-nav__link">
      Topic 11 - String Sort
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/Princeton/Topic 12 - Tries/" title="Topic 12 - Tries" class="md-nav__link">
      Topic 12 - Tries
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-3" type="checkbox" id="nav-1-3">
    
    <label class="md-nav__link" for="nav-1-3">
      Stanford
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-1-3">
        Stanford
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/Stanford/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/Stanford/Topic - Dynamic Programming/" title="Topic - Dynamic Programming" class="md-nav__link">
      Topic - Dynamic Programming
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/Stanford/Topic - Graph/" title="Topic - Graph" class="md-nav__link">
      Topic - Graph
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/Stanford/Topic - Greedy Algorithm/" title="Topic - Greedy Algorithm" class="md-nav__link">
      Topic - Greedy Algorithm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/Stanford/Topic - Hash Table/" title="Topic - Hash Table" class="md-nav__link">
      Topic - Hash Table
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/Stanford/Topic - Heap/" title="Topic - Heap" class="md-nav__link">
      Topic - Heap
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-4" type="checkbox" id="nav-1-4">
    
    <label class="md-nav__link" for="nav-1-4">
      剑指Offer
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-1-4">
        剑指Offer
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/剑指Offer/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/剑指Offer/solution/" title="solution" class="md-nav__link">
      solution
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/剑指Offer/2 ⾯试需要的基础知识/" title="2 ⾯试需要的基础知识" class="md-nav__link">
      2 ⾯试需要的基础知识
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/剑指Offer/3 高质量的代码/" title="3 高质量的代码" class="md-nav__link">
      3 高质量的代码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/剑指Offer/4 解决面试题的思路/" title="4 解决面试题的思路" class="md-nav__link">
      4 解决面试题的思路
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/剑指Offer/5 优化时间和空间效率/" title="5 优化时间和空间效率" class="md-nav__link">
      5 优化时间和空间效率
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/剑指Offer/6 面试中的各项能力/" title="6 面试中的各项能力" class="md-nav__link">
      6 面试中的各项能力
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Algorithm/剑指Offer/7 两个面试案例/" title="7 两个面试案例" class="md-nav__link">
      7 两个面试案例
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Data Science
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Data Science
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Big Data/" title="Big Data" class="md-nav__link">
      Big Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      Database
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        Database
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Database/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Database/MySQL基础/" title="MySQL基础" class="md-nav__link">
      MySQL基础
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Database/Redis/" title="Redis" class="md-nav__link">
      Redis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Database/SQL必知必会/" title="SQL必知必会" class="md-nav__link">
      SQL必知必会
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Database/数据仓库/" title="数据仓库" class="md-nav__link">
      数据仓库
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Database/高性能MySQL/" title="高性能MySQL" class="md-nav__link">
      高性能MySQL
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Database System Concepts/" title="Database System Concepts" class="md-nav__link">
      Database System Concepts
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4" checked>
    
    <label class="md-nav__link" for="nav-2-4">
      Hadoop
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        Hadoop
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Avro/" title="Avro" class="md-nav__link">
      Avro
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Elastic Stack/" title="Elastic Stack" class="md-nav__link">
      Elastic Stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Flink/" title="Flink" class="md-nav__link">
      Flink
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Flume/" title="Flume" class="md-nav__link">
      Flume
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../HBase/" title="HBase" class="md-nav__link">
      HBase
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Hadoop基础
      </label>
    
    <a href="./" title="Hadoop基础" class="md-nav__link md-nav__link--active">
      Hadoop基础
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-meet-hadoop" class="md-nav__link">
    1 Meet Hadoop
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    数据！数据！
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    数据的存储与分析
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    查询所有数据
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    不仅仅是批处理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    相较于其他系统的优势
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    关系型数据库系统
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    高性能计算
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    发展历史
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hadoop" class="md-nav__link">
    Hadoop家族
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-mapreduce" class="md-nav__link">
    2 关于MapReduce
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-weather-dataset" class="md-nav__link">
    A Weather Dataset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#analyzing-the-data-with-hadoop" class="md-nav__link">
    Analyzing the Data with Hadoop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java-mapreduce" class="md-nav__link">
    Java MapReduce
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scaling-out" class="md-nav__link">
    Scaling Out
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    数据流
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combiner-functions" class="md-nav__link">
    Combiner Functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hadoop-streaming" class="md-nav__link">
    Hadoop Streaming
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    Python
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-hadoop" class="md-nav__link">
    3 Hadoop分布式文件系统
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-design-of-hdfs" class="md-nav__link">
    The Design of HDFS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdfs-concepts" class="md-nav__link">
    HDFS Concepts
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#blocks" class="md-nav__link">
    Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#namenodes-and-datanodes" class="md-nav__link">
    Namenodes and Datanodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#block-caching" class="md-nav__link">
    Block Caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdfs-federation" class="md-nav__link">
    HDFS Federation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdfs-high-availability" class="md-nav__link">
    HDFS High Availability
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-command-line-interface" class="md-nav__link">
    The Command-Line Interface
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-filesystem-operations" class="md-nav__link">
    Basic Filesystem Operations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hadoop-filesystems" class="md-nav__link">
    Hadoop Filesystems
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#http" class="md-nav__link">
    HTTP
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-java-interface" class="md-nav__link">
    The Java Interface
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reading-data-from-a-hadoop-url" class="md-nav__link">
    Reading Data from a Hadoop URL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reading-data-using-the-filesystem-api" class="md-nav__link">
    Reading Data Using the FileSystem API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fsdatainputstream" class="md-nav__link">
    FSDataInputStream
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing-data" class="md-nav__link">
    Writing Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fsdataoutputstream" class="md-nav__link">
    FSDataOutputStream
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#directories" class="md-nav__link">
    Directories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querying-the-filesystem" class="md-nav__link">
    Querying the Filesystem
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-data" class="md-nav__link">
    Deleting Data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-flow" class="md-nav__link">
    Data Flow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    剖析文件读取
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    剖析文件写入
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    一致性模型
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distcp" class="md-nav__link">
    通过distcp并行复制
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-yarn" class="md-nav__link">
    4 YARN
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anatomy-of-a-yarn-application-run" class="md-nav__link">
    Anatomy of a YARN Application Run
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resource-requests" class="md-nav__link">
    Resource Requests
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#application-lifespan" class="md-nav__link">
    Application Lifespan
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-yarn-applications" class="md-nav__link">
    Building YARN Applications
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yarn-compared-to-mapreduce-1" class="md-nav__link">
    YARN Compared to MapReduce 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduling-in-yarn" class="md-nav__link">
    Scheduling in YARN
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scheduler-options" class="md-nav__link">
    Scheduler Options
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-hadoop-io" class="md-nav__link">
    5 Hadoop IO
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    数据完整性
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-integrity-in-hdfs" class="md-nav__link">
    Data Integrity in HDFS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#localfilesystem" class="md-nav__link">
    LocalFileSystem
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checksumfilesystem" class="md-nav__link">
    ChecksumFileSystem
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    压缩
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#codecs" class="md-nav__link">
    Codecs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    压缩和输入分片
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapreduce" class="md-nav__link">
    在MapReduce中使用压缩
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    序列化
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-writable-interface" class="md-nav__link">
    The Writable Interface
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#writablecomparablecomparator" class="md-nav__link">
    WritableComparable接口和comparator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writable" class="md-nav__link">
    Writable类
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#writable-wrappers-for-java-primitives" class="md-nav__link">
    Writable wrappers for Java primitives
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#text" class="md-nav__link">
    Text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#byteswritable" class="md-nav__link">
    BytesWritable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nullwritable" class="md-nav__link">
    NullWritable
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writable_1" class="md-nav__link">
    实现自定义Writable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serialization-frameworks" class="md-nav__link">
    Serialization Frameworks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-based-data-structures" class="md-nav__link">
    File-Based Data Structures
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sequencefile" class="md-nav__link">
    SequenceFile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapfile" class="md-nav__link">
    MapFile
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-hadoop-ha" class="md-nav__link">
    6 Hadoop HA
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#namenode" class="md-nav__link">
    namenode目录结构
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#version" class="md-nav__link">
    VERSION
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    编辑日志
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fsimage" class="md-nav__link">
    fsimage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datanode" class="md-nav__link">
    datanode目录结构
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    安全模式
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    高可用
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hadoop_1" class="md-nav__link">
    管理Hadoop
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    附录
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    安装配置
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Hive/" title="Hive" class="md-nav__link">
      Hive
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Kafka/" title="Kafka" class="md-nav__link">
      Kafka
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Spark权威指南/" title="Spark权威指南" class="md-nav__link">
      Spark权威指南
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Sqoop/" title="Sqoop" class="md-nav__link">
      Sqoop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ZooKeeper/" title="ZooKeeper" class="md-nav__link">
      ZooKeeper
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../关于MapReduce/" title="关于MapReduce" class="md-nav__link">
      关于MapReduce
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../文件格式/" title="文件格式" class="md-nav__link">
      文件格式
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Hands On Machine Learning/" title="Hands On Machine Learning" class="md-nav__link">
      Hands On Machine Learning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Machine Learning Coursera/" title="Machine Learning Coursera" class="md-nav__link">
      Machine Learning Coursera
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-7" type="checkbox" id="nav-2-7">
    
    <label class="md-nav__link" for="nav-2-7">
      Practical Data Science
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-7">
        Practical Data Science
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Practical Data Science/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Practical Data Science/Free text and natural language processing/" title="Free text and natural language processing" class="md-nav__link">
      Free text and natural language processing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Practical Data Science/Intro/" title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Practical Data Science/Jupyter notebook/" title="Jupyter notebook" class="md-nav__link">
      Jupyter notebook
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Practical Data Science/Relational Data/" title="Relational Data" class="md-nav__link">
      Relational Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Practical Data Science/The data collection process/" title="The data collection process" class="md-nav__link">
      The data collection process
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-8" type="checkbox" id="nav-2-8">
    
    <label class="md-nav__link" for="nav-2-8">
      Python
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-8">
        Python
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python/Python引号/" title="Python引号" class="md-nav__link">
      Python引号
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python/Python配置/" title="Python配置" class="md-nav__link">
      Python配置
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python/Records/" title="Records" class="md-nav__link">
      Records
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python/协程/" title="协程" class="md-nav__link">
      协程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python/生成器与迭代器/" title="生成器与迭代器" class="md-nav__link">
      生成器与迭代器
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python/谈谈Python中的拷贝/" title="谈谈Python中的拷贝" class="md-nav__link">
      谈谈Python中的拷贝
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python/闭包和装饰器/" title="闭包和装饰器" class="md-nav__link">
      闭包和装饰器
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python机器学习基础教程/" title="Python机器学习基础教程" class="md-nav__link">
      Python机器学习基础教程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-10" type="checkbox" id="nav-2-10">
    
    <label class="md-nav__link" for="nav-2-10">
      Scala
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-10">
        Scala
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Scala/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Scala/Cheat Sheet/" title="Cheat Sheet" class="md-nav__link">
      Cheat Sheet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Scala/Sbt/" title="Sbt" class="md-nav__link">
      Sbt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Scala/Scala编程/" title="Scala编程" class="md-nav__link">
      Scala编程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Scala/functional programming in scala/" title="functional programming in scala" class="md-nav__link">
      functional programming in scala
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Scala/scala/" title="scala" class="md-nav__link">
      scala
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Scala/慕课网Scala入门/" title="慕课网Scala入门" class="md-nav__link">
      慕课网Scala入门
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Scala/第3章 从Java到Scala/" title="第3章 从Java到Scala" class="md-nav__link">
      第3章 从Java到Scala
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Scala/第4章 处理对象/" title="第4章 处理对象" class="md-nav__link">
      第4章 处理对象
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Storm/" title="Storm" class="md-nav__link">
      Storm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-13" type="checkbox" id="nav-2-13">
    
    <label class="md-nav__link" for="nav-2-13">
      projects
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-13">
        projects
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/SparkStreaming实时流处理项目/" title="SparkStreaming实时流处理项目" class="md-nav__link">
      SparkStreaming实时流处理项目
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/中文情感分析/" title="中文情感分析" class="md-nav__link">
      中文情感分析
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../流式系统/" title="流式系统" class="md-nav__link">
      流式系统
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../爬虫/" title="爬虫" class="md-nav__link">
      爬虫
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../统计学习方法/" title="统计学习方法" class="md-nav__link">
      统计学习方法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../设计数据密集型应用/" title="设计数据密集型应用" class="md-nav__link">
      设计数据密集型应用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../面向程序员的数据挖掘指南/" title="面向程序员的数据挖掘指南" class="md-nav__link">
      面向程序员的数据挖掘指南
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Java
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Java
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1">
    
    <label class="md-nav__link" for="nav-3-1">
      Effective Java
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        Effective Java
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Effective Java/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Effective Java/1 Introduction/" title="1 Introduction" class="md-nav__link">
      1 Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Effective Java/2 Creating and Destroying Objects/" title="2 Creating and Destroying Objects" class="md-nav__link">
      2 Creating and Destroying Objects
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Effective Java/3 Methods Common to All Objects/" title="3 Methods Common to All Objects" class="md-nav__link">
      3 Methods Common to All Objects
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Effective Java/4 Classes and interfaces/" title="4 Classes and interfaces" class="md-nav__link">
      4 Classes and interfaces
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Effective Java/5 Generics/" title="5 Generics" class="md-nav__link">
      5 Generics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Effective Java/6 Enums and Annotations/" title="6 Enums and Annotations" class="md-nav__link">
      6 Enums and Annotations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Effective Java/7 Lambdas and Streams/" title="7 Lambdas and Streams" class="md-nav__link">
      7 Lambdas and Streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Effective Java/8 Methods/" title="8 Methods" class="md-nav__link">
      8 Methods
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Effective Java/9 General Programming/" title="9 General Programming" class="md-nav__link">
      9 General Programming
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Effective Java/10 Exceptions/" title="10 Exceptions" class="md-nav__link">
      10 Exceptions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Effective Java/11 Concurrency/" title="11 Concurrency" class="md-nav__link">
      11 Concurrency
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Effective Java/12 Serialization/" title="12 Serialization" class="md-nav__link">
      12 Serialization
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Head First Java
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        Head First Java
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/1 Dive in A Quick Dip/" title="1 Dive in A Quick Dip" class="md-nav__link">
      1 Dive in A Quick Dip
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/2 Classes and Objects/" title="2 Classes and Objects" class="md-nav__link">
      2 Classes and Objects
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/3 Primitives and references/" title="3 Primitives and references" class="md-nav__link">
      3 Primitives and references
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/4 Methods use instance variables/" title="4 Methods use instance variables" class="md-nav__link">
      4 Methods use instance variables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/5 Writing a Program/" title="5 Writing a Program" class="md-nav__link">
      5 Writing a Program
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/6 Get to know the Java API/" title="6 Get to know the Java API" class="md-nav__link">
      6 Get to know the Java API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/7 Inheritance and polymorphism/" title="7 Inheritance and polymorphism" class="md-nav__link">
      7 Inheritance and polymorphism
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/8 Interfaces and Abstract Classes/" title="8 Interfaces and Abstract Classes" class="md-nav__link">
      8 Interfaces and Abstract Classes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/9 Constructors and Garbage Collection/" title="9 Constructors and Garbage Collection" class="md-nav__link">
      9 Constructors and Garbage Collection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/10 Numbers and Statics/" title="10 Numbers and Statics" class="md-nav__link">
      10 Numbers and Statics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/11 Exception Handling/" title="11 Exception Handling" class="md-nav__link">
      11 Exception Handling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/12 Getting GUI/" title="12 Getting GUI" class="md-nav__link">
      12 Getting GUI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/13 Using Swing/" title="13 Using Swing" class="md-nav__link">
      13 Using Swing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/14 Serialization and File IO/" title="14 Serialization and File IO" class="md-nav__link">
      14 Serialization and File IO
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/15 Networking and Threads/" title="15 Networking and Threads" class="md-nav__link">
      15 Networking and Threads
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/16 Collections and Generics/" title="16 Collections and Generics" class="md-nav__link">
      16 Collections and Generics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/17 Packages, Jars and Deployment/" title="17 Packages, Jars and Deployment" class="md-nav__link">
      17 Packages, Jars and Deployment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/18 Remote deploy with RMI/" title="18 Remote deploy with RMI" class="md-nav__link">
      18 Remote deploy with RMI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First Java/19 Appendix/" title="19 Appendix" class="md-nav__link">
      19 Appendix
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      Head First设计模式
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        Head First设计模式
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First设计模式/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First设计模式/1 Strategy Pattern/" title="1 Strategy Pattern" class="md-nav__link">
      1 Strategy Pattern
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First设计模式/2 Observer Pattern/" title="2 Observer Pattern" class="md-nav__link">
      2 Observer Pattern
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First设计模式/3 Decorator Pattern/" title="3 Decorator Pattern" class="md-nav__link">
      3 Decorator Pattern
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First设计模式/4 Factory Pattern/" title="4 Factory Pattern" class="md-nav__link">
      4 Factory Pattern
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First设计模式/5 Singleton Pattern/" title="5 Singleton Pattern" class="md-nav__link">
      5 Singleton Pattern
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First设计模式/6 Command Pattern/" title="6 Command Pattern" class="md-nav__link">
      6 Command Pattern
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First设计模式/7 Adapter and Facade Pattern/" title="7 Adapter and Facade Pattern" class="md-nav__link">
      7 Adapter and Facade Pattern
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First设计模式/8 Template Method Pattern/" title="8 Template Method Pattern" class="md-nav__link">
      8 Template Method Pattern
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First设计模式/9 Iterator and Composite Pattern/" title="9 Iterator and Composite Pattern" class="md-nav__link">
      9 Iterator and Composite Pattern
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First设计模式/10 State Pattern/" title="10 State Pattern" class="md-nav__link">
      10 State Pattern
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First设计模式/11 Proxy Pattern/" title="11 Proxy Pattern" class="md-nav__link">
      11 Proxy Pattern
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First设计模式/12 Compound Patterns/" title="12 Compound Patterns" class="md-nav__link">
      12 Compound Patterns
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First设计模式/13 Better Living with Patterns/" title="13 Better Living with Patterns" class="md-nav__link">
      13 Better Living with Patterns
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First设计模式/14 Builder Pattern/" title="14 Builder Pattern" class="md-nav__link">
      14 Builder Pattern
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Head First设计模式/15 Chain Of Responsibility/" title="15 Chain Of Responsibility" class="md-nav__link">
      15 Chain Of Responsibility
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      Java Web
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        Java Web
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/Ajax/" title="Ajax" class="md-nav__link">
      Ajax
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/Bootstrap/" title="Bootstrap" class="md-nav__link">
      Bootstrap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/CSS/" title="CSS" class="md-nav__link">
      CSS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/HTML/" title="HTML" class="md-nav__link">
      HTML
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/Head First Servlets and JSP/" title="Head First Servlets and JSP" class="md-nav__link">
      Head First Servlets and JSP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/JDBC/" title="JDBC" class="md-nav__link">
      JDBC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/JSON/" title="JSON" class="md-nav__link">
      JSON
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/JSP以及JSTL和EL表达式/" title="JSP以及JSTL和EL表达式" class="md-nav__link">
      JSP以及JSTL和EL表达式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/Java Web/" title="Java Web" class="md-nav__link">
      Java Web
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/JavaScript/" title="JavaScript" class="md-nav__link">
      JavaScript
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/MyBatis/" title="MyBatis" class="md-nav__link">
      MyBatis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/RESTful/" title="RESTful" class="md-nav__link">
      RESTful
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/Spring/" title="Spring" class="md-nav__link">
      Spring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/SpringBoot/" title="SpringBoot" class="md-nav__link">
      SpringBoot
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/Tomcat/" title="Tomcat" class="md-nav__link">
      Tomcat
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/XML/" title="XML" class="md-nav__link">
      XML
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/jQuery/" title="jQuery" class="md-nav__link">
      jQuery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/人员信息管理系统/" title="人员信息管理系统" class="md-nav__link">
      人员信息管理系统
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java Web/Log4j/" title="Log4j" class="md-nav__link">
      Log4j
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/Java编程思想/" title="Java编程思想" class="md-nav__link">
      Java编程思想
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/反射/" title="反射" class="md-nav__link">
      反射
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-8" type="checkbox" id="nav-3-8">
    
    <label class="md-nav__link" for="nav-3-8">
      深入理解Java虚拟机
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-8">
        深入理解Java虚拟机
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/深入理解Java虚拟机/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/深入理解Java虚拟机/1 走进Java/" title="1 走进Java" class="md-nav__link">
      1 走进Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/深入理解Java虚拟机/2 Java内存区域与内存溢出正常/" title="2 Java内存区域与内存溢出正常" class="md-nav__link">
      2 Java内存区域与内存溢出正常
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/深入理解Java虚拟机/3 垃圾收集器与内存分配策略/" title="3 垃圾收集器与内存分配策略" class="md-nav__link">
      3 垃圾收集器与内存分配策略
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/深入理解Java虚拟机/4 虚拟机性能监控与故障处理工具/" title="4 虚拟机性能监控与故障处理工具" class="md-nav__link">
      4 虚拟机性能监控与故障处理工具
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/深入理解Java虚拟机/5 调优案例分析与实战/" title="5 调优案例分析与实战" class="md-nav__link">
      5 调优案例分析与实战
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/深入理解Java虚拟机/6 类文件结构/" title="6 类文件结构" class="md-nav__link">
      6 类文件结构
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/深入理解Java虚拟机/7 虚拟机类加载机制/" title="7 虚拟机类加载机制" class="md-nav__link">
      7 虚拟机类加载机制
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/深入理解Java虚拟机/8 虚拟机字节码执行引擎/" title="8 虚拟机字节码执行引擎" class="md-nav__link">
      8 虚拟机字节码执行引擎
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/深入理解Java虚拟机/9 类加载及执行子系统的案例与实战/" title="9 类加载及执行子系统的案例与实战" class="md-nav__link">
      9 类加载及执行子系统的案例与实战
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/深入理解Java虚拟机/10 早期(编译期)优化/" title="10 早期(编译期)优化" class="md-nav__link">
      10 早期(编译期)优化
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/深入理解Java虚拟机/11 晚期(运行期)优化/" title="11 晚期(运行期)优化" class="md-nav__link">
      11 晚期(运行期)优化
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/深入理解Java虚拟机/12 Java内存模型与线程/" title="12 Java内存模型与线程" class="md-nav__link">
      12 Java内存模型与线程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/深入理解Java虚拟机/13 线程安全与锁优化/" title="13 线程安全与锁优化" class="md-nav__link">
      13 线程安全与锁优化
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/深入理解Java虚拟机/14 AppendixC/" title="14 AppendixC" class="md-nav__link">
      14 AppendixC
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-9" type="checkbox" id="nav-3-9">
    
    <label class="md-nav__link" for="nav-3-9">
      高并发
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-9">
        高并发
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/高并发/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/高并发/JDK并发包/" title="JDK并发包" class="md-nav__link">
      JDK并发包
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/高并发/Java多线程设计模式/" title="Java多线程设计模式" class="md-nav__link">
      Java多线程设计模式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/高并发/事件驱动，消息驱动/" title="事件驱动，消息驱动" class="md-nav__link">
      事件驱动，消息驱动
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Java/高并发/多线程基础/" title="多线程基础" class="md-nav__link">
      多线程基础
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Leetcode
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Leetcode
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/1. Two Sum/" title="1. Two Sum" class="md-nav__link">
      1. Two Sum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/10. Regular Expression Matching/" title="10. Regular Expression Matching" class="md-nav__link">
      10. Regular Expression Matching
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/100. Same Tree/" title="100. Same Tree" class="md-nav__link">
      100. Same Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/101. Symmetric Tree/" title="101. Symmetric Tree" class="md-nav__link">
      101. Symmetric Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/102. Binary Tree Level Order Traversal/" title="102. Binary Tree Level Order Traversal" class="md-nav__link">
      102. Binary Tree Level Order Traversal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/1020. Number of Enclaves/" title="1020. Number of Enclaves" class="md-nav__link">
      1020. Number of Enclaves
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/103. Binary Tree Zigzag Level Order Traversal/" title="103. Binary Tree Zigzag Level Order Traversal" class="md-nav__link">
      103. Binary Tree Zigzag Level Order Traversal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/104. Maximum Depth of Binary Tree/" title="104. Maximum Depth of Binary Tree" class="md-nav__link">
      104. Maximum Depth of Binary Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/105. Construct Binary Tree from Preorder and Inorder Traversal/" title="105. Construct Binary Tree from Preorder and Inorder Traversal" class="md-nav__link">
      105. Construct Binary Tree from Preorder and Inorder Traversal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/107. Binary Tree Level Order Traversal II/" title="107. Binary Tree Level Order Traversal II" class="md-nav__link">
      107. Binary Tree Level Order Traversal II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/108. Convert Sorted Array to Binary Search Tree/" title="108. Convert Sorted Array to Binary Search Tree" class="md-nav__link">
      108. Convert Sorted Array to Binary Search Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/109. Convert Sorted List to Binary Search Tree/" title="109. Convert Sorted List to Binary Search Tree" class="md-nav__link">
      109. Convert Sorted List to Binary Search Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/11. Container With Most Water/" title="11. Container With Most Water" class="md-nav__link">
      11. Container With Most Water
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/110. Balanced Binary Tree/" title="110. Balanced Binary Tree" class="md-nav__link">
      110. Balanced Binary Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/111. Minimum Depth of Binary Tree/" title="111. Minimum Depth of Binary Tree" class="md-nav__link">
      111. Minimum Depth of Binary Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/112. Path Sum/" title="112. Path Sum" class="md-nav__link">
      112. Path Sum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/113. Path Sum II/" title="113. Path Sum II" class="md-nav__link">
      113. Path Sum II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/114. Flatten Binary Tree to Linked List/" title="114. Flatten Binary Tree to Linked List" class="md-nav__link">
      114. Flatten Binary Tree to Linked List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/116. Populating Next Right Pointers in Each Node/" title="116. Populating Next Right Pointers in Each Node" class="md-nav__link">
      116. Populating Next Right Pointers in Each Node
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/117. Populating Next Right Pointers in Each Node II/" title="117. Populating Next Right Pointers in Each Node II" class="md-nav__link">
      117. Populating Next Right Pointers in Each Node II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/118. Pascals Triangle/" title="118. Pascals Triangle" class="md-nav__link">
      118. Pascals Triangle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/119. Pascals Triangle II/" title="119. Pascals Triangle II" class="md-nav__link">
      119. Pascals Triangle II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/12. Integer to Roman/" title="12. Integer to Roman" class="md-nav__link">
      12. Integer to Roman
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/120. Triangle/" title="120. Triangle" class="md-nav__link">
      120. Triangle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/121. Best Time to Buy and Sell Stock/" title="121. Best Time to Buy and Sell Stock" class="md-nav__link">
      121. Best Time to Buy and Sell Stock
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/122. Best Time to Buy and Sell Stock II/" title="122. Best Time to Buy and Sell Stock II" class="md-nav__link">
      122. Best Time to Buy and Sell Stock II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/123. Best Time to Buy and Sell Stock III/" title="123. Best Time to Buy and Sell Stock III" class="md-nav__link">
      123. Best Time to Buy and Sell Stock III
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/124. Binary Tree Maximum Path Sum/" title="124. Binary Tree Maximum Path Sum" class="md-nav__link">
      124. Binary Tree Maximum Path Sum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/125. Valid Palindrome/" title="125. Valid Palindrome" class="md-nav__link">
      125. Valid Palindrome
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/127. Word Ladder/" title="127. Word Ladder" class="md-nav__link">
      127. Word Ladder
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/128. Longest Consecutive Sequence/" title="128. Longest Consecutive Sequence" class="md-nav__link">
      128. Longest Consecutive Sequence
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/129. Sum Root to Leaf Numbers/" title="129. Sum Root to Leaf Numbers" class="md-nav__link">
      129. Sum Root to Leaf Numbers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/130. Surrounded Regions/" title="130. Surrounded Regions" class="md-nav__link">
      130. Surrounded Regions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/131. Palindrome Partitioning/" title="131. Palindrome Partitioning" class="md-nav__link">
      131. Palindrome Partitioning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/132. Palindrome Partitioning II/" title="132. Palindrome Partitioning II" class="md-nav__link">
      132. Palindrome Partitioning II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/133. Clone Graph/" title="133. Clone Graph" class="md-nav__link">
      133. Clone Graph
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/136 Single Number/" title="136 Single Number" class="md-nav__link">
      136 Single Number
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/137 Single Number II/" title="137 Single Number II" class="md-nav__link">
      137 Single Number II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/138. Copy List with Random Pointer/" title="138. Copy List with Random Pointer" class="md-nav__link">
      138. Copy List with Random Pointer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/139. Word Break/" title="139. Word Break" class="md-nav__link">
      139. Word Break
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/14. Longest Common Prefix/" title="14. Longest Common Prefix" class="md-nav__link">
      14. Longest Common Prefix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/141. Linked List Cycle/" title="141. Linked List Cycle" class="md-nav__link">
      141. Linked List Cycle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/142. Linked List Cycle II/" title="142. Linked List Cycle II" class="md-nav__link">
      142. Linked List Cycle II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/143. Reorder List/" title="143. Reorder List" class="md-nav__link">
      143. Reorder List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/144. Binary Tree Preorder Traversal/" title="144. Binary Tree Preorder Traversal" class="md-nav__link">
      144. Binary Tree Preorder Traversal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/145. Binary Tree Postorder Traversal/" title="145. Binary Tree Postorder Traversal" class="md-nav__link">
      145. Binary Tree Postorder Traversal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/146. LRU Cache/" title="146. LRU Cache" class="md-nav__link">
      146. LRU Cache
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/147. Insertion Sort List/" title="147. Insertion Sort List" class="md-nav__link">
      147. Insertion Sort List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/148. Sort List/" title="148. Sort List" class="md-nav__link">
      148. Sort List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/149. Max Points on a Line/" title="149. Max Points on a Line" class="md-nav__link">
      149. Max Points on a Line
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/15. 3Sum/" title="15. 3Sum" class="md-nav__link">
      15. 3Sum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/150. Evaluate Reverse Polish Notation/" title="150. Evaluate Reverse Polish Notation" class="md-nav__link">
      150. Evaluate Reverse Polish Notation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/151. Reverse Words in a String/" title="151. Reverse Words in a String" class="md-nav__link">
      151. Reverse Words in a String
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/152. Maximum Product Subarray/" title="152. Maximum Product Subarray" class="md-nav__link">
      152. Maximum Product Subarray
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/153. Find Minimum in Rotated Sorted Array/" title="153. Find Minimum in Rotated Sorted Array" class="md-nav__link">
      153. Find Minimum in Rotated Sorted Array
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/155. Min Stack/" title="155. Min Stack" class="md-nav__link">
      155. Min Stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/16. 3Sum Closest/" title="16. 3Sum Closest" class="md-nav__link">
      16. 3Sum Closest
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/160. Intersection of Two Linked Lists/" title="160. Intersection of Two Linked Lists" class="md-nav__link">
      160. Intersection of Two Linked Lists
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/164. Maximum Gap/" title="164. Maximum Gap" class="md-nav__link">
      164. Maximum Gap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/166. Fraction to Recurring Decimal/" title="166. Fraction to Recurring Decimal" class="md-nav__link">
      166. Fraction to Recurring Decimal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/167. Two Sum II - Input array is sorted/" title="167. Two Sum II - Input array is sorted" class="md-nav__link">
      167. Two Sum II - Input array is sorted
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/168. Excel Sheet Column Title/" title="168. Excel Sheet Column Title" class="md-nav__link">
      168. Excel Sheet Column Title
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/169. Majority Element/" title="169. Majority Element" class="md-nav__link">
      169. Majority Element
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/17. Letter Combinations of a Phone Number.md/" title="17. Letter Combinations of a Phone Number" class="md-nav__link">
      17. Letter Combinations of a Phone Number
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/170. TwoSum III/" title="170. TwoSum III" class="md-nav__link">
      170. TwoSum III
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/171. Excel Sheet Column Number/" title="171. Excel Sheet Column Number" class="md-nav__link">
      171. Excel Sheet Column Number
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/172. Factorial Trailing Zeroes/" title="172. Factorial Trailing Zeroes" class="md-nav__link">
      172. Factorial Trailing Zeroes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/173. Binary Search Tree Iterator/" title="173. Binary Search Tree Iterator" class="md-nav__link">
      173. Binary Search Tree Iterator
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/174. Dungeon Game/" title="174. Dungeon Game" class="md-nav__link">
      174. Dungeon Game
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/179. Largest Number/" title="179. Largest Number" class="md-nav__link">
      179. Largest Number
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/18. 4 Sum/" title="18. 4 Sum" class="md-nav__link">
      18. 4 Sum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/187. Repeated DNA Sequences/" title="187. Repeated DNA Sequences" class="md-nav__link">
      187. Repeated DNA Sequences
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/19. Remove Nth Node From End of List/" title="19. Remove Nth Node From End of List" class="md-nav__link">
      19. Remove Nth Node From End of List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/190. Reverse Bits/" title="190. Reverse Bits" class="md-nav__link">
      190. Reverse Bits
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/191. Number of 1 Bits/" title="191. Number of 1 Bits" class="md-nav__link">
      191. Number of 1 Bits
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/198. House Robber/" title="198. House Robber" class="md-nav__link">
      198. House Robber
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/199. Binary Tree Right Side View/" title="199. Binary Tree Right Side View" class="md-nav__link">
      199. Binary Tree Right Side View
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/2. Add Two Numbers/" title="2. Add Two Numbers" class="md-nav__link">
      2. Add Two Numbers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/20. Valid Parentheses/" title="20. Valid Parentheses" class="md-nav__link">
      20. Valid Parentheses
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/200. Number of Islands/" title="200. Number of Islands" class="md-nav__link">
      200. Number of Islands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/202. Happy Number/" title="202. Happy Number" class="md-nav__link">
      202. Happy Number
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/203. Remove Linked List Elements/" title="203. Remove Linked List Elements" class="md-nav__link">
      203. Remove Linked List Elements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/204. Count Primes/" title="204. Count Primes" class="md-nav__link">
      204. Count Primes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/205. Isomorphic Strings/" title="205. Isomorphic Strings" class="md-nav__link">
      205. Isomorphic Strings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/206. Reverse Linked List/" title="206. Reverse Linked List" class="md-nav__link">
      206. Reverse Linked List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/207. Course Schedule/" title="207. Course Schedule" class="md-nav__link">
      207. Course Schedule
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/209. Minimum Size Subarray Sum/" title="209. Minimum Size Subarray Sum" class="md-nav__link">
      209. Minimum Size Subarray Sum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/21. Merge Two Sorted Lists/" title="21. Merge Two Sorted Lists" class="md-nav__link">
      21. Merge Two Sorted Lists
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/210. Course Schedule II/" title="210. Course Schedule II" class="md-nav__link">
      210. Course Schedule II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/213. House Robber II/" title="213. House Robber II" class="md-nav__link">
      213. House Robber II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/215. Kth Largest Element in an Array/" title="215. Kth Largest Element in an Array" class="md-nav__link">
      215. Kth Largest Element in an Array
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/216. Combination Sum III/" title="216. Combination Sum III" class="md-nav__link">
      216. Combination Sum III
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/22. Generate Parentheses/" title="22. Generate Parentheses" class="md-nav__link">
      22. Generate Parentheses
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/221. Maximal Square/" title="221. Maximal Square" class="md-nav__link">
      221. Maximal Square
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/222. Count Complete Tree Nodes/" title="222. Count Complete Tree Nodes" class="md-nav__link">
      222. Count Complete Tree Nodes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/224. Basic Calculator/" title="224. Basic Calculator" class="md-nav__link">
      224. Basic Calculator
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/225. Implement Stack using Queues/" title="225. Implement Stack using Queues" class="md-nav__link">
      225. Implement Stack using Queues
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/226. Invert Binary Tree/" title="226. Invert Binary Tree" class="md-nav__link">
      226. Invert Binary Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/229. Majority Element II/" title="229. Majority Element II" class="md-nav__link">
      229. Majority Element II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/23. Merge k Sorted Lists/" title="23. Merge k Sorted Lists" class="md-nav__link">
      23. Merge k Sorted Lists
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/230. Kth Smallest Element in a BST/" title="230. Kth Smallest Element in a BST" class="md-nav__link">
      230. Kth Smallest Element in a BST
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/231. Power of Two/" title="231. Power of Two" class="md-nav__link">
      231. Power of Two
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/232. Implement Queue using Stacks/" title="232. Implement Queue using Stacks" class="md-nav__link">
      232. Implement Queue using Stacks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/233. Number of Digit One/" title="233. Number of Digit One" class="md-nav__link">
      233. Number of Digit One
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/234. Palindrome Linked List/" title="234. Palindrome Linked List" class="md-nav__link">
      234. Palindrome Linked List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/235. Lowest Common Ancestor of a Binary Search Tree/" title="235. Lowest Common Ancestor of a Binary Search Tree" class="md-nav__link">
      235. Lowest Common Ancestor of a Binary Search Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/236. Lowest Common Ancestor of a Binary Tree/" title="236. Lowest Common Ancestor of a Binary Tree" class="md-nav__link">
      236. Lowest Common Ancestor of a Binary Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/237. Delete Node in a Linked List/" title="237. Delete Node in a Linked List" class="md-nav__link">
      237. Delete Node in a Linked List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/24. Swap Nodes in Pairs/" title="24. Swap Nodes in Pairs" class="md-nav__link">
      24. Swap Nodes in Pairs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/240. Search a 2D Matrix II/" title="240. Search a 2D Matrix II" class="md-nav__link">
      240. Search a 2D Matrix II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/241. Different Ways to Add Parentheses/" title="241. Different Ways to Add Parentheses" class="md-nav__link">
      241. Different Ways to Add Parentheses
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/242. Valid Anagram/" title="242. Valid Anagram" class="md-nav__link">
      242. Valid Anagram
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/25. Reverse Nodes in k-Group/" title="25. Reverse Nodes in k-Group" class="md-nav__link">
      25. Reverse Nodes in k-Group
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/252. Meeting Rooms/" title="252. Meeting Rooms" class="md-nav__link">
      252. Meeting Rooms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/253. Meeting Rooms II/" title="253. Meeting Rooms II" class="md-nav__link">
      253. Meeting Rooms II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/256. Paint House/" title="256. Paint House" class="md-nav__link">
      256. Paint House
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/257. Binary Tree Paths/" title="257. Binary Tree Paths" class="md-nav__link">
      257. Binary Tree Paths
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/258. Add Digits/" title="258. Add Digits" class="md-nav__link">
      258. Add Digits
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/26. Remove Duplicates from Sorted Array/" title="26. Remove Duplicates from Sorted Array" class="md-nav__link">
      26. Remove Duplicates from Sorted Array
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/260. Single Number III/" title="260. Single Number III" class="md-nav__link">
      260. Single Number III
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/261. Graph Valid Tree/" title="261. Graph Valid Tree" class="md-nav__link">
      261. Graph Valid Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/263. Ugly Number/" title="263. Ugly Number" class="md-nav__link">
      263. Ugly Number
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/264. Ugly Number II/" title="264. Ugly Number II" class="md-nav__link">
      264. Ugly Number II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/265. Paint House II/" title="265. Paint House II" class="md-nav__link">
      265. Paint House II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/268. Missing Number/" title="268. Missing Number" class="md-nav__link">
      268. Missing Number
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/27. Remove Element/" title="27. Remove Element" class="md-nav__link">
      27. Remove Element
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/270. Closest Binary Search Tree Value/" title="270. Closest Binary Search Tree Value" class="md-nav__link">
      270. Closest Binary Search Tree Value
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/276. Paint Fence/" title="276. Paint Fence" class="md-nav__link">
      276. Paint Fence
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/278. First Bad Version/" title="278. First Bad Version" class="md-nav__link">
      278. First Bad Version
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/279. Perfect Squares/" title="279. Perfect Squares" class="md-nav__link">
      279. Perfect Squares
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/28. Implement strStr()/" title="28. Implement strStr()" class="md-nav__link">
      28. Implement strStr()
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/280. Wiggle Sort/" title="280. Wiggle Sort" class="md-nav__link">
      280. Wiggle Sort
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/287. Find the Duplicate Number/" title="287. Find the Duplicate Number" class="md-nav__link">
      287. Find the Duplicate Number
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/29. Divide Two Integers/" title="29. Divide Two Integers" class="md-nav__link">
      29. Divide Two Integers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/290. Word Pattern/" title="290. Word Pattern" class="md-nav__link">
      290. Word Pattern
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/295. Find Median from Data Stream/" title="295. Find Median from Data Stream" class="md-nav__link">
      295. Find Median from Data Stream
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/297. Serialize and Deserialize Binary Tree/" title="297. Serialize and Deserialize Binary Tree" class="md-nav__link">
      297. Serialize and Deserialize Binary Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/3. Longest Substring Without Repeating Characters/" title="3. Longest Substring Without Repeating Characters" class="md-nav__link">
      3. Longest Substring Without Repeating Characters
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/30. Substring with Concatenation of All Words/" title="30. Substring with Concatenation of All Words" class="md-nav__link">
      30. Substring with Concatenation of All Words
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/300. Longest Increasing Subsequence/" title="300. Longest Increasing Subsequence" class="md-nav__link">
      300. Longest Increasing Subsequence
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/303. Range Sum Query - Immutable/" title="303. Range Sum Query - Immutable" class="md-nav__link">
      303. Range Sum Query - Immutable
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/304. Range Sum Query 2D - Immutable/" title="304. Range Sum Query 2D - Immutable" class="md-nav__link">
      304. Range Sum Query 2D - Immutable
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/309. Best Time to Buy and Sell Stock with Cooldown/" title="309. Best Time to Buy and Sell Stock with Cooldown" class="md-nav__link">
      309. Best Time to Buy and Sell Stock with Cooldown
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/31. Next Permutation/" title="31. Next Permutation" class="md-nav__link">
      31. Next Permutation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/310. Minimum Height Trees/" title="310. Minimum Height Trees" class="md-nav__link">
      310. Minimum Height Trees
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/313. Super Ugly Number/" title="313. Super Ugly Number" class="md-nav__link">
      313. Super Ugly Number
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/32. Longest Valid Parentheses/" title="32. Longest Valid Parentheses" class="md-nav__link">
      32. Longest Valid Parentheses
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/322. Coin Change/" title="322. Coin Change" class="md-nav__link">
      322. Coin Change
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/324. Wiggle Sort II/" title="324. Wiggle Sort II" class="md-nav__link">
      324. Wiggle Sort II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/326. Power of Three/" title="326. Power of Three" class="md-nav__link">
      326. Power of Three
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/328. Odd Even Linked List/" title="328. Odd Even Linked List" class="md-nav__link">
      328. Odd Even Linked List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/33. Search in Rotated Sorted Array/" title="33. Search in Rotated Sorted Array" class="md-nav__link">
      33. Search in Rotated Sorted Array
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/331. Verify Preorder Serialization of a Binary Tree/" title="331. Verify Preorder Serialization of a Binary Tree" class="md-nav__link">
      331. Verify Preorder Serialization of a Binary Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/332. Reconstruct Itinerary/" title="332. Reconstruct Itinerary" class="md-nav__link">
      332. Reconstruct Itinerary
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/337. House Robber III/" title="337. House Robber III" class="md-nav__link">
      337. House Robber III
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/338. Counting Bits/" title="338. Counting Bits" class="md-nav__link">
      338. Counting Bits
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/34. Find First and Last Position of Element in Sorted Array/" title="34. Find First and Last Position of Element in Sorted Array" class="md-nav__link">
      34. Find First and Last Position of Element in Sorted Array
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/342. Power of Four/" title="342. Power of Four" class="md-nav__link">
      342. Power of Four
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/344. Reverse String/" title="344. Reverse String" class="md-nav__link">
      344. Reverse String
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/345. Reverse Vowels of a String/" title="345. Reverse Vowels of a String" class="md-nav__link">
      345. Reverse Vowels of a String
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/347. Top K Frequent Elements/" title="347. Top K Frequent Elements" class="md-nav__link">
      347. Top K Frequent Elements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/349. Intersection of Two Arrays/" title="349. Intersection of Two Arrays" class="md-nav__link">
      349. Intersection of Two Arrays
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/35. Search Insert Position/" title="35. Search Insert Position" class="md-nav__link">
      35. Search Insert Position
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/350. Intersection of Two Arrays II/" title="350. Intersection of Two Arrays II" class="md-nav__link">
      350. Intersection of Two Arrays II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/359. Logger Rate Limiter/" title="359. Logger Rate Limiter" class="md-nav__link">
      359. Logger Rate Limiter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/36. Valid Sudoku/" title="36. Valid Sudoku" class="md-nav__link">
      36. Valid Sudoku
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/366. Find Leaves of Binary Tree/" title="366. Find Leaves of Binary Tree" class="md-nav__link">
      366. Find Leaves of Binary Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/367. Valid Perfect Square/" title="367. Valid Perfect Square" class="md-nav__link">
      367. Valid Perfect Square
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/37. Sudoku Solver/" title="37. Sudoku Solver" class="md-nav__link">
      37. Sudoku Solver
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/370. Range Addition/" title="370. Range Addition" class="md-nav__link">
      370. Range Addition
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/372. Super Pow/" title="372. Super Pow" class="md-nav__link">
      372. Super Pow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/373. Find K Pairs with Smallest Sums/" title="373. Find K Pairs with Smallest Sums" class="md-nav__link">
      373. Find K Pairs with Smallest Sums
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/378. Kth Smallest Element in a Sorted Matrix/" title="378. Kth Smallest Element in a Sorted Matrix" class="md-nav__link">
      378. Kth Smallest Element in a Sorted Matrix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/38. Count and Say/" title="38. Count and Say" class="md-nav__link">
      38. Count and Say
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/382. Linked List Random Node/" title="382. Linked List Random Node" class="md-nav__link">
      382. Linked List Random Node
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/384. Shuffle an Array/" title="384. Shuffle an Array" class="md-nav__link">
      384. Shuffle an Array
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/387. First Unique Character in a String/" title="387. First Unique Character in a String" class="md-nav__link">
      387. First Unique Character in a String
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/39. Combination Sum/" title="39. Combination Sum" class="md-nav__link">
      39. Combination Sum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/399. Evaluate Division/" title="399. Evaluate Division" class="md-nav__link">
      399. Evaluate Division
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/4. Median of Two Sorted Arrays/" title="4. Median of Two Sorted Arrays" class="md-nav__link">
      4. Median of Two Sorted Arrays
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/40. Combination Sum II/" title="40. Combination Sum II" class="md-nav__link">
      40. Combination Sum II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/401. Binary Watch/" title="401. Binary Watch" class="md-nav__link">
      401. Binary Watch
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/404. Sum of Left Leaves/" title="404. Sum of Left Leaves" class="md-nav__link">
      404. Sum of Left Leaves
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/409. Longest Palindrome/" title="409. Longest Palindrome" class="md-nav__link">
      409. Longest Palindrome
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/415. Add Strings/" title="415. Add Strings" class="md-nav__link">
      415. Add Strings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/42. Trapping Rain Water/" title="42. Trapping Rain Water" class="md-nav__link">
      42. Trapping Rain Water
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/426. Convert Binary Search Tree to Sorted Doubly Linked List/" title="426. Convert Binary Search Tree to Sorted Doubly Linked List" class="md-nav__link">
      426. Convert Binary Search Tree to Sorted Doubly Linked List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/429. N-ary Tree Level Order Traversal/" title="429. N-ary Tree Level Order Traversal" class="md-nav__link">
      429. N-ary Tree Level Order Traversal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/43. Multiply Strings/" title="43. Multiply Strings" class="md-nav__link">
      43. Multiply Strings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/437. Path Sum III/" title="437. Path Sum III" class="md-nav__link">
      437. Path Sum III
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/438. Find All Anagrams in a String/" title="438. Find All Anagrams in a String" class="md-nav__link">
      438. Find All Anagrams in a String
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/451. Sort Characters By Frequency/" title="451. Sort Characters By Frequency" class="md-nav__link">
      451. Sort Characters By Frequency
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/46. Permutations/" title="46. Permutations" class="md-nav__link">
      46. Permutations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/463. Island Perimeter/" title="463. Island Perimeter" class="md-nav__link">
      463. Island Perimeter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/47. Permutations II/" title="47. Permutations II" class="md-nav__link">
      47. Permutations II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/49. Group Anagrams/" title="49. Group Anagrams" class="md-nav__link">
      49. Group Anagrams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/493. Reverse Pairs/" title="493. Reverse Pairs" class="md-nav__link">
      493. Reverse Pairs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/5. Longest Palindromic Substring/" title="5. Longest Palindromic Substring" class="md-nav__link">
      5. Longest Palindromic Substring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/50. Pow(x, n)/" title="50. Pow(x, n)" class="md-nav__link">
      50. Pow(x, n)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/500. Keyboard Row/" title="500. Keyboard Row" class="md-nav__link">
      500. Keyboard Row
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/507. Perfect Number/" title="507. Perfect Number" class="md-nav__link">
      507. Perfect Number
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/51. N-Queens/" title="51. N-Queens" class="md-nav__link">
      51. N-Queens
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/518. Coin Change 2/" title="518. Coin Change 2" class="md-nav__link">
      518. Coin Change 2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/52. N-Queens II/" title="52. N-Queens II" class="md-nav__link">
      52. N-Queens II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/53. Maximum Subarray/" title="53. Maximum Subarray" class="md-nav__link">
      53. Maximum Subarray
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/538. Convert BST to Greater Tree/" title="538. Convert BST to Greater Tree" class="md-nav__link">
      538. Convert BST to Greater Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/559. Maximum Depth of N-ary Tree/" title="559. Maximum Depth of N-ary Tree" class="md-nav__link">
      559. Maximum Depth of N-ary Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/56. Merge Intervals/" title="56. Merge Intervals" class="md-nav__link">
      56. Merge Intervals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/57. Insert Interval/" title="57. Insert Interval" class="md-nav__link">
      57. Insert Interval
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/58. Length of Last Word/" title="58. Length of Last Word" class="md-nav__link">
      58. Length of Last Word
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/590. N-ary Tree Postorder Traversal/" title="590. N-ary Tree Postorder Traversal" class="md-nav__link">
      590. N-ary Tree Postorder Traversal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/599. Minimum Index Sum of Two Lists/" title="599. Minimum Index Sum of Two Lists" class="md-nav__link">
      599. Minimum Index Sum of Two Lists
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/6. ZigZag Conversion/" title="6. ZigZag Conversion" class="md-nav__link">
      6. ZigZag Conversion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/60. Permutation Sequence/" title="60. Permutation Sequence" class="md-nav__link">
      60. Permutation Sequence
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/606. Construct String from Binary Tree/" title="606. Construct String from Binary Tree" class="md-nav__link">
      606. Construct String from Binary Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/61. Rotate List/" title="61. Rotate List" class="md-nav__link">
      61. Rotate List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/62. Unique Paths/" title="62. Unique Paths" class="md-nav__link">
      62. Unique Paths
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/63. Unique Paths II/" title="63. Unique Paths II" class="md-nav__link">
      63. Unique Paths II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/633. Sum of Square Numbers/" title="633. Sum of Square Numbers" class="md-nav__link">
      633. Sum of Square Numbers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/637. Average of Levels in Binary Tree/" title="637. Average of Levels in Binary Tree" class="md-nav__link">
      637. Average of Levels in Binary Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/64. Minimum Path Sum/" title="64. Minimum Path Sum" class="md-nav__link">
      64. Minimum Path Sum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/66. Plus One/" title="66. Plus One" class="md-nav__link">
      66. Plus One
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/67. Add Binary/" title="67. Add Binary" class="md-nav__link">
      67. Add Binary
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/671. Second Minimum Node In a Binary Tree/" title="671. Second Minimum Node In a Binary Tree" class="md-nav__link">
      671. Second Minimum Node In a Binary Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/684. Redundant Connection/" title="684. Redundant Connection" class="md-nav__link">
      684. Redundant Connection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/685. Redundant Connection II/" title="685. Redundant Connection II" class="md-nav__link">
      685. Redundant Connection II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/687. Longest Univalue Path/" title="687. Longest Univalue Path" class="md-nav__link">
      687. Longest Univalue Path
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/69. Sqrt(x)/" title="69. Sqrt(x)" class="md-nav__link">
      69. Sqrt(x)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/692. Top K Frequent Words/" title="692. Top K Frequent Words" class="md-nav__link">
      692. Top K Frequent Words
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/697. Degree of an Array/" title="697. Degree of an Array" class="md-nav__link">
      697. Degree of an Array
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/7. Reverse Integer/" title="7. Reverse Integer" class="md-nav__link">
      7. Reverse Integer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/70. Climbing Stairs/" title="70. Climbing Stairs" class="md-nav__link">
      70. Climbing Stairs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/703. Kth Largest Element in a Stream/" title="703. Kth Largest Element in a Stream" class="md-nav__link">
      703. Kth Largest Element in a Stream
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/704. Binary Search/" title="704. Binary Search" class="md-nav__link">
      704. Binary Search
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/71. Simplify Path/" title="71. Simplify Path" class="md-nav__link">
      71. Simplify Path
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/716. Max Stack/" title="716. Max Stack" class="md-nav__link">
      716. Max Stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/728. Self Dividing Numbers/" title="728. Self Dividing Numbers" class="md-nav__link">
      728. Self Dividing Numbers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/74. Search a 2D Matrix/" title="74. Search a 2D Matrix" class="md-nav__link">
      74. Search a 2D Matrix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/741. Cherry Pickup/" title="741. Cherry Pickup" class="md-nav__link">
      741. Cherry Pickup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/743. Network Delay Time/" title="743. Network Delay Time" class="md-nav__link">
      743. Network Delay Time
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/746. Min Cost Climbing Stairs/" title="746. Min Cost Climbing Stairs" class="md-nav__link">
      746. Min Cost Climbing Stairs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/75. Sort Colors/" title="75. Sort Colors" class="md-nav__link">
      75. Sort Colors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/76. Minimum Window Substring/" title="76. Minimum Window Substring" class="md-nav__link">
      76. Minimum Window Substring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/760. Find Anagram Mappings/" title="760. Find Anagram Mappings" class="md-nav__link">
      760. Find Anagram Mappings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/77. Combinations/" title="77. Combinations" class="md-nav__link">
      77. Combinations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/78. Subsets/" title="78. Subsets" class="md-nav__link">
      78. Subsets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/783. Minimum Distance Between BST Nodes/" title="783. Minimum Distance Between BST Nodes" class="md-nav__link">
      783. Minimum Distance Between BST Nodes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/784. Letter Case Permutation/" title="784. Letter Case Permutation" class="md-nav__link">
      784. Letter Case Permutation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/785. Is Graph Bipartite?/" title="785. Is Graph Bipartite?" class="md-nav__link">
      785. Is Graph Bipartite?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/79. Word Search/" title="79. Word Search" class="md-nav__link">
      79. Word Search
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/8. String to Integer (atoi)/" title="8. String to Integer (atoi)" class="md-nav__link">
      8. String to Integer (atoi)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/81. Search in Rotated Sorted Array II/" title="81. Search in Rotated Sorted Array II" class="md-nav__link">
      81. Search in Rotated Sorted Array II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/82. Remove Duplicates from Sorted List II/" title="82. Remove Duplicates from Sorted List II" class="md-nav__link">
      82. Remove Duplicates from Sorted List II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/83. Remove Duplicates from Sorted List/" title="83. Remove Duplicates from Sorted List" class="md-nav__link">
      83. Remove Duplicates from Sorted List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/84. Largest Rectangle in Histogram/" title="84. Largest Rectangle in Histogram" class="md-nav__link">
      84. Largest Rectangle in Histogram
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/841. Keys and Rooms/" title="841. Keys and Rooms" class="md-nav__link">
      841. Keys and Rooms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/85. Maximal Rectangle/" title="85. Maximal Rectangle" class="md-nav__link">
      85. Maximal Rectangle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/86. Partition List/" title="86. Partition List" class="md-nav__link">
      86. Partition List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/867. Transpose Matrix/" title="867. Transpose Matrix" class="md-nav__link">
      867. Transpose Matrix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/873. Length of Longest Fibonacci Subsequence/" title="873. Length of Longest Fibonacci Subsequence" class="md-nav__link">
      873. Length of Longest Fibonacci Subsequence
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/876. Middle of the Linked List/" title="876. Middle of the Linked List" class="md-nav__link">
      876. Middle of the Linked List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/88. Merge Sorted Array/" title="88. Merge Sorted Array" class="md-nav__link">
      88. Merge Sorted Array
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/89. Gray Code/" title="89. Gray Code" class="md-nav__link">
      89. Gray Code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/9. Palindrome Number/" title="9. Palindrome Number" class="md-nav__link">
      9. Palindrome Number
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/90. Subsets II/" title="90. Subsets II" class="md-nav__link">
      90. Subsets II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/91. Decode Ways/" title="91. Decode Ways" class="md-nav__link">
      91. Decode Ways
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/92. Reverse Linked List II/" title="92. Reverse Linked List II" class="md-nav__link">
      92. Reverse Linked List II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/93. Restore IP Addresses/" title="93. Restore IP Addresses" class="md-nav__link">
      93. Restore IP Addresses
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/93. Restore IP Adress/" title="93. Restore IP Adress" class="md-nav__link">
      93. Restore IP Adress
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/94. Binary Tree Inorder Traversal/" title="94. Binary Tree Inorder Traversal" class="md-nav__link">
      94. Binary Tree Inorder Traversal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/941. Valid Mountain Array/" title="941. Valid Mountain Array" class="md-nav__link">
      941. Valid Mountain Array
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/95. Unique Binary Search Trees II/" title="95. Unique Binary Search Trees II" class="md-nav__link">
      95. Unique Binary Search Trees II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/96. Unique Binary Search Trees/" title="96. Unique Binary Search Trees" class="md-nav__link">
      96. Unique Binary Search Trees
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/98. Validate Binary Search Tree/" title="98. Validate Binary Search Tree" class="md-nav__link">
      98. Validate Binary Search Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/99. Recover Binary Search Tree/" title="99. Recover Binary Search Tree" class="md-nav__link">
      99. Recover Binary Search Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-276" type="checkbox" id="nav-4-276">
    
    <label class="md-nav__link" for="nav-4-276">
      LintCode
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-276">
        LintCode
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/LintCode/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/LintCode/77. Longest Common Subsequence/" title="77. Longest Common Subsequence" class="md-nav__link">
      77. Longest Common Subsequence
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/LintCode/464. Sort Integers II/" title="464. Sort Integers II" class="md-nav__link">
      464. Sort Integers II
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Leetcode/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Miscellaneous
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Miscellaneous
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/Clion/" title="Clion" class="md-nav__link">
      Clion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      Cpp
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        Cpp
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/Cpp/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/Cpp/EOF/" title="EOF" class="md-nav__link">
      EOF
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/Cpp/STL中的vector string总结/" title="STL中的vector string总结" class="md-nav__link">
      STL中的vector string总结
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/Cpp/STL源码剖析/" title="STL源码剖析" class="md-nav__link">
      STL源码剖析
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/Cpp/static用法/" title="static用法" class="md-nav__link">
      static用法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/Cpp/C++ Primer (6) - 函数/" title="C++ Primer (6) - 函数" class="md-nav__link">
      C++ Primer (6) - 函数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/Cpp/C++ Primer (12) - 动态内存/" title="C++ Primer (12) - 动态内存" class="md-nav__link">
      C++ Primer (12) - 动态内存
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/Cpp/C++面试经典100题/" title="C++面试经典100题" class="md-nav__link">
      C++面试经典100题
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/GCC/" title="GCC" class="md-nav__link">
      GCC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/Git/" title="Git" class="md-nav__link">
      Git
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/Intellij IDEA/" title="Intellij IDEA" class="md-nav__link">
      Intellij IDEA
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/LLDB使用/" title="LLDB使用" class="md-nav__link">
      LLDB使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/Markdown/" title="Markdown" class="md-nav__link">
      Markdown
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/Maven/" title="Maven" class="md-nav__link">
      Maven
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/VIM技巧/" title="VIM技巧" class="md-nav__link">
      VIM技巧
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-10" type="checkbox" id="nav-5-10">
    
    <label class="md-nav__link" for="nav-5-10">
      awesome Install
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-10">
        awesome Install
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/awesome Install/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/awesome Install/CentOS日志/" title="CentOS日志" class="md-nav__link">
      CentOS日志
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/awesome Install/Intel Parallel Studio XE/" title="Intel Parallel Studio XE" class="md-nav__link">
      Intel Parallel Studio XE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/awesome Install/Jupyter Notebook/" title="Jupyter Notebook" class="md-nav__link">
      Jupyter Notebook
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/awesome Install/Nasm/" title="Nasm" class="md-nav__link">
      Nasm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/awesome Install/Octave/" title="Octave" class="md-nav__link">
      Octave
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/awesome Install/Proxy/" title="Proxy" class="md-nav__link">
      Proxy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/awesome Install/Youtube/" title="Youtube" class="md-nav__link">
      Youtube
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/awesome Install/git/" title="git" class="md-nav__link">
      git
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/awesome Install/ubuntu日志/" title="ubuntu日志" class="md-nav__link">
      ubuntu日志
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/awesome Install/vagrant搭建ubuntu/" title="vagrant搭建ubuntu" class="md-nav__link">
      vagrant搭建ubuntu
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/awesome Install/黑苹果日志/" title="黑苹果日志" class="md-nav__link">
      黑苹果日志
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/建站日志/" title="建站日志" class="md-nav__link">
      建站日志
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-13" type="checkbox" id="nav-5-13">
    
    <label class="md-nav__link" for="nav-5-13">
      面试
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-13">
        面试
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/面试/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/面试/Java多线程面试/" title="Java多线程面试" class="md-nav__link">
      Java多线程面试
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Miscellaneous/面试/网络面试/" title="网络面试" class="md-nav__link">
      网络面试
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      OS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        OS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/Docker/" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/Linux私房菜(Centos 7)/" title="Linux私房菜(Centos 7)" class="md-nav__link">
      Linux私房菜(Centos 7)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-4" type="checkbox" id="nav-6-4">
    
    <label class="md-nav__link" for="nav-6-4">
      分布式
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-4">
        分布式
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/分布式/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/分布式/Building Large Scale Internet Service/" title="Building Large Scale Internet Service" class="md-nav__link">
      Building Large Scale Internet Service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/分布式/Consensus/" title="Consensus" class="md-nav__link">
      Consensus
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/分布式/Google Chubby/" title="Google Chubby" class="md-nav__link">
      Google Chubby
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-5" type="checkbox" id="nav-6-5">
    
    <label class="md-nav__link" for="nav-6-5">
      操作系统概念
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-5">
        操作系统概念
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/操作系统概念/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/操作系统概念/1 Introduction/" title="1 Introduction" class="md-nav__link">
      1 Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/操作系统概念/2 Operating System structures/" title="2 Operating System structures" class="md-nav__link">
      2 Operating System structures
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/操作系统概念/3 Processes/" title="3 Processes" class="md-nav__link">
      3 Processes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/操作系统概念/4 Threads and Concurrency/" title="4 Threads and Concurrency" class="md-nav__link">
      4 Threads and Concurrency
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/操作系统概念/5 CPU Scheduling/" title="5 CPU Scheduling" class="md-nav__link">
      5 CPU Scheduling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/操作系统概念/6 Synchronization Tools/" title="6 Synchronization Tools" class="md-nav__link">
      6 Synchronization Tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/操作系统概念/7 Synchronization Examples/" title="7 Synchronization Examples" class="md-nav__link">
      7 Synchronization Examples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/操作系统概念/8 DeadLocks/" title="8 DeadLocks" class="md-nav__link">
      8 DeadLocks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/操作系统概念/9 Main Memory/" title="9 Main Memory" class="md-nav__link">
      9 Main Memory
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/操作系统概念/10 Virtual Memory/" title="10 Virtual Memory" class="md-nav__link">
      10 Virtual Memory
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/操作系统概念/11 Mass-Storage Structure/" title="11 Mass-Storage Structure" class="md-nav__link">
      11 Mass-Storage Structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/操作系统概念/12 IO Systems/" title="12 IO Systems" class="md-nav__link">
      12 IO Systems
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/操作系统概念/13 File System Interface/" title="13 File System Interface" class="md-nav__link">
      13 File System Interface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/操作系统概念/15 File System Internals/" title="15 File System Internals" class="md-nav__link">
      15 File System Internals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/操作系统概念/17 Protection/" title="17 Protection" class="md-nav__link">
      17 Protection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/操作系统概念/18 Virtual Machines/" title="18 Virtual Machines" class="md-nav__link">
      18 Virtual Machines
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-6" type="checkbox" id="nav-6-6">
    
    <label class="md-nav__link" for="nav-6-6">
      深入了解计算机系统
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-6">
        深入了解计算机系统
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/深入了解计算机系统/1 计算机系统漫游/" title="1 计算机系统漫游" class="md-nav__link">
      1 计算机系统漫游
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/深入了解计算机系统/10 系统级IO/" title="10 系统级IO" class="md-nav__link">
      10 系统级IO
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/深入了解计算机系统/11 网络编程/" title="11 网络编程" class="md-nav__link">
      11 网络编程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/深入了解计算机系统/2 信息的表示和处理/" title="2 信息的表示和处理" class="md-nav__link">
      2 信息的表示和处理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/深入了解计算机系统/3 程序的机器级表示/" title="3 程序的机器级表示" class="md-nav__link">
      3 程序的机器级表示
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/深入了解计算机系统/4 处理器体系结构/" title="4 处理器体系结构" class="md-nav__link">
      4 处理器体系结构
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/深入了解计算机系统/5 优化程序性能/" title="5 优化程序性能" class="md-nav__link">
      5 优化程序性能
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/深入了解计算机系统/6 存储器层次结构/" title="6 存储器层次结构" class="md-nav__link">
      6 存储器层次结构
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/深入了解计算机系统/7 链接/" title="7 链接" class="md-nav__link">
      7 链接
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/深入了解计算机系统/8 异常控制流/" title="8 异常控制流" class="md-nav__link">
      8 异常控制流
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/深入了解计算机系统/9 虚拟内存/" title="9 虚拟内存" class="md-nav__link">
      9 虚拟内存
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-6-12" type="checkbox" id="nav-6-6-12">
    
    <label class="md-nav__link" for="nav-6-6-12">
      Labs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-6-6-12">
        Labs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/深入了解计算机系统/Labs/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/深入了解计算机系统/Labs/Lab1 Data Lab/" title="Lab1 Data Lab" class="md-nav__link">
      Lab1 Data Lab
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/深入了解计算机系统/Labs/Lab3 Attack Lab/" title="Lab3 Attack Lab" class="md-nav__link">
      Lab3 Attack Lab
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/深入了解计算机系统/Labs/Lab4 Cache Lab/" title="Lab4 Cache Lab" class="md-nav__link">
      Lab4 Cache Lab
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/深入了解计算机系统/Labs/Lab5 Shell Lab/" title="Lab5 Shell Lab" class="md-nav__link">
      Lab5 Shell Lab
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/深入了解计算机系统/Labs/Lab6 Malloc Lab/" title="Lab6 Malloc Lab" class="md-nav__link">
      Lab6 Malloc Lab
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/深入了解计算机系统/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/深入解析Mac OS X/" title="深入解析Mac OS X" class="md-nav__link">
      深入解析Mac OS X
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/计算机组成与设计/" title="计算机组成与设计" class="md-nav__link">
      计算机组成与设计
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-9" type="checkbox" id="nav-6-9">
    
    <label class="md-nav__link" for="nav-6-9">
      计算机网络 自顶向下
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-9">
        计算机网络 自顶向下
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/计算机网络 自顶向下/" title="index" class="md-nav__link">
      index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/计算机网络 自顶向下/Socket Programming/" title="Socket Programming" class="md-nav__link">
      Socket Programming
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/计算机网络 自顶向下/WireShark Lab/" title="WireShark Lab" class="md-nav__link">
      WireShark Lab
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/计算机网络 自顶向下/1 计算机网络和因特网/" title="1 计算机网络和因特网" class="md-nav__link">
      1 计算机网络和因特网
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/计算机网络 自顶向下/2 应用层/" title="2 应用层" class="md-nav__link">
      2 应用层
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/计算机网络 自顶向下/3 运输层/" title="3 运输层" class="md-nav__link">
      3 运输层
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/计算机网络 自顶向下/4 网络层/" title="4 网络层" class="md-nav__link">
      4 网络层
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/计算机网络 自顶向下/5 链路层/" title="5 链路层" class="md-nav__link">
      5 链路层
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../OS/计算机网络 自顶向下/6 网络安全/" title="6 网络安全" class="md-nav__link">
      6 网络安全
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-meet-hadoop" class="md-nav__link">
    1 Meet Hadoop
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    数据！数据！
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    数据的存储与分析
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    查询所有数据
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    不仅仅是批处理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    相较于其他系统的优势
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    关系型数据库系统
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    高性能计算
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    发展历史
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hadoop" class="md-nav__link">
    Hadoop家族
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-mapreduce" class="md-nav__link">
    2 关于MapReduce
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-weather-dataset" class="md-nav__link">
    A Weather Dataset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#analyzing-the-data-with-hadoop" class="md-nav__link">
    Analyzing the Data with Hadoop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java-mapreduce" class="md-nav__link">
    Java MapReduce
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scaling-out" class="md-nav__link">
    Scaling Out
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    数据流
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combiner-functions" class="md-nav__link">
    Combiner Functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hadoop-streaming" class="md-nav__link">
    Hadoop Streaming
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    Python
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-hadoop" class="md-nav__link">
    3 Hadoop分布式文件系统
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-design-of-hdfs" class="md-nav__link">
    The Design of HDFS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdfs-concepts" class="md-nav__link">
    HDFS Concepts
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#blocks" class="md-nav__link">
    Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#namenodes-and-datanodes" class="md-nav__link">
    Namenodes and Datanodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#block-caching" class="md-nav__link">
    Block Caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdfs-federation" class="md-nav__link">
    HDFS Federation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdfs-high-availability" class="md-nav__link">
    HDFS High Availability
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-command-line-interface" class="md-nav__link">
    The Command-Line Interface
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-filesystem-operations" class="md-nav__link">
    Basic Filesystem Operations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hadoop-filesystems" class="md-nav__link">
    Hadoop Filesystems
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#http" class="md-nav__link">
    HTTP
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-java-interface" class="md-nav__link">
    The Java Interface
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reading-data-from-a-hadoop-url" class="md-nav__link">
    Reading Data from a Hadoop URL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reading-data-using-the-filesystem-api" class="md-nav__link">
    Reading Data Using the FileSystem API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fsdatainputstream" class="md-nav__link">
    FSDataInputStream
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing-data" class="md-nav__link">
    Writing Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fsdataoutputstream" class="md-nav__link">
    FSDataOutputStream
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#directories" class="md-nav__link">
    Directories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querying-the-filesystem" class="md-nav__link">
    Querying the Filesystem
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-data" class="md-nav__link">
    Deleting Data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-flow" class="md-nav__link">
    Data Flow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    剖析文件读取
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    剖析文件写入
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    一致性模型
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distcp" class="md-nav__link">
    通过distcp并行复制
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-yarn" class="md-nav__link">
    4 YARN
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anatomy-of-a-yarn-application-run" class="md-nav__link">
    Anatomy of a YARN Application Run
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resource-requests" class="md-nav__link">
    Resource Requests
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#application-lifespan" class="md-nav__link">
    Application Lifespan
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-yarn-applications" class="md-nav__link">
    Building YARN Applications
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yarn-compared-to-mapreduce-1" class="md-nav__link">
    YARN Compared to MapReduce 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduling-in-yarn" class="md-nav__link">
    Scheduling in YARN
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scheduler-options" class="md-nav__link">
    Scheduler Options
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-hadoop-io" class="md-nav__link">
    5 Hadoop IO
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    数据完整性
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-integrity-in-hdfs" class="md-nav__link">
    Data Integrity in HDFS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#localfilesystem" class="md-nav__link">
    LocalFileSystem
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checksumfilesystem" class="md-nav__link">
    ChecksumFileSystem
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    压缩
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#codecs" class="md-nav__link">
    Codecs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    压缩和输入分片
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapreduce" class="md-nav__link">
    在MapReduce中使用压缩
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    序列化
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-writable-interface" class="md-nav__link">
    The Writable Interface
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#writablecomparablecomparator" class="md-nav__link">
    WritableComparable接口和comparator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writable" class="md-nav__link">
    Writable类
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#writable-wrappers-for-java-primitives" class="md-nav__link">
    Writable wrappers for Java primitives
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#text" class="md-nav__link">
    Text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#byteswritable" class="md-nav__link">
    BytesWritable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nullwritable" class="md-nav__link">
    NullWritable
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writable_1" class="md-nav__link">
    实现自定义Writable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serialization-frameworks" class="md-nav__link">
    Serialization Frameworks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-based-data-structures" class="md-nav__link">
    File-Based Data Structures
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sequencefile" class="md-nav__link">
    SequenceFile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapfile" class="md-nav__link">
    MapFile
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-hadoop-ha" class="md-nav__link">
    6 Hadoop HA
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#namenode" class="md-nav__link">
    namenode目录结构
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#version" class="md-nav__link">
    VERSION
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    编辑日志
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fsimage" class="md-nav__link">
    fsimage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datanode" class="md-nav__link">
    datanode目录结构
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    安全模式
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    高可用
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hadoop_1" class="md-nav__link">
    管理Hadoop
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    附录
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    安装配置
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/techlarry/note/edit/master/wiki/docs/Data Science/Hadoop/Hadoop基础.md" title="编辑此页" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Hadoop基础</h1>
                

<!--添加tag标签 -->



                <h3 id="1-meet-hadoop">1 Meet Hadoop<a class="headerlink" href="#1-meet-hadoop" title="Permanent link">&para;</a></h3>
<h4 id="_1">数据！数据！<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h4>
<p>现在是数据大爆炸时代，全球数据总量远远超过了全世界每人一块硬盘中所能保存的数据总量。</p>
<ul>
<li>个人产生的数据正在快速增长<ul>
<li>个人信息档案将日益普及（电话、邮件、文件、照片）</li>
</ul>
</li>
<li>物联网的机器设备产生的数据可能远远超过个人产生的数据 <ul>
<li>机器日志、传感器网络、零售交易数据等</li>
</ul>
</li>
</ul>
<h4 id="_2">数据的存储与分析<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h4>
<p>遇到的问题：硬盘存储容量不断提升，访问速度却没有与时俱进</p>
<ul>
<li>读写硬盘中的数据需要更长时间</li>
</ul>
<p>解决方法： 同时从多个硬盘上读取数据，每个硬盘存储一部分数据</p>
<ul>
<li>虽然浪费了硬盘容量，但是由于用户的分析工作都是在不同时间点进行的，所以彼此之间的干扰并不太大</li>
</ul>
<p>新的问题：要对多个硬盘中的数据并行进行读写数据，还有更多问题要解决</p>
<ul>
<li>硬件故障问题：最常见的做法是系统保存数据的副本(replica)</li>
<li>大多数分析任务需要以某种方式结合大部分数据来共同完成分析，保证其正确性是一个非常大的挑战：MapReduce</li>
</ul>
<h4 id="_3">查询所有数据<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<p>MapReduce是一个<strong>批量查询处理器</strong>(batch query processor)，能够在合理的时间范围内处理针对整个数据集的动态查询。</p>
<h4 id="_4">不仅仅是批处理<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<p>MapReduce从根本上说是一个<strong>批处理系统</strong>(batch processing system)，并不适合交互式分析:</p>
<ul>
<li>你不可能执行一条查询并在几秒内或更短时间内得到结果；典型情况下，执行查询需要几分钟或更多时间。</li>
<li>MapReduce更适合没有用户在现场等待查询结果的离线使用场景。</li>
</ul>
<p>Hadoop的发展已经超越了批处理本身。</p>
<ul>
<li>
<p>Hadoop有时被用于指代一个更大的、多个项目组成的生态系统，而不仅仅是HDFS和MapReduce，例如</p>
<ul>
<li>HBase：一种使用HDFS做底层存储的键值存储模型。 </li>
<li>YARN: 一个集群资源管理系统</li>
</ul>
</li>
</ul>
<h4 id="_5">相较于其他系统的优势<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<h5 id="_6">关系型数据库系统<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h5>
<p>为什么不能用配有大量硬盘的数据库来进行大规模数据分析？</p>
<ul>
<li>寻址时间的提升远远不及传输速率的提升：如果数据访问中包含大量的硬盘寻址，读取大量数据集必然会花更长时间</li>
<li>大量数据更新，B树效率低：因为要使用sort/merge来重建数据库</li>
</ul>
<p>MapReduce比较适合解决需要以批处理方式分析整个数据集的问题，适合一次写入、多次读取数据的应用。关系型数据库更适合持续更新的数据集。</p>
<table>
<thead>
<tr>
<th></th>
<th>传统的关系型数据库</th>
<th>MapReduce</th>
</tr>
</thead>
<tbody>
<tr>
<td>数据大小</td>
<td>GB</td>
<td>PB</td>
</tr>
<tr>
<td>数据存取</td>
<td>交互型和批处理</td>
<td>批处理</td>
</tr>
<tr>
<td>更新</td>
<td>多次读/写</td>
<td>一次写入，多次读取</td>
</tr>
<tr>
<td>事务</td>
<td>ACID</td>
<td>无</td>
</tr>
<tr>
<td>结构</td>
<td>写时模式</td>
<td>读时模式</td>
</tr>
<tr>
<td>完整性</td>
<td>高</td>
<td>低</td>
</tr>
<tr>
<td>横向扩展</td>
<td>非线性</td>
<td>线性</td>
</tr>
</tbody>
</table>
<h5 id="_7">高性能计算<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h5>
<p>高性能计算采用的方法是将作业分散到集群的各台机器上，这些机器访问存储区域网格(SAN)所组成的共享文件系统。适合于计算密集型的作业。</p>
<p>但如果节点需要访问大量数据，计算节点就会因为网络带宽的瓶颈问题而不得不闲下来等数据。</p>
<p>而Hadoop尽量在计算节点上存储数据，以实现数据的本地快速访问。<strong>数据局部性</strong>(data locality)特性是Hadoop数据处理的核心。</p>
<h4 id="_8">发展历史<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h4>
<ul>
<li>Hadoop是Doug Cutting创建的，起源于开源网络搜索引擎Apache Nutch.</li>
<li>Apache Nutch是起始于2002年，并借鉴了“谷歌分布式文件系统(GFS)"和MapReduce。</li>
<li>2006年，Doug Cutting加入雅虎，雅虎为此组织了专门的团队和资源，将Hadoop发展成能够以Web规模运行的系统。 </li>
<li>2008年，Hadoop已经成为Apache的顶级项目，证明了它的成功、多样化和生命力。</li>
<li>目前，Hadoop被主流企业广泛使用。在工业界，Hadoop已经是 <em><em>公认的大数据通用存储和分析平台</em></em> 。</li>
</ul>
<h4 id="hadoop">Hadoop家族<a class="headerlink" href="#hadoop" title="Permanent link">&para;</a></h4>
<p><img alt="" src="../figures/HadoopFamily.jpg" /></p>
<h3 id="2-mapreduce">2 关于MapReduce<a class="headerlink" href="#2-mapreduce" title="Permanent link">&para;</a></h3>
<p>MapReduce is a programming model for data processing. MapReduce programs are inherently parallel, thus putting very large-scale data analysis into the hands of anyone with enough machines at their disposal. MapReduce comes into its own for large datasets.</p>
<p>MapReduce是一种用于数据处理的编程模型。MapReduce程序本质上是并行运行的，因此可以将大规模的数据分析任务分发给任何一个拥有足够多机器的数据中心。MapReduce的优势在于处理大规模数据集。</p>
<h4 id="a-weather-dataset">A Weather Dataset<a class="headerlink" href="#a-weather-dataset" title="Permanent link">&para;</a></h4>
<p>For our example, we will write a program that mines weather data. The data we will use is from the National Climatic Data Center. It is stored using a line-oriented ASCII format, in which each line is a record.</p>
<h5 id="analyzing-the-data-with-hadoop">Analyzing the Data with Hadoop<a class="headerlink" href="#analyzing-the-data-with-hadoop" title="Permanent link">&para;</a></h5>
<p>MapReduce works by breaking the processing into two phases: the map phase and the reduce phase. Each phase has key-value pairs as input and output, the types of which may be chosen by the programmer. The programmer also specifies two functions: the map function and the reduce function.</p>
<p>MAPINPUT:</p>
<ul>
<li>Key: the offset of the beginning of the line from the beginning of the file. (no need here, just ignore it)</li>
<li>Value: raw NCDC data</li>
</ul>
<div class="codehilite"><pre><span></span>(0, 0067011990999991950051507004…9999999N9+00001+99999999999…) 
(106, 0043011990999991950051512004…9999999N9+00221+99999999999…) 
(212, 0043011990999991950051518004…9999999N9-00111+99999999999…) 
(318, 0043012650999991949032412004…0500001N9+01111+99999999999…) 
(424, 0043012650999991949032418004…0500001N9+00781+99999999999…)
</pre></div>

<p>MAPOUTPUT: </p>
<ul>
<li>The map function merely extracts the year and the air temperature , and emits them as output.</li>
<li>Key: year</li>
<li>Value: air temperature</li>
</ul>
<div class="codehilite"><pre><span></span>(1950, 0)
(1950, 22) 
(1950, −11) 
(1949, 111) 
(1949, 78)
</pre></div>

<p>The output from the map function is processed by the MapReduce framework <em>before</em> being sent to the reduce function. This processing <strong><em>sorts</em></strong> and <strong><em>groups</em></strong> the key-value pairs by key.</p>
<div class="codehilite"><pre><span></span>(1949, [111, 78]) 
(1950, [0, 22, −11])
</pre></div>

<p>All the reduce function has to do now is iterate through the list and pick up the maximum reading:</p>
<div class="codehilite"><pre><span></span>(1949, 111) 
(1950, 22)
</pre></div>

<p><img alt="" src="../figures/MapReduceLogicalDataFlow.jpg" /></p>
<h5 id="java-mapreduce">Java MapReduce<a class="headerlink" href="#java-mapreduce" title="Permanent link">&para;</a></h5>
<p>MapReduce programs need three things: a map function, a reduce function, and some code to run the job. </p>
<p><hh>Map</hh></p>
<p>The map function is represented by the <C>Mapper</C> class, which declares an abstract <C>map()</C> method.</p>
<p>The <C>Mapper</C> class is a generic type, with four formal type parameters that specify the input key, input value, output key, and output value types of the map function.</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Mapper</span><span class="o">&lt;</span><span class="n">KEYIN</span><span class="o">,</span> <span class="n">VALUEIN</span><span class="o">,</span> <span class="n">KEYOUT</span><span class="o">,</span> <span class="n">VALUEOUT</span><span class="o">&gt;</span> <span class="o">{}</span>
</pre></div>

<p>Rather than using built-in Java types, Hadoop provides its own set of basic types that are optimized for network serialization. These are found in the <C>org.apache.hadoop.io</C> package.</p>
<p>Here we use <C>LongWritable</C>, which corresponds to a Java <C>Long</C>, <C>Text</C> (like Java <C>String</C>), and <C>IntWritable</C> (like Java <C>Integer</C>).</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">org.apache.hadoop.io.IntWritable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.hadoop.io.LongWritable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.hadoop.io.Text</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.hadoop.mapreduce.Mapper</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MaxTemperatureMapper</span>
        <span class="kd">extends</span> <span class="n">Mapper</span><span class="o">&lt;</span><span class="n">LongWritable</span><span class="o">,</span> <span class="n">Text</span><span class="o">,</span> <span class="n">Text</span><span class="o">,</span> <span class="n">IntWritable</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">MISSING</span> <span class="o">=</span> <span class="mi">9999</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">map</span><span class="o">(</span><span class="n">LongWritable</span> <span class="n">key</span><span class="o">,</span> <span class="n">Text</span> <span class="n">value</span><span class="o">,</span> <span class="n">Context</span> <span class="n">context</span><span class="o">)</span>
            <span class="kd">throws</span> <span class="n">IOException</span><span class="o">,</span> <span class="n">InterruptedException</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">line</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">year</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">15</span><span class="o">,</span> <span class="mi">19</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">airTemperature</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">line</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="mi">87</span><span class="o">)</span> <span class="o">==</span> <span class="sc">&#39;+&#39;</span><span class="o">){</span> <span class="c1">//parseInt doesn&#39;t like leading plus signs</span>
            <span class="n">airTemperature</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">line</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">88</span><span class="o">,</span> <span class="mi">92</span><span class="o">));</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="n">airTemperature</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">line</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">87</span><span class="o">,</span> <span class="mi">92</span><span class="o">));</span>
        <span class="o">}</span>

        <span class="n">String</span> <span class="n">quality</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">92</span><span class="o">,</span> <span class="mi">93</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">airTemperature</span> <span class="o">!=</span> <span class="n">MISSING</span> <span class="o">&amp;&amp;</span> <span class="n">quality</span><span class="o">.</span><span class="na">matches</span><span class="o">(</span><span class="s">&quot;[01459]]&quot;</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">context</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="k">new</span> <span class="n">Text</span><span class="o">(</span><span class="n">year</span><span class="o">),</span> <span class="k">new</span> <span class="n">IntWritable</span><span class="o">(</span><span class="n">airTemperature</span><span class="o">));</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<p><hh>Reduce</hh></p>
<p>The reduce function is similarly defined using a <C>Reducer</C>.</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">org.apache.hadoop.io.IntWritable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.hadoop.io.Text</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.hadoop.mapreduce.Reducer</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MaxTemperatureReducer</span>
        <span class="kd">extends</span> <span class="n">Reducer</span><span class="o">&lt;</span><span class="n">Text</span><span class="o">,</span> <span class="n">IntWritable</span><span class="o">,</span> <span class="n">Text</span><span class="o">,</span> <span class="n">IntWritable</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">reduce</span><span class="o">(</span><span class="n">Text</span> <span class="n">key</span><span class="o">,</span> <span class="n">Iterable</span><span class="o">&lt;</span><span class="n">IntWritable</span><span class="o">&gt;</span> <span class="n">values</span><span class="o">,</span> <span class="n">Context</span> <span class="n">context</span><span class="o">)</span> 
                <span class="kd">throws</span> <span class="n">IOException</span><span class="o">,</span> <span class="n">InterruptedException</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">maxValue</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">MIN_VALUE</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">IntWritable</span> <span class="n">value</span> <span class="o">:</span> <span class="n">values</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">maxValue</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">maxValue</span><span class="o">,</span> <span class="n">value</span><span class="o">.</span><span class="na">get</span><span class="o">());</span>
        <span class="o">}</span>
        <span class="n">context</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="k">new</span> <span class="n">IntWritable</span><span class="o">(</span><span class="n">maxValue</span><span class="o">));</span>

    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<p><hh>MapReduce Job</hh></p>
<p>The third piece of code runs the MapReduce job</p>
<p><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">org.apache.hadoop.fs.Path</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.hadoop.io.IntWritable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.hadoop.io.Text</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.hadoop.mapreduce.Job</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.hadoop.mapreduce.lib.input.FileInputFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.hadoop.mapreduce.lib.output.FileOutputFormat</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MaxTemperature</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">args</span><span class="o">.</span><span class="na">length</span> <span class="o">!=</span> <span class="mi">2</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Usage: MaxTempeature &lt;intput path&gt; </span>
<span class="s">                        &lt;output path&gt;&quot;</span><span class="o">);</span>
            <span class="n">System</span><span class="o">.</span><span class="na">exit</span><span class="o">(-</span><span class="mi">1</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="n">Job</span> <span class="n">job</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Job</span><span class="o">();</span>
        <span class="n">job</span><span class="o">.</span><span class="na">setJarByClass</span><span class="o">(</span><span class="n">MaxTemperature</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="n">job</span><span class="o">.</span><span class="na">setJobName</span><span class="o">(</span><span class="s">&quot;Max Temperature&quot;</span><span class="o">);</span>
        <span class="n">FileInputFormat</span><span class="o">.</span><span class="na">addInputPath</span><span class="o">(</span><span class="n">job</span><span class="o">,</span> <span class="k">new</span> <span class="n">Path</span><span class="o">(</span><span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]));</span>
        <span class="n">FileOutputFormat</span><span class="o">.</span><span class="na">setOutputPath</span><span class="o">(</span><span class="n">job</span><span class="o">,</span> <span class="k">new</span> <span class="n">Path</span><span class="o">(</span><span class="n">args</span><span class="o">[</span><span class="mi">1</span><span class="o">]));</span>
        <span class="n">job</span><span class="o">.</span><span class="na">setMapperClass</span><span class="o">(</span><span class="n">MaxTemperatureMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="n">job</span><span class="o">.</span><span class="na">setReducerClass</span><span class="o">(</span><span class="n">MaxTemperatureReducer</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="n">job</span><span class="o">.</span><span class="na">setOutputKeyClass</span><span class="o">(</span><span class="n">Text</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="n">job</span><span class="o">.</span><span class="na">setOutputValueClass</span><span class="o">(</span><span class="n">IntWritable</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">exit</span><span class="o">(</span><span class="n">job</span><span class="o">.</span><span class="na">waitForCompletion</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
A <C>Job</C> object forms the specification of the job and gives you control over how the job is run.</p>
<p>Rather than explicitly specifying the name of the JAR file, we can pass a class in the Job’s <C>setJarByClass()</C> method, which Hadoop will use to locate the relevant JAR file by looking for the JAR file containing this class.</p>
<p><hh>A test run</hh></p>
<div class="codehilite"><pre><span></span>$ <span class="nb">export</span> <span class="nv">HADOOP_CLASSPATH</span><span class="o">=</span>/Users/larry/JavaProject/out/artifacts/MaxTemperature/MaxTemperature.jar 
$ hadoop com.definitivehadoop.weatherdata.MaxTemperature resources/HadoopBook/ncdc/sample.txt output
</pre></div>

<p>When the <C>hadoop</C> command is invoked with a classname as the first argument, it launches a JVM to run the class. The <C>hadoop</C> command adds the Hadoop libraries (and their dependencies) to the classpath and picks up the Hadoop configuration, too. To add the application classes to the classpath, we need an environment variable called <C>HADOOP_CLASSPATH</C>, which the <C>hadoop</C> script picks up.</p>
<p><font size=0.6em>
<div class="codehilite"><pre><span></span>//OUTPUT 
18:20:18,944 INFO mapreduce.Job: Counters: 30
        File System Counters
                FILE: Number of bytes read=148485300
                FILE: Number of bytes written=150614384
                FILE: Number of read operations=0
                FILE: Number of large read operations=0
                FILE: Number of write operations=0
        Map-Reduce Framework
                Map input records=5
                Map output records=0
                Map output bytes=0
                Map output materialized bytes=6
                Input split bytes=131
                Combine input records=0
                Combine output records=0
                Reduce input groups=0
                Reduce shuffle bytes=6
                Reduce input records=0
                Reduce output records=0
                Spilled Records=0
                Shuffled Maps =1
                Failed Shuffles=0
                Merged Map outputs=1
                GC time elapsed (ms)=5
                Total committed heap usage (bytes)=406847488
        Shuffle Errors
                BAD_ID=0
                CONNECTION=0
                IO_ERROR=0
                WRONG_LENGTH=0
                WRONG_MAP=0
                WRONG_REDUCE=0
        File Input Format Counters 
                Bytes Read=529
        File Output Format Counters 
                Bytes Written=8
</pre></div>
</font></p>
<p>The last section of the output, titled “Counters,” shows the statistics that Hadoop generates for each job it runs. These are very useful for checking whether the amount of data processed is what you expected.</p>
<h4 id="scaling-out">Scaling Out<a class="headerlink" href="#scaling-out" title="Permanent link">&para;</a></h4>
<p>To scale out(横向扩展), we need to store the data in a distributed filesystem (typically HDFS). This allows Hadoop to move the MapReduce computation to each machine hosting a part of the data, using Hadoop’s resource management system, YARN.</p>
<h5 id="_9">数据流<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h5>
<p>A MapReduce <strong><em>job</em></strong> (作业) is a unit of work that the client wants to be performed: it consists of the input data, the MapReduce program, and configuration information. Hadoop runs the job by dividing it into <strong><em>tasks</em></strong> (任务), of which there are two types: <strong><em>map tasks</em></strong> and <strong><em>reduce tasks</em></strong>. The tasks are scheduled using YARN and run on nodes in the cluster.</p>
<p>Hadoop divides the input to a MapReduce job into fixed-size pieces called <strong><em>input splits</em></strong> (输入分片), or just <strong><em>splits</em></strong> (分片). Hadoop creates one map task for each split, which runs the user-defined map function for each record in the split.</p>
<p>So if we are processing the splits in parallel, the processing is better load balanced when the splits are small. On the other hand, if splits are too small, the overhead of managing the splits and map task creation begins to dominate the total job execution time.</p>
<p>Hadoop does its best to run the map task on a node where the input data resides in HDFS, because it doesn’t use valuable cluster bandwidth. This is called the <strong><em>data locality optimization</em></strong> (数据本地优化).</p>
<p><img alt="Data-local-a-rack-local-b-off-rack-c-mapTasks" src="../figures/Data-local-a-rack-local-b-off-rack-c-mapTasks.jpg" /></p>
<p><mark>Map tasks write their output to the local disk, not to HDFS</mark>. Why is this? <strong><em>Map output is intermediate output:</em></strong> it’s processed by reduce tasks to produce the final output, and once the job is complete, the map output can be thrown away. So, storing it in HDFS <em>with replication</em> would be overkill.</p>
<p>When there are multiple reducers, the map tasks <strong>partition</strong> their output, <mark>each creating one partition for each reduce task</mark>. There can be many keys (and their associated values) in each partition, but the records for any given key are all in a single partition. The partitioning can be controlled by a user-defined partitioning function, but normally the default <strong>partitioner</strong> — which buckets keys using a hash function — works very well.</p>
<p>The data flow for the general case of multiple reduce tasks is illustrated in figure below. This diagram makes it clear why the data flow between map and reduce tasks is colloquially known as “the shuffle,” as each reduce task is fed by many map tasks.</p>
<p><img alt="MapReduceDataFlowWithMultipleReduceTask" src="../figures/MapReduceDataFlowWithMultipleReduceTask.png" /></p>
<h5 id="combiner-functions">Combiner Functions<a class="headerlink" href="#combiner-functions" title="Permanent link">&para;</a></h5>
<p>Many MapReduce jobs are limited by the bandwidth available on the cluster, so it pays to minimize the data transferred between map and reduce tasks. Hadoop allows the user to specify a <strong><em>combiner function</em></strong> to be run on the map output, and the combiner function’s output forms the input to the reduce function. Because the combiner function is an optimization, <mark>Hadoop does not provide a guarantee of how many times it will call it for a particular map output record</mark>, if at all.</p>
<p>For max temperature problem described above, the combiner function is the same implementation as the reduce function in <C>MaxTemperatureReducer</C>. The only change we need to make is to set the combiner class on the Job.</p>
<div class="codehilite"><pre><span></span><span class="n">job</span><span class="o">.</span><span class="na">setMapperClass</span><span class="o">(</span><span class="n">MaxTemperatureMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="n">job</span><span class="o">.</span><span class="na">setCombinerClass</span><span class="o">(</span><span class="n">MaxTemperatureReducer</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="n">job</span><span class="o">.</span><span class="na">setReducerClass</span><span class="o">(</span><span class="n">MaxTemperatureReducer</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</pre></div>

<p>A part of output information for running <C>MaxTemperatureReducer</C> is:</p>
<div class="codehilite"><pre><span></span>Map input records=5
                Map output records=5
                Map output bytes=45
                Map output materialized bytes=28
                Input split bytes=131
                Combine input records=5
                Combine output records=2
                Reduce input groups=2
                Reduce shuffle bytes=28
                Reduce input records=2
                Reduce output records=2
</pre></div>

<h4 id="hadoop-streaming">Hadoop Streaming<a class="headerlink" href="#hadoop-streaming" title="Permanent link">&para;</a></h4>
<p>Hadoop provides an API to MapReduce that allows you to write your map and reduce functions in languages other than Java. <mark>Hadoop Streaming uses Unix standard streams (Unix标准流) as the interface between Hadoop and your program</mark>, so you can use any language that can read standard input and write to standard output to write your MapReduce program.</p>
<p>Streaming is naturally suited for text processing. Map input data is passed over standard input to map function. A map output key-value pair is written as a single tab-delimited line. The reduce function reads lines from standard input, which the framework guarantees are sorted by key, and writes its results to standard output.</p>
<h5 id="python">Python<a class="headerlink" href="#python" title="Permanent link">&para;</a></h5>
<p>Here, We take Python as an example.</p>
<div class="superfences-tabs">
<input name="__tabs_1" type="radio" id="__tab_1_0" checked="checked" />
<label for="__tab_1_0">map</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><span class="ch">#!/Users/larry/anaconda3/bin/python</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="p">:</span>
  <span class="n">val</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
  <span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">temp</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="mi">15</span><span class="p">:</span><span class="mi">19</span><span class="p">],</span> <span class="n">val</span><span class="p">[</span><span class="mi">87</span><span class="p">:</span><span class="mi">92</span><span class="p">],</span> <span class="n">val</span><span class="p">[</span><span class="mi">92</span><span class="p">:</span><span class="mi">93</span><span class="p">])</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">temp</span> <span class="o">!=</span> <span class="s2">&quot;+9999&quot;</span> <span class="ow">and</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;[01459]&quot;</span><span class="p">,</span> <span class="n">q</span><span class="p">)):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="se">\t</span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">temp</span><span class="p">))</span>
</pre></div></div>
<input name="__tabs_1" type="radio" id="__tab_1_1" />
<label for="__tab_1_1">reduce</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><span class="ch">#!/Users/larry/anaconda3/bin/python</span>

<span class="kn">import</span> <span class="nn">sys</span>

<span class="p">(</span><span class="n">last_key</span><span class="p">,</span> <span class="n">max_val</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="o">-</span><span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">)</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="p">:</span>
  <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">last_key</span> <span class="ow">and</span> <span class="n">last_key</span> <span class="o">!=</span> <span class="n">key</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="se">\t</span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">last_key</span><span class="p">,</span> <span class="n">max_val</span><span class="p">))</span>
    <span class="p">(</span><span class="n">last_key</span><span class="p">,</span> <span class="n">max_val</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">val</span><span class="p">))</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="p">(</span><span class="n">last_key</span><span class="p">,</span> <span class="n">max_val</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">max_val</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">val</span><span class="p">)))</span>

<span class="k">if</span> <span class="n">last_key</span><span class="p">:</span>
  <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="se">\t</span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">last_key</span><span class="p">,</span> <span class="n">max_val</span><span class="p">))</span>
</pre></div></div>
</div>
<p>For example, to run a test:</p>
<div class="codehilite"><pre><span></span>$ cat sample.txt <span class="p">|</span> ./max_temperature_map.py <span class="p">|</span> sort <span class="p">|</span> ./max_temperature_reduce.py
<span class="m">1949</span> <span class="m">111</span> 
<span class="m">1950</span> <span class="m">22</span>
</pre></div>

<p>The <C>hadoop</C> command doesn’t support a Streaming option; instead, you specify the Streaming JAR file along with the <C>jar</C> option. Options to the Streaming program specify the input and output paths and the map and reduce scripts.</p>
<div class="codehilite"><pre><span></span><span class="nv">$hadoop</span> jar <span class="nv">$HADOOP_HOME</span>/share/hadoop/tools/lib/hadoop-streaming-3.1.0.jar <span class="se">\</span>
-input sample.txt <span class="se">\</span>
-output output <span class="se">\</span>
-mapper max_temperature_map.py <span class="se">\</span>
-reducer max_temperature_reduce.py
</pre></div>

<h3 id="3-hadoop">3 Hadoop分布式文件系统<a class="headerlink" href="#3-hadoop" title="Permanent link">&para;</a></h3>
<p>Filesystems that manage the storage across a network of machines are called <strong><em>distributed filesystems</em></strong>(分布式文件系统) . Hadoop comes with a distributed filesystem called HDFS, which stands for <strong><em>Hadoop Distributed Filesystem</em></strong>(Hadoop 分布式文件系统).</p>
<h4 id="the-design-of-hdfs">The Design of HDFS<a class="headerlink" href="#the-design-of-hdfs" title="Permanent link">&para;</a></h4>
<p>HDFS is a filesystem designed for storing very large files with streaming data access patterns, running on clusters of commodity hardware.</p>
<ul>
<li>Very large files: files that are hundreds of megabytes, gigabytes, or terabytes in size.</li>
<li>Streaming data access: HDFS is built around the idea that the most efficient data processing pattern is a <strong><em>write-once, read-many-times</em></strong>(一次写入，多次读取) pattern.</li>
<li>Commodity hardware: It’s designed to run on clusters of commodity hardware.</li>
</ul>
<p>These are areas where HDFS is not a good fit today:</p>
<ul>
<li>Low-latency data access</li>
<li>Lots of small files</li>
<li>Multiple writers, arbitrary file modifications</li>
</ul>
<h4 id="hdfs-concepts">HDFS Concepts<a class="headerlink" href="#hdfs-concepts" title="Permanent link">&para;</a></h4>
<h5 id="blocks">Blocks<a class="headerlink" href="#blocks" title="Permanent link">&para;</a></h5>
<p>A disk has a block size, which is the minimum amount of data that it can read or write. Filesystems for a single disk build on this by dealing with data in blocks, which are an integral multiple of the disk block size.</p>
<p>HDFS, too, has the concept of a <strong><em>block</em></strong>(块), but it is a much larger unit — 128 MB by default (typically a few kilobytes for ordinary file system). Unlike a filesystem for a single disk, <mark>a file in HDFS that is smaller than a single block does not occupy a full block’s worth of underlying storage</mark>. (For example, a 1 MB file stored with a block size of 128 MB uses 1 MB of disk space, not 128 MB.)</p>
<div class="admonition question">
<p class="admonition-title">HDFS中的块为什么这么大?</p>
<p>为了最小化寻址时间。如果块足够大，从磁盘传输数据的时间会明显大于定位这个块所需要的时间。因而，传输一个由多个块组成的大文件取决于磁盘传输速率。</p>
</div>
<p>Having a block abstraction for a distributed filesystem brings several benefits.</p>
<ul>
<li>A file can be larger than any single disk in the network.</li>
<li>Making the unit of abstraction a block rather than a file simplifies the storage subsystem.<ul>
<li>storage management: because blocks are a fixed size, it is easy to calculate how many can be stored on a given disk.</li>
<li>metadata concerns: because blocks are just chunks of data to be stored, file metadata such as permissions information does not need to be stored with the blocks.</li>
</ul>
</li>
<li>Blocks fit well with replication for providing fault tolerance and availability.<ul>
<li>To insure against corrupted blocks and disk and machine failure, each block is replicated to a small number of physically separate machines (typically three).</li>
</ul>
</li>
</ul>
<h5 id="namenodes-and-datanodes">Namenodes and Datanodes<a class="headerlink" href="#namenodes-and-datanodes" title="Permanent link">&para;</a></h5>
<p>An HDFS cluster has two types of nodes: a <strong><em>namenode</em></strong> (the master) and a number of <strong><em>datanodes</em></strong> (workers). </p>
<ul>
<li>The namenode manages the filesystem namespace. It maintains the filesystem tree and the metadata for all the files and directories in the tree. This information is stored persistently on the local disk in the form of two files: the <em>namespace image</em> and the <em>edit log</em>. </li>
<li>The namenode also knows the datanodes on which all the blocks for a given file are located;</li>
<li>Datanodes are the workhorses of the filesystem. They store and retrieve blocks when they are told to (by clients or the namenode), and they report back to the namenode periodically with lists of blocks that they are storing.</li>
</ul>
<p>If the machine running the namenode were obliterated, all the files on the filesystem would be lost since there would be no way of knowing how to reconstruct the files from the blocks on the datanodes. Possible solution:</p>
<ul>
<li>to back up the files that make up the persistent state of the filesystem metadata.</li>
<li>to run a secondary namenode, which keeps a copy of the merged namespace image.</li>
</ul>
<h5 id="block-caching">Block Caching<a class="headerlink" href="#block-caching" title="Permanent link">&para;</a></h5>
<p>For frequently accessed files, the blocks may be <em>explicitly</em> cached in the datanode’s memory, in an <strong>off-heap block cache</strong>(堆外块缓存). Users or applications instruct the namenode which files to cache (and for how long) by adding a <em>cache directive</em> to a <em>cache pool</em>.</p>
<h5 id="hdfs-federation">HDFS Federation<a class="headerlink" href="#hdfs-federation" title="Permanent link">&para;</a></h5>
<p>Problem: On very large clusters with many files, memory becomes the limiting factor for scaling, since namenode keeps a reference to every file and block in the filesystem in memory.</p>
<p>For example, a 200-node cluster with 24 TB of disk space per node, a block size of 128 MB, and a replication factor of 3 has room for about 2 million blocks (or more): <span><span class="MathJax_Preview">200\times 24TB⁄(128MB×3)</span><script type="math/tex">200\times 24TB⁄(128MB×3)</script></span>, So in this case, setting the namenode memory to 12,000 MB would be a good starting point.</p>
<p>Solution: HDFS federation, allows a cluster to scale by adding namenodes, each of which manages a portion of the filesystem namespace.</p>
<h5 id="hdfs-high-availability">HDFS High Availability<a class="headerlink" href="#hdfs-high-availability" title="Permanent link">&para;</a></h5>
<p>To remedy a failed namenode, a pair of namenodes in an <strong><em>active-standby</em></strong> configuration is introduced in Hadoop 2. In the event of the failure of the active namenode, the standby takes over its duties to continue servicing client requests <em>without</em> a significant interruption.</p>
<h4 id="the-command-line-interface">The Command-Line Interface<a class="headerlink" href="#the-command-line-interface" title="Permanent link">&para;</a></h4>
<h5 id="basic-filesystem-operations">Basic Filesystem Operations<a class="headerlink" href="#basic-filesystem-operations" title="Permanent link">&para;</a></h5>
<p>Hadoop’s filesystem shell command is <code class="codehilite"><span class="n">fs</span></code>, which supports a number of subcommands (type <code class="codehilite"><span class="n">hadoop</span> <span class="n">fs</span> <span class="o">-</span><span class="n">help</span></code> to get detailed help).</p>
<p>Copying a file from the local filesystem to HDFS:</p>
<div class="codehilite"><pre><span></span><span class="c1">#The local file is copied tothe HDFS instance running on localhost.</span>
$ hadoop fs -copyFromLocal test.copy /test.copy
<span class="c1">## works as the same</span>
$ hadoop fs -copyFromLocal test.copy hdfs://localhost:9000/test2.copy
</pre></div>

<p>Copying the file from the HDFS to the local filesystem:</p>
<div class="codehilite"><pre><span></span>$ hadoop fs -copyToLocal /test.copy test.copy.txt
</pre></div>

<h4 id="hadoop-filesystems">Hadoop Filesystems<a class="headerlink" href="#hadoop-filesystems" title="Permanent link">&para;</a></h4>
<p>Hadoop has an abstract notion of filesystems, of which HDFS is just one implementation. The Java abstract class <code class="codehilite"><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">hadoop</span><span class="p">.</span><span class="n">fs</span><span class="p">.</span><span class="n">FileSystem</span></code> represents the client interface to a filesystem in Hadoop, and there are several concrete implementations.</p>
<table>
<thead>
<tr>
<th>Filesystem</th>
<th>URI scheme</th>
<th>Java implementation</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Local</td>
<td>file</td>
<td>fs.LocalFileSystem</td>
<td>A filesystem for a locally connected disk with client-side checksums</td>
</tr>
<tr>
<td>HDFS</td>
<td>hfs</td>
<td>hdfs.DistributedFileSystem</td>
<td>Hadoop’s distributed filesystem</td>
</tr>
<tr>
<td>WebHDFS</td>
<td>webhdfs</td>
<td>hdfs.web.WebHdfsFileSystem</td>
<td>Providing authenticated read/write access to HDFS over HTTP.</td>
</tr>
<tr>
<td>Secure WebHDFS</td>
<td>swebhdfs</td>
<td>hdfs.web.SWebHdfsFileSystem</td>
<td>The HTTPS version of WebHDFS.</td>
</tr>
</tbody>
</table>
<p>When you are processing large volumes of data you should choose a distributed filesystem that has the data locality optimization, notably HDFS.</p>
<h5 id="http">HTTP<a class="headerlink" href="#http" title="Permanent link">&para;</a></h5>
<p>The HTTP REST API exposed by the WebHDFS protocol makes it easier for other languages to interact with HDFS. Note that the HTTP interface is slower than the native Java client, so should be avoided for very large data transfers if possible.</p>
<p>There are two ways of accessing HDFS over HTTP:</p>
<ul>
<li>Directly, where the HDFS daemons serve HTTP requests to clients;</li>
<li>Via a proxy (or proxies), which accesses HDFS on the client’s behalf using the usual DistributedFileSystem API.</li>
</ul>
<p><img alt="" src="../figures/AccessingHdfsOverHttpOrHdfsProxies.jpg" /></p>
<p>HDFS proxy allows for stricter firewall and bandwidth-limiting policies to be put in place. It’s common to use a proxy for transfers between Hadoop clusters located in different data centers, or when accessing a Hadoop cluster running in the cloud from an external network.</p>
<h4 id="the-java-interface">The Java Interface<a class="headerlink" href="#the-java-interface" title="Permanent link">&para;</a></h4>
<p>Hadoop <code class="codehilite"><span class="n">FileSystem</span></code> class is the API for interacting with one of Hadoop’s filesystems. In general you should strive to <strong><em>write your code against the <code class="codehilite"><span class="n">FileSystem</span></code> abstract class</em></strong> , to retain portability across filesystems. This is very useful when testing your program, for example, because you can rapidly run tests using data stored on the local filesystem.</p>
<h5 id="reading-data-from-a-hadoop-url">Reading Data from a Hadoop URL<a class="headerlink" href="#reading-data-from-a-hadoop-url" title="Permanent link">&para;</a></h5>
<p>NOT recommended, because <code class="codehilite"><span class="n">setURLStreamHandlerFactory</span><span class="p">()</span></code> method can be called only once per JVM, which means that if some other part of your program sets it, you won't be able to use.</p>
<h5 id="reading-data-using-the-filesystem-api">Reading Data Using the FileSystem API<a class="headerlink" href="#reading-data-using-the-filesystem-api" title="Permanent link">&para;</a></h5>
<p>A file in a Hadoop filesystem is represented by a Hadoop <code class="codehilite"><span class="n">Path</span></code> object(<code class="codehilite"><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">hadoop</span><span class="p">.</span><span class="n">fs</span><span class="p">.</span><span class="n">Path</span></code>, not <code class="codehilite"><span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">File</span></code>). You can think of a <code class="codehilite"><span class="n">Path</span></code>  as a Hadoop filesystem URI, such as <code class="codehilite"><span class="n">hdfs</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="o">/</span><span class="k">user</span><span class="o">/</span><span class="n">tom</span><span class="o">/</span><span class="n">test</span><span class="p">.</span><span class="k">copy</span></code></p>
<p>Since <code class="codehilite"><span class="n">FileSystem</span></code> is a general filesystem API, so the first step is to retrieve an instance for the filesystem we want. There are several static factory methods for getting a <code class="codehilite"><span class="n">FileSystem</span></code> instance:</p>
<div class="codehilite"><pre><span></span><span class="c1">// Returns the default filesystem</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">FileSystem</span> <span class="nf">get</span><span class="o">(</span><span class="n">Configuration</span> <span class="n">conf</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> 
<span class="c1">// Uses the given URI’s scheme and authority to determine the filesystem to use</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">FileSystem</span> <span class="nf">get</span><span class="o">(</span><span class="n">URI</span> <span class="n">uri</span><span class="o">,</span> <span class="n">Configuration</span> <span class="n">conf</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> 
<span class="c1">// Retrieves the filesystem as the given user</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">FileSystem</span> <span class="nf">get</span><span class="o">(</span><span class="n">URI</span> <span class="n">uri</span><span class="o">,</span> <span class="n">Configuration</span> <span class="n">conf</span><span class="o">,</span> <span class="n">String</span> <span class="n">user</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span>
<span class="c1">// Retrieves a local filesystem instance</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">LocalFileSystem</span> <span class="nf">getLocal</span><span class="o">(</span><span class="n">Configuration</span> <span class="n">conf</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span>
</pre></div>

<p>A <code class="codehilite"><span class="n">Configuration</span></code> object encapsulates a client or server's configuration, which is set using configuration files read from the classpath, such as <code class="codehilite"><span class="n">etc</span><span class="o">/</span><span class="n">hadoop</span><span class="o">/</span><span class="n">core</span><span class="o">-</span><span class="n">site</span><span class="p">.</span><span class="n">xml</span></code>.</p>
<p>With a <code class="codehilite"><span class="n">FileSystem</span></code> instance in hand, we invoke an <code class="codehilite"><span class="k">open</span><span class="p">()</span></code> method to get the input stream for a file:</p>
<div class="codehilite"><pre><span></span><span class="c1">// Uses a default buffer size of 4 KB</span>
<span class="kd">public</span> <span class="n">FSDataInputStream</span> <span class="nf">open</span><span class="o">(</span><span class="n">Path</span> <span class="n">f</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span>
<span class="c1">// Uses a buffer size of bufferSize</span>
<span class="kd">public</span> <span class="kd">abstract</span> <span class="n">FSDataInputStream</span> <span class="nf">open</span><span class="o">(</span><span class="n">Path</span> <span class="n">f</span><span class="o">,</span> <span class="kt">int</span> <span class="n">bufferSize</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span>
</pre></div>

<p>Displaying files from a Hadoop filesystem on standard output by using the FileSystem directly:</p>
<div class="codehilite"><pre><span></span><span class="c1">// $ hdfs://localhost:9000/test2.copy</span>
<span class="kn">import</span> <span class="nn">org.apache.hadoop.conf.Configuration</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.hadoop.fs.FileSystem</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.hadoop.fs.Path</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.hadoop.io.IOUtils</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FileSystemCat</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
        <span class="n">Configuration</span> <span class="n">conf</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Configuration</span><span class="o">();</span>
        <span class="n">FileSystem</span> <span class="n">fs</span> <span class="o">=</span> <span class="n">FileSystem</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="n">conf</span><span class="o">);</span>
        <span class="n">InputStream</span> <span class="n">in</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">in</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="k">new</span> <span class="n">Path</span><span class="o">(</span><span class="n">uri</span><span class="o">));</span>
            <span class="n">IOUtils</span><span class="o">.</span><span class="na">copyBytes</span><span class="o">(</span><span class="n">in</span><span class="o">,</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">,</span> <span class="mi">4096</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
            <span class="n">IOUtils</span><span class="o">.</span><span class="na">closeStream</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<h5 id="fsdatainputstream">FSDataInputStream<a class="headerlink" href="#fsdatainputstream" title="Permanent link">&para;</a></h5>
<p>The <code class="codehilite"><span class="k">open</span><span class="p">()</span></code> method on <code class="codehilite"><span class="n">FileSystem</span></code> actually returns an <code class="codehilite"><span class="n">FSDataInputStream</span></code> rather than a standard java.io class. This class is a specialization of <code class="codehilite"><span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">DataInputStream</span></code> with support for random access, so you can read from any part of the stream:</p>
<p><img alt="FSDataInputStrea" src="../figures/FSDataInputStream.png" /></p>
<p>The <code class="codehilite"><span class="n">Seekable</span></code> interface permits seeking to a position in the file and provides a query method for the <em>current</em> offset from the start of the file (<code class="codehilite"><span class="n">getPos</span><span class="p">()</span></code>):</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Seekable</span> <span class="o">{</span> 
    <span class="kt">void</span> <span class="nf">seek</span><span class="o">(</span><span class="kt">long</span> <span class="n">pos</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span><span class="o">;</span> 
    <span class="kt">long</span> <span class="nf">getPos</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span><span class="o">;</span> <span class="o">}</span>
</pre></div>

<p>Displaying files from a Hadoop filesystem on standard output twice, by using <code class="codehilite"><span class="n">seek</span><span class="p">()</span></code>:</p>
<div class="codehilite"><pre><span></span><span class="c1">// hdfs://localhost:9000/test2.copy</span>

<span class="kn">import</span> <span class="nn">org.apache.hadoop.conf.Configuration</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.hadoop.fs.FSDataInputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.hadoop.fs.FileSystem</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.hadoop.fs.Path</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.hadoop.io.IOUtils</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FileSystemDoubleCat</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
        <span class="n">Configuration</span> <span class="n">conf</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Configuration</span><span class="o">();</span>
        <span class="n">FileSystem</span> <span class="n">fs</span> <span class="o">=</span> <span class="n">FileSystem</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="n">conf</span><span class="o">);</span>
        <span class="n">FSDataInputStream</span> <span class="n">in</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">in</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="k">new</span> <span class="n">Path</span><span class="o">(</span><span class="n">uri</span><span class="o">));</span>
            <span class="n">IOUtils</span><span class="o">.</span><span class="na">copyBytes</span><span class="o">(</span><span class="n">in</span><span class="o">,</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">,</span> <span class="mi">4096</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
            <span class="n">in</span><span class="o">.</span><span class="na">seek</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span> <span class="c1">// go back to the start of the file</span>
            <span class="n">IOUtils</span><span class="o">.</span><span class="na">copyBytes</span><span class="o">(</span><span class="n">in</span><span class="o">,</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">,</span> <span class="mi">4096</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">ex</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
            <span class="n">IOUtils</span><span class="o">.</span><span class="na">closeStream</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<h5 id="writing-data">Writing Data<a class="headerlink" href="#writing-data" title="Permanent link">&para;</a></h5>
<p>The <code class="codehilite"><span class="n">FileSystem</span></code> class has a number of methods for creating a file. </p>
<div class="codehilite"><pre><span></span><span class="c1">// takes a Path object for the file to be created </span>
<span class="c1">// and returns an output stream to write to</span>
<span class="kd">public</span> <span class="n">FSDataOutputStream</span> <span class="nf">create</span><span class="o">(</span><span class="n">Path</span> <span class="n">f</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span>
<span class="c1">// appends to an existing file</span>
<span class="kd">public</span> <span class="n">FSDataOutputStream</span> <span class="nf">append</span><span class="o">(</span><span class="n">Path</span> <span class="n">f</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span>
</pre></div>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <code class="codehilite"><span class="k">create</span><span class="p">()</span></code> methods create any parent directories of the file to be written that don’t already exist.</p>
</div>
<p>There’s an overloaded method of <code class="codehilite"><span class="k">create</span><span class="p">()</span></code> for passing a callback interface, <code class="codehilite"><span class="n">Progressable</span></code>, so your application can be notified of the progress of the data being written to the datanodes:</p>
<div class="codehilite"><pre><span></span><span class="k">public</span> <span class="n">interface</span> <span class="n">Progressable</span> <span class="err">{</span> 
    <span class="k">public</span> <span class="n">void</span> <span class="n">progress</span><span class="p">();</span> 
<span class="err">}</span>
</pre></div>

<div class="admonition example">
<p class="admonition-title">Example</p>
<p>下面例子中将本地文件复制到Hadoop文件系统。每次将64KB数据包写入datanode pipeline之后， Hadoop调用<code class="codehilite"><span class="n">progress</span><span class="p">()</span></code>方法，打印一个句号。</p>
<div class="codehilite"><pre><span></span><span class="c1">// args: /Users/larry/test.copy hdfs://localhost:9000/test4.copy</span>
<span class="c1">// Copying a local file to a Hadoop filesystem</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FileCopyWithProgress</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">localsrc</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
        <span class="n">String</span> <span class="n">dstsrc</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
        <span class="n">BufferedInputStream</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedInputStream</span><span class="o">(</span><span class="k">new</span> <span class="n">FileInputStream</span><span class="o">(</span><span class="n">localsrc</span><span class="o">));</span>

        <span class="n">Configuration</span> <span class="n">conf</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Configuration</span><span class="o">();</span>
        <span class="n">FileSystem</span> <span class="n">fs</span> <span class="o">=</span> <span class="n">FileSystem</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">dstsrc</span><span class="o">),</span> <span class="n">conf</span><span class="o">);</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">OutputStream</span> <span class="n">out</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="k">new</span> <span class="n">Path</span><span class="o">(</span><span class="n">dstsrc</span><span class="o">),</span> <span class="k">new</span> <span class="n">Progressable</span><span class="o">()</span> <span class="o">{</span>
                <span class="nd">@Override</span>
                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">progress</span><span class="o">()</span> <span class="o">{</span>
                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;.&quot;</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">});</span>
            <span class="n">IOUtils</span><span class="o">.</span><span class="na">copyBytes</span><span class="o">(</span><span class="n">in</span><span class="o">,</span> <span class="n">out</span><span class="o">,</span> <span class="mi">4096</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>

        <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
            <span class="n">IOUtils</span><span class="o">.</span><span class="na">closeStream</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
        <span class="o">}</span> <span class="c1">//end try</span>
    <span class="o">}</span><span class="c1">// end main</span>
<span class="o">}</span>
</pre></div>

</div>
<h5 id="fsdataoutputstream">FSDataOutputStream<a class="headerlink" href="#fsdataoutputstream" title="Permanent link">&para;</a></h5>
<p>The <code class="codehilite"><span class="k">create</span><span class="p">()</span></code> method on <code class="codehilite"><span class="n">FileSystem</span></code> returns an <code class="codehilite"><span class="n">FSDataOutputStream</span></code>, which, like <code class="codehilite"><span class="n">FSDataInputStream</span></code>, has a method for querying the current position in the file:</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">FSDataOutputStream</span> <span class="kd">extends</span> <span class="n">DataOutputStream</span> <span class="kd">implements</span> <span class="n">Syncable</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getPos</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span> 
        <span class="c1">// implementation elided </span>
    <span class="o">}</span><span class="c1">// implementation elided</span>
<span class="o">}</span>
</pre></div>

<p>However, because HDFS allows only sequential writes to an open file or appends to an already written file, <code class="codehilite"><span class="n">FSDataOutputStream</span></code> does not permit seeking.</p>
<h5 id="directories">Directories<a class="headerlink" href="#directories" title="Permanent link">&para;</a></h5>
<p><code class="codehilite"><span class="n">FileSystem</span></code> provides a method to create a directory:</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">mkdirs</span><span class="o">(</span><span class="n">Path</span> <span class="n">f</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span>
</pre></div>

<p>This method creates all of the necessary parent directories if they don’t already exist.</p>
<h5 id="querying-the-filesystem">Querying the Filesystem<a class="headerlink" href="#querying-the-filesystem" title="Permanent link">&para;</a></h5>
<p><hh>File metadata: FileStatus</hh>
<hh>Listing files</hh>
<hh>File patterns</hh></p>
<h5 id="deleting-data">Deleting Data<a class="headerlink" href="#deleting-data" title="Permanent link">&para;</a></h5>
<p>Use the <code class="codehilite"><span class="k">delete</span><span class="p">()</span></code> method on <code class="codehilite"><span class="n">FileSystem</span></code> to permanently remove files or directories:</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">delete</span><span class="o">(</span><span class="n">Path</span> <span class="n">f</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">recursive</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span>
</pre></div>

<p>If <code class="codehilite"><span class="n">f</span></code> is a file or an empty directory, the value of <code class="codehilite"><span class="k">recursive</span></code> is ignored.</p>
<h4 id="data-flow">Data Flow<a class="headerlink" href="#data-flow" title="Permanent link">&para;</a></h4>
<h5 id="_10">剖析文件读取<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h5>
<p>The figure below shows the main sequence of events when reading a file.</p>
<p><img alt="" src="../figures/AClientReadingDataFromHDFS.jpg" /></p>
<ul>
<li>step 1: The client opens the file it wishes to read by calling <code class="codehilite"><span class="k">open</span><span class="p">()</span></code> on the <code class="codehilite"><span class="n">FileSystem</span></code> object, which for HDFS is an instance of <code class="codehilite"><span class="n">DistributedFileSystem</span></code>. </li>
<li>step 2: <code class="codehilite"><span class="n">DistributedFileSystem</span></code> calls the namenode, using remote procedure calls (RPCs), to determine the locations of the first few blocks in the file. </li>
<li>step 3: For each block, the namenode returns the addresses of the datanodes that have a copy of that block. Furthermore, the datanodes are sorted according to their proximity to the client. <ul>
<li>If the client is itself a datanode, the client will read from the local datanode if that datanode hosts a copy of the block.</li>
<li>The <code class="codehilite"><span class="n">DistributedFileSystem</span></code> returns an <code class="codehilite"><span class="n">FSDataInputStream</span></code> to the client for it to read data from. <code class="codehilite"><span class="n">FSDataInputStream</span></code> in turn wraps a <code class="codehilite"><span class="n">DFSInputStream</span></code>, which manages the datanode and namenode I/O.</li>
<li>The client then calls <code class="codehilite"><span class="k">read</span><span class="p">()</span></code> on the stream. </li>
</ul>
</li>
<li>step 4: <code class="codehilite"><span class="n">DFSInputStream</span></code>, which has stored the datanode addresses for the first few blocks in the file, then connects to the first (closest) datanode for the first block in the file. Data is streamed from the datanode back to the client, which calls <code class="codehilite"><span class="k">read</span><span class="p">()</span></code> repeatedly on the stream. </li>
<li>step 5: When the end of the block is reached, <code class="codehilite"><span class="n">DFSInputStream</span></code> will close the connection to the datanode, then find the best datanode for the next block. </li>
<li>step 6: This happens transparently to the client, which from its point of view is just reading a continuous stream.<ul>
<li>Blocks are read in order, with the <code class="codehilite"><span class="n">DFSInputStream</span></code> opening new connections to datanodes as the client reads through the stream. </li>
<li>It will also call the namenode to retrieve the datanode locations for the next batch of blocks as needed. When the client has finished reading, it calls <code class="codehilite"><span class="k">close</span><span class="p">()</span></code> on the <code class="codehilite"><span class="n">FSDataInputStream</span></code>.</li>
</ul>
</li>
</ul>
<h5 id="_11">剖析文件写入<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h5>
<p>The figure below illustrates the case of creating a new file, writing data to it, then closing the file.</p>
<p><img alt="" src="../figures/AClientWritingDataToHDFS.jpg" /></p>
<ul>
<li>step 1: The client creates the file by calling <code class="codehilite"><span class="k">create</span><span class="p">()</span></code> on <code class="codehilite"><span class="n">DistributedFileSystem</span></code>. </li>
<li>step 2: <code class="codehilite"><span class="n">DistributedFileSystem</span></code> makes an RPC call to the namenode to create a new file in the filesystem’s namespace, with no blocks associated with it. <ul>
<li>The namenode performs various checks to make sure the file doesn’t already exist and that the client has the right permissions to create the file. </li>
<li>If these checks pass, the namenode makes a record of the new file; otherwise, file creation fails and the client is thrown an <code class="codehilite"><span class="n">IOException</span></code>. </li>
<li>The <code class="codehilite"><span class="n">DistributedFileSystem</span></code> returns an <code class="codehilite"><span class="n">FSDataOutputStream</span></code> for the client to start writing data to. Just as in the read case, <code class="codehilite"><span class="n">FSDataOutputStream</span></code> wraps a <code class="codehilite"><span class="n">DFSOutputStream</span></code>, which handles communication with the datanodes and namenode.</li>
</ul>
</li>
<li>step 3: As the client writes data, the <code class="codehilite"><span class="n">DFSOutputStream</span></code> splits it into packets, which it writes to an internal queue called the <strong><em>data queue</em></strong>(数据队列) . The data queue is consumed by the <code class="codehilite"><span class="n">DataStreamer</span></code>, which is responsible for asking the namenode to allocate new blocks by picking a list of suitable datanodes to store the replicas. </li>
<li>step 4: The list of datanodes forms a pipeline, and here we’ll assume the replication level is three, so there are three nodes in the pipeline. The <code class="codehilite"><span class="n">DataStreamer</span></code> streams the packets to the first datanode in the pipeline, which stores each packet and forwards it to the second datanode in the pipeline. Similarly, the second datanode stores the packet and forwards it to the third (and last) datanode in the pipeline .</li>
<li>step 5: The <code class="codehilite"><span class="n">DFSOutputStream</span></code> also maintains an internal queue of packets that are waiting to be acknowledged by datanodes, called the <strong><em>ack queue</em></strong>(确认队列). A packet is removed from the ack queue only when it has been acknowledged by <em>all the datanodes</em> in the pipeline.</li>
<li>step 6: When the client has finished writing data, it calls <code class="codehilite"><span class="k">close</span><span class="p">()</span></code> on the stream. This action flushes all the remaining packets to the datanode pipeline.</li>
<li>step 7:  It waits for acknowledgments before contacting the namenode to signal that the file is complete. </li>
</ul>
<div class="admonition note">
<p class="admonition-title">怎么放副本</p>
<p>Hadoop的默认布局策略是</p>
<ul>
<li>在运行客户端的节点上放置第一个副本。如果客户端运行在集群之外，则随机挑选一个节点</li>
<li>随机选择另一个机架上的节点，放置第二个副本</li>
<li>随机选择与副本2同一个机架上的另一个节点，放置第三个副本</li>
</ul>
<p>一旦选定副本的放置位置，就根据网络拓扑创建一个管线，例如：</p>
<p><img alt="" src="../figures/a_typical_replica_pipeline.jpg" /></p>
</div>
<h5 id="_12">一致性模型<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h5>
<p>A coherency model for a filesystem describes the data visibility of reads and writes for a file.</p>
<ul>
<li>After creating a file, it is visible in the filesystem namespace.</li>
<li>Any content written to the file is NOT guaranteed to be visible, even if the stream is flushed.</li>
<li>Once more than a block’s worth of data has been written, the first block will be visible to new readers.</li>
<li>The <code class="codehilite"><span class="n">FSDataOutputStream</span><span class="p">.</span><span class="n">hflush</span><span class="p">()</span></code> method force all buffers to be flushed to the datanodes.<ul>
<li>The <code class="codehilite"><span class="n">hflush</span><span class="p">()</span></code> guarantees that the data written up to that point in the file has reached all the datanodes in the write pipeline and is visible to all new readers.</li>
<li>But it does NOT guarantee that the datanodes have written the data to <em>disk</em>, only that it’s in the datanodes’ <em>memory</em>.</li>
<li>Closing a file in HDFS performs an implicit <code class="codehilite"><span class="n">hflush</span><span class="p">()</span></code>.</li>
</ul>
</li>
<li>The <code class="codehilite"><span class="n">hsync</span><span class="p">()</span></code> method syncs to <em>disk</em> for a file descriptor.</li>
</ul>
<div class="codehilite"><pre><span></span><span class="n">FileOutputStream</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileOutputStream</span><span class="o">(</span><span class="n">localFile</span><span class="o">);</span> 
<span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">&quot;content&quot;</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="s">&quot;UTF-8&quot;</span><span class="o">));</span> 
<span class="n">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span> <span class="c1">// flush to operating system </span>
<span class="n">out</span><span class="o">.</span><span class="na">getFD</span><span class="o">().</span><span class="na">sync</span><span class="o">();</span> <span class="c1">// sync to disk </span>
<span class="n">assertThat</span><span class="o">(</span><span class="n">localFile</span><span class="o">.</span><span class="na">length</span><span class="o">(),</span> <span class="n">is</span><span class="o">(((</span><span class="kt">long</span><span class="o">)</span> <span class="s">&quot;content&quot;</span><span class="o">.</span><span class="na">length</span><span class="o">())));</span>
</pre></div>

<p><hh>Consequences for application design</hh></p>
<p>You should call <code class="codehilite"><span class="n">hflush</span><span class="p">()</span></code> at suitable points, such as after writing a certain number of records or number of bytes.</p>
<h4 id="distcp">通过distcp并行复制<a class="headerlink" href="#distcp" title="Permanent link">&para;</a></h4>
<p><code class="codehilite"><span class="n">distcp</span></code> 并行地把数据拷入/拷出Hdoop文件系统：</p>
<div class="codehilite"><pre><span></span>$ hadoop distcp file1 file2
</pre></div>

<p><code class="codehilite"><span class="n">distcp</span></code>是作为一个MapReduce作业来实现的，该复制作业是通过集群中并行运行的map来完成的，没有reducer。</p>
<h3 id="4-yarn">4 YARN<a class="headerlink" href="#4-yarn" title="Permanent link">&para;</a></h3>
<p>Apache <strong>YARN</strong>(Yet Another Resource Negotiator)是Hadoop的<strong>集群资源管理系统</strong>(cluster resource management system). YARN被引入Hadoop2，最初是为了改善MapReduce的实现，但它具有足够的通用性，同样可以支持其他的分布式计算模式。</p>
<p><img alt="hadoop1.0-2.0" src="../figures/hadoop1.0-2.0.png" /></p>
<p>YARN provides APIs for requesting and working with cluster resources, but these APIs are not typically used directly by user code. Distributed computing frameworks (MapReduce, Spark, and so on) running as YARN applications on the cluster compute layer (YARN) and the cluster storage layer (HDFS and HBase).</p>
<p><img alt="" src="../figures/YARNApplications.jpg" /></p>
<h4 id="anatomy-of-a-yarn-application-run">Anatomy of a YARN Application Run<a class="headerlink" href="#anatomy-of-a-yarn-application-run" title="Permanent link">&para;</a></h4>
<p>YARN通过两类长期运行的守护进行提供自己的核心服务：</p>
<ul>
<li><strong><em>resource manager</em></strong> (资源管理器): 每个集群一个，管理集群上的资源使用</li>
<li><strong><em>node managers</em></strong>(节点管理器)：每个节点一个，启动和监视容器(container)<ul>
<li>容器用于执行特定应用程序的进行，每个容器都有资源限制(内存，CPU等) </li>
</ul>
</li>
</ul>
<p><img alt="How YARN Runs An Application" src="../figures/HowYARNRunsAnApplication.jpg" /></p>
<p>YARN是如何运行一个应用的：</p>
<ul>
<li>step1 : To run an application on YARN, a client contacts the <em>resource manager</em> and asks it to run an <strong><em>application master</em></strong> process.</li>
<li>steps 2a and 2b: The resource manager then finds a <em>node manager</em> that can launch the application master in a <em>container</em>. It could simply run a computation in the container it is running in and return the result to the client.</li>
<li>step 3: Or it could request more containers from the resource managers</li>
<li>steps 4a and 4b: use them to run a distributed computation.</li>
</ul>
<blockquote>
<p>The <code class="codehilite"><span class="n">ApplicationMaster</span></code> is an instance of a framework-specific library that negotiates resources from the <code class="codehilite"><span class="n">ResourceManager</span></code> and works with the <code class="codehilite"><span class="n">NodeManager</span></code> to execute and monitor the granted resources (bundled as containers) for a given application. The <code class="codehilite"><span class="n">ApplicationMaster</span></code> runs in a container like any other application.</p>
</blockquote>
<p>Application Master</p>
<ul>
<li>One per application</li>
<li>Framework/application specific</li>
<li>Run in a container</li>
</ul>
<h5 id="resource-requests">Resource Requests<a class="headerlink" href="#resource-requests" title="Permanent link">&para;</a></h5>
<p>A YARN application can make resource requests at any time while it is running. </p>
<ul>
<li>Spark starts a fixed number of executors on the cluster (i.e. make all of requests up front). </li>
<li>MapReduce, has two phases: the map task containers are requested up front, but the reduce task containers are not started until later. (i.e. take a more dynamic approach whereby it requests more resources dynamically to meet the changing needs of the application).</li>
</ul>
<h5 id="application-lifespan">Application Lifespan<a class="headerlink" href="#application-lifespan" title="Permanent link">&para;</a></h5>
<p>The lifespan of a YARN application can vary dramatically. Rather than look at how long the application runs for, it’s useful to categorize applications in terms of how they map to the jobs that users run. </p>
<ul>
<li>The simplest case is one application per user job, which is the approach that MapReduce takes.</li>
<li>The second model is to run one application per workflow or user session of (possibly unrelated) jobs, which is the approach that Spark takes. This approach can be more efficient than the first, since containers can be reused between jobs, and there is also the potential to cache intermediate data between jobs.</li>
<li>The third model is a long-running application that is shared by different users, which is the approach that Apache Slider takes.</li>
</ul>
<h5 id="building-yarn-applications">Building YARN Applications<a class="headerlink" href="#building-yarn-applications" title="Permanent link">&para;</a></h5>
<p>Writing a YARN application from scratch is fairly involved, but in many cases is not necessary, as it is often possible to use an existing application that fits the bill.</p>
<h4 id="yarn-compared-to-mapreduce-1">YARN Compared to MapReduce 1<a class="headerlink" href="#yarn-compared-to-mapreduce-1" title="Permanent link">&para;</a></h4>
<p>The distributed implementation of MapReduce in the original version of Hadoop is sometimes referred to as “MapReduce 1” to distinguish it from MapReduce 2, the implementation that uses YARN.</p>
<p>A comparison of MapReduce 1 and YARN components:</p>
<table>
<thead>
<tr>
<th>MapReduce1</th>
<th> YARN</th>
</tr>
</thead>
<tbody>
<tr>
<td>Jobtracker</td>
<td>Resource manager, application master, timeline server</td>
</tr>
<tr>
<td>TaskTracker</td>
<td>Node manager</td>
</tr>
<tr>
<td>Slot</td>
<td>Container</td>
</tr>
</tbody>
</table>
<p>The Timeline Server addresses the problem of the storage and retrieval of application’s current and historic information in a generic fashion.</p>
<h4 id="scheduling-in-yarn">Scheduling in YARN<a class="headerlink" href="#scheduling-in-yarn" title="Permanent link">&para;</a></h4>
<p>The job of the YARN scheduler to allocate resources to applications according to some defined policy. Scheduling in general is a difficult problem and there is <strong><em>no one "best" policy</em></strong>, which is why YARN provides a choice of schedulers and configurable policies.</p>
<h5 id="scheduler-options">Scheduler Options<a class="headerlink" href="#scheduler-options" title="Permanent link">&para;</a></h5>
<p>Three schedulers are available in YARN: the FIFO, Capacity, and Fair Schedulers.</p>
<ul>
<li>The FIFO: places applications in a queue and runs them in the order of submission (first in, first out)<ul>
<li>Not suitable for shared clusters, because large applications will use all the resources in a cluster, so each application has to wait its turn. </li>
</ul>
</li>
<li>Capacity Scheduler: a separate dedicated queue allows the small job to start as soon as it is submitted, since the queue capacity is reserved for jobs in that queue.</li>
<li>Fair Scheduler: dynamically balance resources between all running jobs, each job is using its fair share of resources.<ul>
<li>There is a lag between the time the second job starts and when it receives its fair share, since it has to wait for resources to free up as containers used by the first job complete. After the small job completes and no longer requires resources, the large job goes back to using the full cluster capacity again.</li>
</ul>
</li>
</ul>
<p><img alt="" src="../figures/YARNScheduler.jpg" /></p>
<h3 id="5-hadoop-io">5 Hadoop IO<a class="headerlink" href="#5-hadoop-io" title="Permanent link">&para;</a></h3>
<h4 id="_13">数据完整性<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h4>
<p>The usual way of detecting corrupted data is by computing a <em>checksum</em>(校验和) for the data when it first enters the system, and again whenever it is transmitted across a channel that is unreliable and hence capable of corrupting the data.</p>
<p>A commonly used error-detecting code is <strong>CRC-32</strong> (32-bit cyclic redundancy check, 32位循环冗余校验), which computes a 32-bit integer checksum for input of any size. CRC32 is used for checksumming in Hadoop's <C>checksumFileSystem</C>, while HDFS uses a more efficient variant called <strong>CRC-32C</strong>.</p>
<h5 id="data-integrity-in-hdfs">Data Integrity in HDFS<a class="headerlink" href="#data-integrity-in-hdfs" title="Permanent link">&para;</a></h5>
<p>HDFS transparently checksums all data written to it and by default verifies checksums when reading data. A separate checksum is created for every <C>ChecksumFileSystem.bytesPerChecksum</C>(default 512) bytes of data.</p>
<p>Datanodes are responsible for verifying the data they receive before storing the data and its checksum. When clients read data from datanodes, they verify checksums as well.</p>
<p>In addition to block verification on client reads, each datanode runs a <C>DataBlockScanner</C> in a background thread that <em>periodically</em> verifies all the blocks stored on the datanode.</p>
<p>You can find a file’s checksum with <C>hadoop fs -checksum</C>.</p>
<h5 id="localfilesystem">LocalFileSystem<a class="headerlink" href="#localfilesystem" title="Permanent link">&para;</a></h5>
<p>The Hadoop <C>LocalFileSystem</C> performs client-side checksumming. It is possible to disable checksums, by using <C>RawLocalFileSystem</C> in place of <C>LocalFileSystem</C>.</p>
<h5 id="checksumfilesystem">ChecksumFileSystem<a class="headerlink" href="#checksumfilesystem" title="Permanent link">&para;</a></h5>
<p><C>LocalFileSystem</C> extends <C>ChecksumFileSystem</C>, and <C>ChecksumFileSystem</C> is also a wrapper around <C>FileSystem</C> (uses <a href="../../../Java/Head First设计模式/3 Decorator Pattern/">decorator pattern</a> here). The general idiom is as follows:</p>
<div class="codehilite"><pre><span></span><span class="n">FileSystem</span> <span class="n">rawFs</span> <span class="o">=</span> <span class="o">...</span>
<span class="n">FileSystem</span> <span class="n">checksummedFs</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ChecksumFileSystem</span><span class="o">(</span><span class="n">rawFs</span><span class="o">);</span>
</pre></div>

<p><img alt="LocalFileSystemUML" src="../figures/LocalFileSystemUML.png" /></p>
<h4 id="_14">压缩<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h4>
<p>文件压缩有两大好处:</p>
<ul>
<li><strong>reduces the space</strong> needed to store files, </li>
<li><strong>speeds up data transfer</strong> across the network or to or from disk. </li>
</ul>
<p>When dealing with large volumes of data, both of these savings can be significant.</p>
<p>压缩格式总结:</p>
<table>
<thead>
<tr>
<th>压缩格式</th>
<th>工具</th>
<th>算法</th>
<th>文件扩展名</th>
<th>CompressionCodec</th>
<th>可切分?</th>
</tr>
</thead>
<tbody>
<tr>
<td>DEFLATE</td>
<td>N/A</td>
<td>DEFLATE</td>
<td>.deflate</td>
<td>DefaultCodec</td>
<td>No</td>
</tr>
<tr>
<td>gzip</td>
<td>gzip</td>
<td>DEFLATE</td>
<td>.gz</td>
<td>GzipCodec</td>
<td>No</td>
</tr>
<tr>
<td>bzip2</td>
<td>bzip2</td>
<td>bzip2</td>
<td>.bz2</td>
<td>BZip2Codec</td>
<td>Yes</td>
</tr>
<tr>
<td>LZO</td>
<td>lzop</td>
<td>LZO</td>
<td>.lzo</td>
<td>LzoCodec</td>
<td>No</td>
</tr>
<tr>
<td>Snappy</td>
<td>N/A</td>
<td>Snappy</td>
<td>.snappy</td>
<td>SnappyCodec</td>
<td>No</td>
</tr>
</tbody>
</table>
<p>All compression algorithm exhibit a space/time trade-off. The "Splittable" indicates whether the compression format supports splitting (that is, whether you can seek to any point in the stream and start reading from some point further on).  Splittable compression formats are especially suitable for MapReduce.</p>
<h5 id="codecs">Codecs<a class="headerlink" href="#codecs" title="Permanent link">&para;</a></h5>
<p>A <em>codec</em> is the implementation of a compression-decompression algorithm. In Hadoop, a codec is represented by an implementation of the <C>CompressionCodec</C> interface. So, for example, <C>GzipCodec</C> encapsulates the compression and decompression algorithm for gzip.</p>
<table>
<thead>
<tr>
<th>Compression format</th>
<th>Code</th>
</tr>
</thead>
<tbody>
<tr>
<td>DEFLATE</td>
<td><code class="codehilite"><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">hadoop</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">compress</span><span class="p">.</span><span class="n">DefaultCodec</span></code></td>
</tr>
<tr>
<td>gzip</td>
<td><code class="codehilite"><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">hadoop</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">compress</span><span class="p">.</span><span class="n">GzipCodec</span></code></td>
</tr>
<tr>
<td>bzip2</td>
<td><code class="codehilite"><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">hadoop</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">compress</span><span class="p">.</span><span class="n">BZip2Codec</span></code></td>
</tr>
<tr>
<td>LZO</td>
<td><code class="codehilite"><span class="n">com</span><span class="p">.</span><span class="n">hadoop</span><span class="p">.</span><span class="n">compression</span><span class="p">.</span><span class="n">lzo</span><span class="p">.</span><span class="n">LzopCodec</span></code></td>
</tr>
<tr>
<td>LZ4</td>
<td><code class="codehilite"><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">hadoop</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">compress</span><span class="p">.</span><span class="n">Lz4Codec</span></code></td>
</tr>
<tr>
<td>Snappy</td>
<td><code class="codehilite"><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">hadoop</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">compress</span><span class="p">.</span><span class="n">SnappyCodec</span></code></td>
</tr>
</tbody>
</table>
<!--<hh>Compressing and decompressing streams with CompressionCodec</hh>

Interface<C>CompressionCodec</C> has two methods that allow you to easily compress or decompress data. 

* To compress data being written to an output stream, use the <C>createOutputStream(OutputStream out)</C> method to create a <C>CompressionOutputStream</C>
* Conversely, to decompress data being read from an input stream, call <C>createInputStream(InputStream in)</C> to obtain a <C>CompressionInputStream</C>.


!!! example 

    该程序压缩从标准输入读取的数据，然后将其写入到标准输出

    <div class="codehilite"><pre><span></span><span class="c1">//echo &quot;Text&quot; | hadoop StreamCompressor org.apache.hadoop.io.compress.GzipCodec | gunzip </span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">StreamCompressor</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">codecClassname</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
        <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">codecClass</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="n">codecClassname</span><span class="o">);</span>
        <span class="n">Configuration</span> <span class="n">conf</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Configuration</span><span class="o">();</span>
        <span class="n">CompressionCodec</span> <span class="n">codec</span> <span class="o">=</span> <span class="o">(</span><span class="n">CompressionCodec</span><span class="o">)</span>
                <span class="n">ReflectionUtils</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="n">codecClass</span><span class="o">,</span> <span class="n">conf</span><span class="o">);</span>

        <span class="n">CompressionOutputStream</span> <span class="n">out</span> <span class="o">=</span> <span class="n">codec</span><span class="o">.</span><span class="na">createOutputStream</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">);</span>
        <span class="n">IOUtils</span><span class="o">.</span><span class="na">copyBytes</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">in</span><span class="o">,</span> <span class="n">out</span><span class="o">,</span> <span class="mi">4096</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">finish</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<hh>Inferring CompressionCodecs using CompressionCodecFactory</hh>

<C>CompressionCodecFactory</C> provides a way of mapping a filename extension to a <C>CompressionCodec</C> using its <C>getCodec()</C> method, <C>CodecPool</C>.

If you are using a native library and you are doing a lot of compression or decompression in your application, consider using <C>CodecPool</C>, which allows you to reuse compressors and decompressors, thereby amortizing the cost of creating these objects.-->

<h5 id="_15">压缩和输入分片<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h5>
<p>压缩格式支持切分(splitting)对于MapReduce处理数据是十分重要的。如果支持切分，一个占据多个HDFS块的大文件可以创建多个输入分片，每个分片作为一个单独的map任务的输入被独立处理；如果不支持切分，只能将整个文件作为一个分片。</p>
<div class="admonition note">
<p class="admonition-title">应该使用哪种压缩格式</p>
<p>Hadoop处理的数据集非常大，需要借助于压缩，下面是使用压缩文件的优先级：</p>
<ol>
<li>使用容器文件格式，例如SequenceFile, Avroo, ORCFile, Parquet。这些文件格式同时支持压缩和切分。通常最好与一个快速压缩工具联合使用，例如LZO，LZ4或者Snappy</li>
<li>使用支持切分的压缩格式，例如bzip2</li>
</ol>
</div>
<h5 id="mapreduce">在MapReduce中使用压缩<a class="headerlink" href="#mapreduce" title="Permanent link">&para;</a></h5>
<p>MapReduce会根据文件扩展名推断出相应的codec，在读取文件时自动解压缩文件。要想压缩输出，可以通过配置文件统一配置。</p>
<!--
<superfences><input name="__tabs_%(index)s" type="radio" id="__tab_%(index)s_%(tab_index)s" %(state)s/>
<label for="__tab_%(index)s_%(tab_index)s">core-site.xml</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><span class="nt">&lt;property&gt;</span>
    <span class="nt">&lt;name&gt;</span>io.compression.codecs<span class="nt">&lt;/name&gt;</span>
    <span class="nt">&lt;value&gt;</span>
        org.apache.hadoop.io.compress.BZip2Codec,
        org.apache.hadoop.io.compress.DefaultCodec,
        org.apache.hadoop.io.compress.GzipCodec
    <span class="nt">&lt;/value&gt;</span>
<span class="nt">&lt;/property&gt;</span>
</pre></div></div></superfences>
-->

<div class="superfences-tabs">
<input name="__tabs_2" type="radio" id="__tab_2_0" checked="checked" />
<label for="__tab_2_0">mapred-site.xml</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><span class="nt">&lt;property&gt;</span>
    <span class="nt">&lt;name&gt;</span>mapreduce.output.fileoutputformat.compress<span class="nt">&lt;/name&gt;</span>
    <span class="nt">&lt;value&gt;</span>true<span class="nt">&lt;/value&gt;</span>
<span class="nt">&lt;/property&gt;</span>
<span class="nt">&lt;property&gt;</span>
    <span class="nt">&lt;name&gt;</span>mapreduce.output.fileoutputformat.compress.codec<span class="nt">&lt;/name&gt;</span>
    <span class="nt">&lt;value&gt;</span>org.apache.hadoop.io.compress.BZip2Codec<span class="nt">&lt;/value&gt;</span>
<span class="nt">&lt;/property&gt;</span>
</pre></div></div>
</div>
<p>也可以在程序中的<code class="codehilite"><span class="n">FileOutputFormat</span></code>中单独指定。</p>
<div class="codehilite"><pre><span></span><span class="n">FileOutputFormat</span><span class="o">.</span><span class="na">setCompressOutput</span><span class="o">(</span><span class="n">job</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
<span class="n">FileOutputFormat</span><span class="o">.</span><span class="na">setOutputCompressorClass</span><span class="o">(</span><span class="n">job</span><span class="o">,</span> <span class="n">GzipCodec</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</pre></div>

<p><img alt="mapreduce_compression" src="../figures/mapreduce_compression.png" /></p>
<p>推荐在MapReduce的不同阶段使用不同的压缩格式。</p>
<ul>
<li>输出格式：bzip2(高压缩比并且支持分片)</li>
<li>中间结果：snappy(快速压缩解压)</li>
</ul>
<h4 id="_16">序列化<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h4>
<p>See concepts of serialization and deserialization in <a href="../../../Java/Head First Java/14 Serialization and File IO/">Serialization and File IO</a> .</p>
<p><em>Serialization</em> is the process of turning structured objects into a byte stream for transmission over a network or for writing to persistent storage. <em>Deserialization</em> is the reverse process of turning a byte stream back into a series of structured objects.</p>
<p>Serialization is used in two quite distinct areas of distributed data processing: for <strong>interprocess communication</strong> and for <strong>persistent storage</strong>.</p>
<p>In Hadoop, interprocess communication between nodes in the system is implemented using remote procedure calls (RPCs). The RPC protocol uses serialization to render the message into a binary stream to be sent to the remote node, which then deserializes the binary stream into the original message. In general, four desirable properties are crucial for an RPC serialization and persistent storage:</p>
<table>
<thead>
<tr>
<th>Properties</th>
<th>PRC Serialization</th>
<th>Persistent Storage</th>
</tr>
</thead>
<tbody>
<tr>
<td>Compact</td>
<td>makes the best use of network bandwidth</td>
<td>make efficient use of storage space</td>
</tr>
<tr>
<td>Fast</td>
<td>little performance overhead</td>
<td>little overhead in reading or writing</td>
</tr>
<tr>
<td>Extensible</td>
<td>meet new requirements</td>
<td>transparently read data of older formats</td>
</tr>
<tr>
<td>Interoperable</td>
<td>support clients written in different languages</td>
<td>read/write using different languages</td>
</tr>
</tbody>
</table>
<p>Hadoop uses its own serialization format, <C>Writables</C>, which is certainly compact and fast, but not so easy to extend or use from languages other than Java. Apache <a href="12 Avro.md">Avro</a> is a language-neutral data serialization system.</p>
<h5 id="the-writable-interface">The Writable Interface<a class="headerlink" href="#the-writable-interface" title="Permanent link">&para;</a></h5>
<p>The <C>Writable</C> interface defines two methods:</p>
<ul>
<li><C>write</C>: writing its state to a <C>DataOutput</C> binary stream.</li>
<li><C>readFields</C>: reading its state from a <C>DataInput</C> binary stream.</li>
</ul>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Writable</span> <span class="o">{</span> 
    <span class="kt">void</span> <span class="nf">write</span><span class="o">(</span><span class="n">DataOutput</span> <span class="n">out</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span><span class="o">;</span> 
    <span class="kt">void</span> <span class="nf">readFields</span><span class="o">(</span><span class="n">DataInput</span> <span class="n">in</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span><span class="o">;</span> 
<span class="o">}</span>
</pre></div>

<h6 id="writablecomparablecomparator">WritableComparable接口和comparator<a class="headerlink" href="#writablecomparablecomparator" title="Permanent link">&para;</a></h6>
<p><code class="codehilite"><span class="n">WritableComparable</span></code>接口继承自<code class="codehilite"><span class="n">Writable</span></code>和<code class="codehilite"><span class="n">Comparable</span></code>接口：</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">WritableComparable</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="n">Writable</span><span class="o">,</span> <span class="n">Comparable</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">{</span>
<span class="o">}</span>
</pre></div>

<p><code class="codehilite"><span class="n">RawComparator</span></code>继承自Java的<code class="codehilite"><span class="n">Comparator</span></code>接口：</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">RawComparator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="kt">byte</span><span class="o">[]</span> <span class="n">b1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">s1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">l1</span><span class="o">,</span> <span class="kt">byte</span><span class="o">[]</span> <span class="n">b2</span><span class="o">,</span> <span class="kt">int</span> <span class="n">s2</span><span class="o">,</span> <span class="kt">int</span> <span class="n">l2</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>

<p>该接口允许其实现直接比较数据流中的记录，无需先把数据流反序列化为对象，这样便避免了新建对象的额外开销。</p>
<p><code class="codehilite"><span class="n">WritableComparator</span></code>是对<code class="codehilite"><span class="n">RawComparator</span></code>类的一个通用实现。</p>
<h5 id="writable">Writable类<a class="headerlink" href="#writable" title="Permanent link">&para;</a></h5>
<h6 id="writable-wrappers-for-java-primitives">Writable wrappers for Java primitives<a class="headerlink" href="#writable-wrappers-for-java-primitives" title="Permanent link">&para;</a></h6>
<p>There are <C>Writable</C> wrappers for all the Java primitive types except <C>char</C> (which can be stored in an <C>IntWritable</C>). All have a <C>get()</C> and <C>set()</C> method for retrieving and storing the wrapped value.</p>
<p><img alt="" src="../figures/WritableClassHierarchy.jpg" /></p>
<p>When it comes to encoding integers, there is a choice between the fixed-length formats (<C>IntWritable</C> and <C>LongWritable</C>) and the variable-length formats (<C>VIntWritable</C> and <C>VLongWritable</C>). Fixed-length encodings are good when the distribution of values is fairly uniform across the whole value space, such as when using a (well-designed) hash function. Most numeric variables tend to have nonuniform distributions, though, and on average, the variable-length encoding will save space.</p>
<h6 id="text">Text<a class="headerlink" href="#text" title="Permanent link">&para;</a></h6>
<p><C>Text</C> is a Writable for UTF-8 sequences. It can be thought of as the Writable equivalent of <C>java.lang.String</C>.</p>
<p>Indexing for the <C>Text</C> class is in terms of position in the encoded byte sequence, not the Unicode character in the string or the Java <C>char</C> code unit (as it is for <C>String</C>). For ASCII strings, these three concepts of index position coincide.</p>
<p>Another difference from <C>String</C> is that <C>Text</C> is mutable. You can reuse a <C>Text</C> instance by calling one of the <C>set()</C> methods on it.</p>
<div class="codehilite"><pre><span></span><span class="n">Text</span> <span class="n">t</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Text</span><span class="o">(</span><span class="s">&quot;hadoop&quot;</span><span class="o">);</span> <span class="n">t</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">&quot;pig&quot;</span><span class="o">);</span>
</pre></div>

<p><C>Text</C> doesn’t have as rich an API for manipulating <C>java.lang.String</C>, so in many cases, you need to convert the <C>Text</C> object to a <C>String</C>: <code class="codehilite"><span class="k">new</span> <span class="n">Text</span><span class="o">(</span><span class="s">&quot;hadoop&quot;</span><span class="o">).</span><span class="na">toString</span><span class="o">()</span></code></p>
<h6 id="byteswritable">BytesWritable<a class="headerlink" href="#byteswritable" title="Permanent link">&para;</a></h6>
<p><code class="codehilite"><span class="n">BytesWritable</span></code> is a wrapper for an array of binary data.</p>
<h6 id="nullwritable">NullWritable<a class="headerlink" href="#nullwritable" title="Permanent link">&para;</a></h6>
<p><code class="codehilite"><span class="n">NullWritable</span></code> is a special type of <code class="codehilite"><span class="n">Writable</span></code>, as it has a zero-length serialization. No bytes are written to or read from the stream. It is used as a placeholder;</p>
<h5 id="writable_1">实现自定义Writable<a class="headerlink" href="#writable_1" title="Permanent link">&para;</a></h5>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you are considering writing a custom <C>Writable</C>, it may be worth trying another serialization framework, like Avro, that allows you to define custom types declaratively.</p>
</div>
<h5 id="serialization-frameworks">Serialization Frameworks<a class="headerlink" href="#serialization-frameworks" title="Permanent link">&para;</a></h5>
<p>Any type can be used to serialize, because Hadoop has an API for pluggable serialization frameworks, which is represented by an implementation of <C>Serialization</C>. For instance, <C>WritableSerialization</C>, is the implementation of <C>Serialization</C> for <C>Writable</C> types; <C>AvroSerialization</C>, is the implementation of <C>Serialization</C> for <C>Avro</C> types.</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">WritableSerialization</span> <span class="kd">extends</span> <span class="n">Configured</span>
    <span class="kd">implements</span> <span class="n">Serialization</span><span class="o">&lt;</span><span class="n">Writable</span><span class="o">&gt;</span>
<span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">AvroSerialization</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="n">Configured</span> 
    <span class="kd">implements</span> <span class="n">Serialization</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span>
</pre></div>

<p>A <C>Serialization</C> defines a mapping from types to <C>Serializer</C> instances (for turning an object into a byte stream) and <C>Deserializer</C> instances (for turning a byte stream into an object).</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Serialization</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="c1">// Allows clients to test whether this  Serialization</span>
  <span class="c1">// supports the given class.</span>
  <span class="kt">boolean</span> <span class="nf">accept</span><span class="o">(</span><span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">c</span><span class="o">);</span>
  <span class="c1">// @return a {@link Serializer} for the given class.</span>
  <span class="n">Serializer</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="nf">getSerializer</span><span class="o">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">c</span><span class="o">);</span>
  <span class="c1">//return a {@link Deserializer} for the given class.</span>
  <span class="n">Deserializer</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="nf">getDeserializer</span><span class="o">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">c</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Although it makes it convenient to be able to use standard Java types such as <C>Integer</C> or <C>String</C> in <C>MapReduce</C> programs, Java Object Serialization is not as efficient as <C>Writables</C>, so it’s not worth making this trade-off.</p>
</div>
<p><hh>Serialization IDL</hh></p>
<p>Apache Thrift and Google Protocol Buffers are both popular serialization frameworks, and both are commonly used as a format for persistent binary data. Avro is an IDL-based serialization framework designed to work well with large-scale data processing in Hadoop.</p>
<h4 id="file-based-data-structures">File-Based Data Structures<a class="headerlink" href="#file-based-data-structures" title="Permanent link">&para;</a></h4>
<p>For some applications, you need a specialized data structure to hold your data. For doing MapReduce-based processing, putting each blob of binary data into its own file doesn’t scale, so Hadoop developed a number of higher-level containers for these situations.</p>
<h5 id="sequencefile">SequenceFile<a class="headerlink" href="#sequencefile" title="Permanent link">&para;</a></h5>
<p>Hadoop’s <C>SequenceFile</C> provides a persistent data structure for binary key-value pairs. It is suitable for a log file, where each log record is a new line of text. To use it as a logfile format, you would choose a key, such as timestamp represented by a <C>LongWritable</C>, and the value would be a <C>Writable</C> that represents the quantity being logged.</p>
<p><hh>Writing a SequenceFile</hh></p>
<p>To create a <C>SequenceFile</C>, use one of its <C>createWriter()</C> static methods, which return a <C>SequenceFile.Writer</C> instance. Then write key-value pairs using the <C>append()</C> method. When you’ve finished, you call the <C>close()</C> method.</p>
<p><hh>Displaying a SequenceFile with the command-line interface</hh></p>
<p>The hadoop <C>fs</C> command has a <C>-text</C> option to display sequence files in textual form.</p>
<div class="codehilite"><pre><span></span><span class="o">%</span> <span class="n">hadoop</span> <span class="n">fs</span> <span class="o">-</span><span class="n">text</span> <span class="n">numbers</span><span class="o">.</span><span class="na">seq</span> <span class="o">|</span> <span class="n">head</span>
</pre></div>

<p><hh>The SequenceFile format</hh></p>
<p>A <strong>sequence file</strong>(顺序文件) consists of a header followed by one or more records. The <strong>sync marker</strong>(同步标识) is used to allow a reader synchronize to a record boundary from any position in the file, which incurs less than a 1% storage overhead.</p>
<p><img alt="" src="../figures/TheInternalStructureOfSequenceFile.jpg" /></p>
<p>The internal format of the records depends on whether compression is enabled, and if it is, whether it is <strong>record compression</strong>(记录压缩) or <strong>block compression</strong>(块压缩).</p>
<p>The format for record compression is almost identical to that for no compression, except the value bytes are compressed using the codec defined in the header. Note that keys are not compressed.</p>
<p><img alt="The Internal Structure Of A Sequence File With Block Compression" src="../figures/TheInternalStructureOfASequenceFileWithBlockCompression.jpg" /></p>
<p>Block compression compresses multiple records at once; it is therefore more compact than and should generally be preferred over record compression because it has the opportunity to take advantage of similarities between records. A sync marker is written before the start of every block. The format of a block is a field indicating the number of records in the block, followed by four compressed fields: the key lengths, the keys, the value lengths, and the values.</p>
<h5 id="mapfile">MapFile<a class="headerlink" href="#mapfile" title="Permanent link">&para;</a></h5>
<p>A <C>MapFile</C> is a sorted <C>SequenceFile</C> with an index to permit lookups by key. The index is itself a <C>SequenceFile</C> that contains a fraction of the keys in the map.</p>
<h3 id="6-hadoop-ha">6 Hadoop HA<a class="headerlink" href="#6-hadoop-ha" title="Permanent link">&para;</a></h3>
<h4 id="namenode">namenode目录结构<a class="headerlink" href="#namenode" title="Permanent link">&para;</a></h4>
<p>一个运行中的namenode有如下的目录结构</p>
<p><img alt="namenode_directory_structure" src="../figures/namenode_directory_structure.png" /></p>
<h5 id="version">VERSION<a class="headerlink" href="#version" title="Permanent link">&para;</a></h5>
<p>VERSION 文件是一个Java属性文件，该文件一般包含以下内容：</p>
<div class="codehilite"><pre><span></span><span class="o">#</span><span class="n">Mon</span> <span class="n">Sep</span> <span class="mi">29</span> <span class="mi">09</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">36</span> <span class="n">BST</span> <span class="mi">2014</span> 
<span class="n">namespaceID</span><span class="o">=</span><span class="mi">1342387246</span> 
<span class="n">clusterID</span><span class="o">=</span><span class="n">CID</span><span class="o">-</span><span class="mi">01</span><span class="n">b5c398</span><span class="o">-</span><span class="mi">959</span><span class="k">c</span><span class="o">-</span><span class="mi">4</span><span class="n">ea8</span><span class="o">-</span><span class="n">aae6</span><span class="o">-</span><span class="mi">1</span><span class="n">e0d9bd8b142</span> 
<span class="n">cTime</span><span class="o">=</span><span class="mi">0</span> 
<span class="n">storageType</span><span class="o">=</span><span class="n">NAME_NODE</span> 
<span class="n">blockpoolID</span><span class="o">=</span><span class="n">BP</span><span class="o">-</span><span class="mi">526805057</span><span class="o">-</span><span class="mi">127</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="o">-</span><span class="mi">1411980876842</span> 
<span class="n">layoutVersion</span><span class="o">=-</span><span class="mi">57</span>
</pre></div>


<h5 id="_17">编辑日志<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h5>
<p>编辑日志为以<em>edits</em>为前缀、以事务ID为后缀的多个文件。任一时刻只有一个文件处于打开可写状态(文件名包含<em>inprogress</em>)。</p>
<p><code class="codehilite"><span class="n">seen_txid</span></code>文件中记录的是edits滚动的序号，每次重启namenode时，namenode就知道要将哪些<em>edits</em>进行加载。 </p>
<p><code class="codehilite"><span class="n">in_use</span><span class="p">.</span><span class="k">lock</span></code>文件是一个锁文件，可以避免其他namenode实例同时使用同一个存储目录。</p>
<p><img alt="" src="../figures/checkpointing.png" /></p>
<h5 id="fsimage">fsimage<a class="headerlink" href="#fsimage" title="Permanent link">&para;</a></h5>
<p>每个<code class="codehilite"><span class="n">fsimage</span></code>文件都是文件系统元数据的一个完整的永久性检查点，包含文件系统中的所有目录和文件inode的序列化信息。每个inode时一个文件或目录的元数据的内部描述方式。</p>
<blockquote>
<p><strong>Checkpointing</strong>(检查点) is basically a process which involves merging the <code class="codehilite"><span class="n">fsimage</span></code> along with the latest edit log(编辑日志) and creating a new <code class="codehilite"><span class="n">fsimage</span></code> for the namenode to possess the latest configured metadata of HDFS namespace.</p>
</blockquote>
<p><img alt="" src="../figures/the_checkpointing_process.jpg" /></p>
<p>Hadoop会运行secondary namenode为主namenode内存中的文件系统元数据创建检查点：</p>
<ul>
<li>secondary namenode请求primary namenode停止使用正在进行中的<em>edits</em>文件，新的编辑操作将记录到新的<em>edits</em>文件中。并更新<em>seen_txid</em>文件。</li>
<li>secondary namenode从primary namenode获取最近的<em>fsimage</em>和<em>edits</em>文件。</li>
<li>secondary namenode将<em>fsimage</em>文件载入内存，逐一执行<em>edits</em>文件中的事务，创建新的合并后的<em>fsimage</em>文件。</li>
<li>secondary namenode将新的<em>fsimage</em>文件发送回primary namenode, primary namenode将其保存为临时的<em>.ckpt</em>文件。</li>
<li>primary namenode重新命名临时的<em>fsimage</em>文件，以便日后使用。</li>
</ul>
<h4 id="datanode">datanode目录结构<a class="headerlink" href="#datanode" title="Permanent link">&para;</a></h4>
<p>datanode的存储目录是初始阶段自动创建的，不需要额外格式化。datanode的关键文件和目录如下：</p>
<p><img alt="datanode_directory_structure" src="../figures/datanode_directory_structure.png" /></p>
<p>HDFS块存储在以<em>blk_</em>为前缀的文件中。每个块由一个相关的带有<em>.meta</em>后缀的元数据文件。元数据文件包括版本、类型信息和校验和。每个块属于一个数据块池(block pool), 每个数据块池都有自己的存储目录，目录根据数据块池ID形成(和namenode的VERSION文件中的数据块池ID相同)。</p>
<h4 id="_18">安全模式<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h4>
<p>当namenode启动时，首先将<em>fsimage</em>文件载入内存，并执行<em>edits</em>文件中的操作。一旦在内存中成功建立文件系统元数据的映像，则创建一个新的<em>fsimage</em>文件(该操作不需要借助secondary namenode)和一个空的<em>edits</em>文件。在这个过程中，namenode运行在<strong>安全模式</strong>(safe mode)：namenode的文件系统对于客户端来说是只读的。</p>
<h4 id="_19">高可用<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="n">hadoop2</span><span class="p">.</span><span class="mi">0</span><span class="err">官方提供了两种</span><span class="n">HDFS</span> <span class="n">HA的解决方案</span><span class="err">，一种是</span><span class="n">NFS</span><span class="err">，另一种是</span><span class="n">QJM</span><span class="err">。这里我们使用简单的</span><span class="n">QJM</span><span class="err">。在该方案中，主备</span><span class="n">NameNode之间通过一组JournalNode同步元数据信息</span><span class="err">，一条数据只要成功写入多数</span><span class="n">JournalNode即认为写入成功</span><span class="err">。通常配置奇数个</span><span class="n">JournalNode</span>

    <span class="mi">2</span><span class="p">.</span><span class="n">hadoop</span><span class="o">-</span><span class="mi">2</span><span class="p">.</span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="err">中依然存在一个问题，就是</span><span class="n">ResourceManager只有一个</span><span class="err">，存在单点故障，</span><span class="n">hadoop</span><span class="o">-</span><span class="mi">2</span><span class="p">.</span><span class="mi">6</span><span class="p">.</span><span class="mi">4</span><span class="err">解决了这个问题，有两个</span><span class="n">ResourceManager</span><span class="err">，一个是</span><span class="n">Active</span><span class="err">，一个是</span><span class="n">Standby</span><span class="err">，状态由</span><span class="n">zookeeper进行协调</span>
</pre></div>


<p><img alt="hdfs-ha" src="../figures/hdfs-ha.png" /></p>
<ol>
<li><strong>Active NameNode 和 Standby NameNode</strong>：多个NameNode中只有一个处于Active状态，其他的处在Standby状态。其中ActiveNameNode负责集群中的所有客户端操作，StandbyNameNode仅仅充当备机，保证一旦ActiveNameNode出现问题能够快速切换。</li>
<li><strong>ZKFailoverController（主备切换控制器，ZKFC）</strong>：一个ZooKeeper客户端，负责监视和观测NameNode的状态。每一个运行NameNode的机器也运行一个ZKFC。</li>
<li><strong>JournalNode</strong>: Standby NameNode和Active NameNode通过JournalNode进行元数据信息(edit log)同步。Active Namenode将数据写入JournalNode，而Standby监听该系统，一旦发现有新数据写入，则读取这些数据，并加载到自己内存中，以保证自己内存状态与 ActiveNameNode保持基本一致。</li>
<li><strong>Zookeeper 集群</strong>：Active NameNode选举。</li>
<li><strong>共享存储系统</strong>：共享存储系统是实现 NameNode 的高可用最为关键的部分，共享存储系统保存了 NameNode 在运行过程中所产生的 HDFS 的元数据。主 NameNode 和备 NameNode 通过共享存储系统实现元数据同步。在进行主备切换的时候，新的主 NameNode 在<strong>确认元数据完全同步之后才能继续对外提供服务</strong>。</li>
<li><strong>DataNode 节点</strong>：为了使故障切换能够快速进行，DataNode会同时向Active NameNode 和Standby NameNode发送数据块的位置信息。</li>
</ol>
<h4 id="hadoop_1">管理Hadoop<a class="headerlink" href="#hadoop_1" title="Permanent link">&para;</a></h4>
<ul>
<li>hdfs dfsadmin -report  查看hdfs的各节点状态信息</li>
<li>hdfs haadmin -getServiceState nn1 获取一个namenode节点的HA状态</li>
</ul>
<h3 id="_20">附录<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<h4 id="_21">安装配置<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h4>
<p>集群规划</p>
<table>
<thead>
<tr>
<th>主机名</th>
<th>运行的进程</th>
</tr>
</thead>
<tbody>
<tr>
<td>centos1</td>
<td>NameNode, ResourceManager, DFSZKFailoverController(zkfc), QuorumPeerMain</td>
</tr>
<tr>
<td>centos2</td>
<td>NameNode, ResourceManager, DFSZKFailoverController(zkfc), QuorumPeerMain</td>
</tr>
<tr>
<td>centos3</td>
<td>DataNode, NodeManager, JournalNode, QuorumPeerMain</td>
</tr>
<tr>
<td>centos3</td>
<td>DataNode, NodeManager, JournalNode</td>
</tr>
</tbody>
</table>
<p>配置文件：</p>
<table>
<thead>
<tr>
<th>配置文件名</th>
<th>配置对象</th>
<th>主要内容</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite"><span class="n">hadoop</span><span class="o">-</span><span class="n">env</span><span class="p">.</span><span class="n">sh</span></code></td>
<td>hadoop运行环境</td>
<td>配置JAVA_HOME环境变量、为hadoop的JVM指定特定的选项、指定日志文件所在的目录路径以及master和slave文件的位置</td>
</tr>
<tr>
<td><code class="codehilite"><span class="n">core</span><span class="o">-</span><span class="n">site</span><span class="p">.</span><span class="n">xml</span></code></td>
<td>集群全局参数</td>
<td>用于定义系统级别的参数，如HDFS URL 、Hadoop的临时目录等</td>
</tr>
<tr>
<td><code class="codehilite"><span class="n">hdfs</span><span class="o">-</span><span class="n">site</span><span class="p">.</span><span class="n">xml</span></code></td>
<td>HDFS</td>
<td>如namenode和datanode的存放位置、文件副本的个数、文件的读取权限等</td>
</tr>
<tr>
<td><code class="codehilite"><span class="n">mapred</span><span class="o">-</span><span class="n">site</span><span class="p">.</span><span class="n">xml</span></code></td>
<td>Mapreduce参数</td>
<td>如reduce任务的默认个数、任务所能够使用内存的默认上下限等</td>
</tr>
<tr>
<td><code class="codehilite"><span class="n">yarn</span><span class="o">-</span><span class="n">site</span><span class="p">.</span><span class="n">xml</span></code></td>
<td>集群资源管理系统参数</td>
<td>配置ResourceManager，nodeManager的通信端口，web监控端口等</td>
</tr>
</tbody>
</table>
<div class="superfences-tabs">
<input name="__tabs_3" type="radio" id="__tab_3_0" checked="checked" />
<label for="__tab_3_0">core-site.xml</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><span class="nt">&lt;configuration&gt;</span>
  <span class="nt">&lt;property&gt;</span>
   <span class="nt">&lt;name&gt;</span>fs.defaultFS<span class="nt">&lt;/name&gt;</span>
   <span class="nt">&lt;value&gt;</span>hdfs://bi/<span class="nt">&lt;/value&gt;</span>
 <span class="nt">&lt;/property&gt;</span>
 <span class="nt">&lt;property&gt;</span>
   <span class="nt">&lt;name&gt;</span>hadoop.tmp.dir<span class="nt">&lt;/name&gt;</span>
   <span class="nt">&lt;value&gt;</span>/home/larry/hadoopHA/tmp<span class="nt">&lt;/value&gt;</span>
 <span class="nt">&lt;/property&gt;</span>
 <span class="nt">&lt;property&gt;</span>
   <span class="nt">&lt;name&gt;</span>ha.zookeeper.quorum<span class="nt">&lt;/name&gt;</span>
   <span class="nt">&lt;value&gt;</span>centos1:2181,centos2:2181,centos3:2181<span class="nt">&lt;/value&gt;</span>
 <span class="nt">&lt;/property&gt;</span>
 <span class="nt">&lt;property&gt;</span>
   <span class="nt">&lt;name&gt;</span>hadoop.proxyuser.root.hosts<span class="nt">&lt;/name&gt;</span>
   <span class="nt">&lt;value&gt;</span>*<span class="nt">&lt;/value&gt;</span>
 <span class="nt">&lt;/property&gt;</span>
 <span class="nt">&lt;property&gt;</span>
  <span class="nt">&lt;name&gt;</span>hadoop.proxyuser.root.groups<span class="nt">&lt;/name&gt;</span>
  <span class="nt">&lt;value&gt;</span>*<span class="nt">&lt;/value&gt;</span>
<span class="nt">&lt;/property&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</pre></div></div>
<input name="__tabs_3" type="radio" id="__tab_3_1" />
<label for="__tab_3_1">hdfs-site.xml</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><span class="nt">&lt;configuration&gt;</span>

    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>dfs.replication<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>2<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>dfs.permissions<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>false<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>dfs.webhdfs.enabled<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>true<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="c">&lt;!--指定hdfs的nameservice为bi，需要和core-site.xml中的保持一致 --&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>dfs.nameservices<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>bi<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="c">&lt;!-- bi下面有两个NameNode，分别是nn1，nn2 --&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>dfs.ha.namenodes.bi<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>nn1,nn2<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="c">&lt;!-- nn1的RPC通信地址 --&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>dfs.namenode.rpc-address.bi.nn1<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>centos1:9000<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="c">&lt;!-- nn1的http通信地址 --&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>dfs.namenode.http-address.bi.nn1<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>centos1:50070<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="c">&lt;!-- nn2的RPC通信地址 --&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>dfs.namenode.rpc-address.bi.nn2<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>centos2:9000<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="c">&lt;!-- nn2的http通信地址 --&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>dfs.namenode.http-address.bi.nn2<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>centos2:50070<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="c">&lt;!-- 指定NameNode的edits元数据在JournalNode上的存放位置 --&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>dfs.namenode.shared.edits.dir<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>qjournal://centos3:8485;centos4:8485/bi<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="c">&lt;!-- 指定JournalNode在本地磁盘存放数据的位置 --&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>dfs.journalnode.edits.dir<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>/home/larry/hadoopHA/journaldata<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="c">&lt;!-- 开启NameNode失败自动切换 --&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>dfs.ha.automatic-failover.enabled<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>true<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="c">&lt;!-- 配置失败自动切换实现方式 --&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>dfs.client.failover.proxy.provider.bi<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="c">&lt;!-- 配置隔离机制方法，多个机制用换行分割，即每个机制暂用一行--&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>dfs.ha.fencing.methods<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>
            sshfence
            shell(/bin/true)
        <span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="c">&lt;!-- 使用sshfence隔离机制时需要ssh免登陆 --&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>dfs.ha.fencing.ssh.private-key-files<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>/home/larry/.ssh/id_rsa<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="c">&lt;!-- 配置sshfence隔离机制超时时间 --&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>dfs.ha.fencing.ssh.connect-timeout<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>30000<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>

<span class="nt">&lt;/configuration&gt;</span>
</pre></div></div>
<input name="__tabs_3" type="radio" id="__tab_3_2" />
<label for="__tab_3_2">yarn-site.xml</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><span class="nt">&lt;configuration&gt;</span>
    <span class="c">&lt;!-- 开启RM高可用 --&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>yarn.resourcemanager.ha.enabled<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>true<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="c">&lt;!-- 指定RM的cluster id --&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>yarn.resourcemanager.cluster-id<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>yrc<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="c">&lt;!-- 指定RM的名字 --&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>yarn.resourcemanager.ha.rm-ids<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>rm1,rm2<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="c">&lt;!-- 分别指定RM的地址 --&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>yarn.resourcemanager.hostname.rm1<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>centos1<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>yarn.resourcemanager.hostname.rm2<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>centos2<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="c">&lt;!-- 指定zk集群地址 --&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>yarn.resourcemanager.zk-address<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>centos1:2181,centos2:2181,centos3:2181<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
    <span class="nt">&lt;property&gt;</span>
        <span class="nt">&lt;name&gt;</span>yarn.nodemanager.aux-services<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;value&gt;</span>mapreduce_shuffle<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</pre></div></div>
<input name="__tabs_3" type="radio" id="__tab_3_3" />
<label for="__tab_3_3">slaves</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><span class="c">&lt;!--datanode和nodemanager的位置--&gt;</span>
centos3
centos4
</pre></div></div>
</div>
<p>启动流程</p>
<ol>
<li>在centos1, centos2, centos3上启动Zookpeeper： <code class="codehilite"><span class="n">zkServer</span><span class="p">.</span><span class="n">sh</span> <span class="k">start</span></code></li>
<li>在centos3, centos4上启动JournalNode: <code class="codehilite"><span class="n">hadoop</span><span class="o">-</span><span class="n">daemon</span><span class="p">.</span><span class="n">sh</span> <span class="k">start</span> <span class="n">journalnode</span></code></li>
<li>在centos1上格式化hdfs: <code class="codehilite"><span class="n">hdfs</span> <span class="n">namenode</span> <span class="o">-</span><span class="n">format</span></code></li>
<li>将格式化后的<code class="codehilite"><span class="n">hadoop</span><span class="p">.</span><span class="n">tmp</span><span class="p">.</span><span class="n">dir</span></code>文件夹拷贝到standbynamenode(即centos2)相同目录下（<code class="codehilite"><span class="n">hdfs</span> <span class="n">namenode</span> <span class="o">-</span><span class="n">bootstrapStandby</span></code>)</li>
<li>格式化ZKFC：<code class="codehilite"><span class="n">hdfs</span> <span class="n">zkfc</span> <span class="o">-</span><span class="n">formatZK</span></code></li>
<li>启动: <code class="codehilite"><span class="k">start</span><span class="o">-</span><span class="n">dfs</span><span class="p">.</span><span class="n">sh</span></code>, <code class="codehilite"><span class="k">start</span><span class="o">-</span><span class="n">yarn</span><span class="p">.</span><span class="n">sh</span></code></li>
</ol>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../HBase/" title="HBase" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  上一页
                </span>
                HBase
              </span>
            </div>
          </a>
        
        
          <a href="../Hive/" title="Hive" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  下一页
                </span>
                Hive
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.a8b5e56f.js"></script>
      
        
        
          
          <script src="../../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
          
            
              
              
            
          
          
            <script src="../../../assets/javascripts/lunr/lunr.multi.js"></script>
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>