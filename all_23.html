<!doctype html>
<html class="no-js" lang="en">
  <head>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  techlarry
  
  </title>
  <meta name="keywords" content="generator, python" />
  
  <link href="atom.xml" rel="alternate" title="techlarry" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
  <script src="asset/highlightjs/highlight.pack.js"></script>
  <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
  function before_search(){
    var searchVal = 'site:larryim.cc ' + document.getElementById('search_input').value;
    document.getElementById('search_q').value = searchVal;
    return true;
  }
</script>
  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?fdc936c9f5a3b72177541183cdeb8cb3";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        
        <li id=""><a target="_self" href="index.html">HomePage</a></li>
        
        <li id=""><a target="_self" href="archives.html">Archives</a></li>
        
        <li id=""><a target="_blank" href="wiki">WIKI</a></li>
        
        <li id=""><a target="_self" href="notebook.html">NOTEBOOK</a></li>
        
        <li id=""><a target="_self" href="about.html">About</a></li>
        
        <li id=""><a target="_blank" href="note-os">NOTE-OS</a></li>
        
        </ul>

        <ul class="right" id="search-wrap">
          <li>
<form target="_blank" onsubmit="return before_search();" action="http://google.com/search" method="get">
    <input type="hidden" id="search_q" name="q" value="" />
    <input tabindex="1" type="search" id="search_input"  placeholder="Search"/>
</form>
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; techlarry</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
        
        <li><a target="_self" href="index.html">HomePage</a></li>
        
        <li><a target="_self" href="archives.html">Archives</a></li>
        
        <li><a target="_blank" href="wiki">WIKI</a></li>
        
        <li><a target="_self" href="notebook.html">NOTEBOOK</a></li>
        
        <li><a target="_self" href="about.html">About</a></li>
        
        <li><a target="_blank" href="note-os">NOTE-OS</a></li>
        

    <li><label>Categories</label></li>

        
            <li><a href="Leetcode.html">Leetcode</a></li>
        
            <li><a href="programming_language.html">编程语言</a></li>
        
            <li><a href="data_structure_and_algorithm.html">数据结构和算法</a></li>
        
            <li><a href="Python%E7%89%B9%E6%80%A7.html">Python特性</a></li>
        
            <li><a href="%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0.html">机器学习</a></li>
        
            <li><a href="English.html">English</a></li>
        
            <li><a href="Computer%20System.html">Computer System</a></li>
        
            <li><a href="Deep%20Learning.html">Deep Learning</a></li>
        
            <li><a href="Linux%20%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B.html">Linux 系统编程</a></li>
        
            <li><a href="%E6%95%B0%E6%8D%AE%E5%BA%93.html">数据库</a></li>
        
            <li><a href="Tensorflow.html">Tensorflow</a></li>
        
            <li><a href="Big%20Data.html">Big Data</a></li>
        
            <li><a href="%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB.html">文献阅读</a></li>
        
            <li><a href="Tools.html">Tools</a></li>
         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
        
       

 <script type="text/javascript">
	$(function(){
		$('#menu_item_index').addClass('is_active');
	});
</script>
<div class="row">
	<div class="large-8 medium-8 columns">
		<div class="markdown-body home-categories">
		
			<div class="article">
                <a class="clearlink" href="%E9%93%BE%E8%A1%A8.html">
                
                  <h1>链表</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<ul>
<li>
<a href="#toc_0">线性表</a>
</li>
<li>
<a href="#toc_1">单向链表</a>
<ul>
<li>
<a href="#toc_2">补充：python中变量标识的本质</a>
</li>
<li>
<a href="#toc_3">示意</a>
</li>
</ul>
</li>
<li>
<a href="#toc_4">![Screen Shot 2017-06-09 at 12.52.23 P](media/14969803634863/Screen%20Shot%202017-06-09%20at%2012.52.</a>
<ul>
<li>
<a href="#toc_5">代码</a>
</li>
<li>
<a href="#toc_6">单项链表与顺序表的对比</a>
</li>
</ul>
</li>
<li>
<a href="#toc_7">双向链表</a>
</li>
<li>
<a href="#toc_8">单向循环列表</a>
</li>
</ul>


<p>链表(Linked list)，是一种<strong>线性表</strong>，不像顺序表一样连续存储数据，而是在每一个节点（数据存储单元）里存放下一个节点的位置信息（即地址）。</p>

<h2 id="toc_0">线性表</h2>

<p>一组序列元素的组织形式，可以将其抽象为线性表。一个线性表是某类元素的一个集合，还记录着元素之间的一种顺序关系。线性表是最基本的数据结果一直，在实际程序中应用非常广泛，它还将常被用来做更复杂的数据结构的实现基础。</p>

<p>根据<strong>线性表</strong>的存储方式，分为两种模型：</p>

<ul>
<li><strong>顺序表</strong>，将元素顺序地放在一块连续的存储区里，元素间的顺序关系由它们的存储顺序自然表示。</li>
<li><strong>链表</strong>，将元素存放在通过链接构造起来的一系列存储块中,包括单项列表，双向列表，单向循环列表</li>
</ul>

<h2 id="toc_1">单向链表</h2>

<p>节点：包括表元素域，和下一个节点连接域。<br/>
尾节点的连接域指向一个空值。</p>

<h3 id="toc_2">补充：python中变量标识的本质</h3>

<p>变量标识保存变量的地址。因此不用指定变量的类型，在程序运行过程中也可以改变变量类型。<br/>
与C语言不同：C语言需要申明变量类型。</p>

<h3 id="toc_3">示意</h3>

<h2 id="toc_4">![Screen Shot 2017-06-09 at 12.52.23 P](media/14969803634863/Screen%20Shot%202017-06-09%20at%2012.52.</h2>

<p>23%20PM.png)</p>

<h3 id="toc_5">代码</h3>

<pre><code class="language-python">class Node(object):
    &quot;&quot;&quot;节点&quot;&quot;&quot;
    def __init__(self, elem):
        self.elem = elem
        self.next = None


class SingleLinkList(object):
    &quot;&quot;&quot;单链表&quot;&quot;&quot;
    def __init__(self, node=None):
        self.__head = node

    def is_empty(self):
        &quot;&quot;&quot;链表是否为空&quot;&quot;&quot;
        return self.__head == None

    def length(self):
        &quot;&quot;&quot;链表长度&quot;&quot;&quot;
        # cur游标，用来移动遍历节点
        cur = self.__head
        # count记录数量
        count = 0
        while cur != None:
            count += 1
            cur = cur.next
        return count

    def travel(self):
        &quot;&quot;&quot;遍历整个链表&quot;&quot;&quot;
        cur = self.__head
        while cur != None:
            print(cur.elem, end=&quot; &quot;)
            cur = cur.next
        print(&quot;&quot;)

    def add(self, item):
        &quot;&quot;&quot;链表头部添加元素，头插法&quot;&quot;&quot;
        node = Node(item)
        node.next = self.__head
        self.__head = node

    def append(self, item):
        &quot;&quot;&quot;链表尾部添加元素, 尾插法&quot;&quot;&quot;
        node = Node(item)
        if self.is_empty():
            self.__head = node
        else:
            cur = self.__head
            while cur.next != None:
                cur = cur.next
            cur.next = node

    def insert(self, pos, item):
        &quot;&quot;&quot;指定位置添加元素
        :param  pos 从0开始
        &quot;&quot;&quot;
        if pos &lt;= 0:
            self.add(item)
        elif pos &gt; (self.length()-1):
            self.append(item)
        else:
            pre = self.__head
            count = 0
            while count &lt; (pos-1):
                count += 1
                pre = pre.next
            # 当循环退出后，pre指向pos-1位置
            node = Node(item)
            node.next = pre.next
            pre.next = node

    def remove(self, item):
        &quot;&quot;&quot;删除节点&quot;&quot;&quot;
        cur = self.__head
        pre = None
        while cur != None:
            if cur.elem == item:
                # 先判断此结点是否是头节点
                # 头节点
                if cur == self.__head:
                    self.__head = cur.next
                else:
                    pre.next = cur.next
                break
            else:
                pre = cur
                cur = cur.next

    def search(self, item):
        &quot;&quot;&quot;查找节点是否存在&quot;&quot;&quot;
        cur = self.__head
        while cur != None:
            if cur.elem == item:
                return True
            else:
                cur = cur.next
        return False
</code></pre>

<h3 id="toc_6">单项链表与顺序表的对比</h3>

<ul>
<li>顺序表随机读取，空间开销小的优点，但存储空间必须连续</li>
<li>链表由于增加了结点的指针域，空间开销比较大</li>
<li>链表对存储空间的使用要相对灵活，充分利用离散的存储空间</li>
</ul>

<table>
<thead>
<tr>
<th>操作</th>
<th>链表</th>
<th>顺序表</th>
</tr>
</thead>

<tbody>
<tr>
<td>访问元素</td>
<td>O(n)</td>
<td>O(1)</td>
</tr>
<tr>
<td>在头部插入/删除</td>
<td>O(1)</td>
<td>O(n)</td>
</tr>
<tr>
<td>在尾部插入/删除</td>
<td>O(n)</td>
<td>O(1)</td>
</tr>
<tr>
<td>在中间插入/删除</td>
<td>O(n)</td>
<td>O(n)</td>
</tr>
</tbody>
</table>

<h2 id="toc_7">双向链表</h2>

<p>节点：前驱区、数据区、后继区</p>

<p><img src="media/14969803634863/14970689776814.png" alt=""/></p>

<pre><code class="language-python">class Node(object):
    def __init__(self, elem):
        self.prev = None
        self.elem = elem
        self.next = None

class DobuleLinkList(object):
    &quot;&quot;&quot;
    双链表
    &quot;&quot;&quot;
    def __init__(self, node = None):
        self.__head =  node  # 私有属性


    def is_empty(self):
        &quot;&quot;&quot;
        链表是否为空
        &quot;&quot;&quot;
        return self.__head is None

    def length(self):
        &quot;&quot;&quot;
        链表长度
        &quot;&quot;&quot;
        current = self.__head # current 游标，用来移动遍历节点
        count  = 0 # count 记录数量
        while current != None:
            count += 1
            current = current.next

        return count

    def travel(self):
        &quot;&quot;&quot;
        遍历整个链表
        &quot;&quot;&quot;
        current = self.__head # current 游标，用来移动遍历节点
        lists = []
        while current != None:
            lists.append(current.elem)
            current = current.next

        print(lists)


    def add(self, item):
        &quot;&quot;&quot;
        链表头部添加元素
        &quot;&quot;&quot;
        second_elem = self.__head
        self.__head = Node(item)
        self.__head.next = second_elem
        second_elem.prev = self.__head


    def append(self, item):
        &quot;&quot;&quot;
        链表尾部添加元素
        item: 具体的数据，不是class Node
        &quot;&quot;&quot;
        node = Node(item)

        # 判断链表是否为空
        if self.is_empty():
            self.__head = node
        else:
            current = self.__head
            while current.next != None: # 遍历，找到节点尾部
                current = current.next
            current.next = node
            node.prev = current



    def insert(self, pos, item):
        &quot;&quot;&quot;
        指定位置添加元素
        pos: 从0开始索引
        &quot;&quot;&quot;
        if pos &lt;= 0:
            self.add(item)
        elif pos &gt;= self.length()-1:
            self.append(item)
        else:
            count = 0
            current = self.__head
            while count &lt; pos:
                current = current.next
                count += 1

            previous = current.prev
            nodes = Node(item)
            previous.next = nodes
            nodes.prev = previous
            nodes.next = current
            current.prev = nodes



    def remove(self,item):
        &quot;&quot;&quot;
        删除节点
        &quot;&quot;&quot;
        current = self.__head
        if current.elem == item:
            self.__head = current.next
            if current.next:
                current.next.prev = None
            print(&#39;Remove the element %d&#39;%item)
            return None
        else:
            while current != None:
                if current.elem == item:
                    current.prev.next = current.next
                    current.next.prev = current.prev
                    print(&#39;Remove the element %d&#39;%item)
                    return None
                else:
                    current = current.next
        print(&quot;Can&#39;t find it&quot;)


    def search(self,item):
        &quot;&quot;&quot;
        查找节点是否存在
        &quot;&quot;&quot;
        current = self.__head

        while current != None:         
            if current.elem == item:
                print(&#39;Find element %d !&#39;% item)
                return True
            else:
                current = current.next

        return False
</code></pre>

<h2 id="toc_8">单向循环列表</h2>

<p><img src="media/14969803634863/Screen%20Shot%202017-06-10%20at%2012.41.20%20PM.png" alt="Screen Shot 2017-06-10 at 12.41.20 P"/></p>

<pre><code class="language-python">class Node(object):
    &quot;&quot;&quot;
    节点
    &quot;&quot;&quot;
    def __init__(self, elem):
        self.elem = elem
        self.next = None

class SingleCycleLinkList(object):
    &quot;&quot;&quot;
    单链表
    &quot;&quot;&quot;
    def __init__(self, node = None):
        self.__head =  node  # 私有属性
        if node:
            node.next = node  #设置回环


    def is_empty(self):
        &quot;&quot;&quot;
        链表是否为空
        &quot;&quot;&quot;
        return self.__head is None

    def length(self):
        &quot;&quot;&quot;
        链表长度
        &quot;&quot;&quot;
        if self.is_empty():
            return 0
        else:
            current = self.__head # current 游标，用来移动遍历节点
            count  = 1 # count 记录数量
        
            while current.next != self.__head:
                count += 1
                current = current.next

            return count

    def travel(self):
        &quot;&quot;&quot;
        遍历整个链表
        &quot;&quot;&quot;
        current = self.__head # current 游标，用来移动遍历节点
        lists = []
        if current: # 如果链表有元素
            lists.append(current.elem)
            current = current.next
        while current is not self.__head:
            lists.append(current.elem)
            current = current.next
        print(lists)


    def add(self, item):
        &quot;&quot;&quot;
        链表头部添加元素
        &quot;&quot;&quot;
        if self.is_empty():
            self.__init__(Node(item))
        else:
            former_head = self.__head
            current = self.__head
            while current.next is not self.__head:
                current = current.next
            current.next= Node(item)
            current.next.next = former_head
            self.__head = current.next

    def append(self, item):
        &quot;&quot;&quot;
        链表尾部添加元素
        item: 具体的数据，不是class Node
        &quot;&quot;&quot;
        node = Node(item)

        # 判断链表是否为空
        if self.is_empty():
            self.__init__(node)
        else:
            current = self.__head
            while current.next != self.__head: # 遍历，找到节点尾部
                current = current.next
            current.next = node
            node.next = self.__head



    def insert(self, pos, item):
        &quot;&quot;&quot;
        指定位置添加元素
        pos: 从0开始索引
        &quot;&quot;&quot;
        if pos &lt;= 0:
            self.add(item)
        elif pos &gt;= self.length()-1:
            self.append(item)
        else:
            count = 0
            current = self.__head
            while count &lt; pos:
                previous = current
                current = current.next
                count += 1

            nodes = Node(item)
            previous.next = nodes
            nodes.next = current



    def remove(self,item):
        &quot;&quot;&quot;
        删除节点
        &quot;&quot;&quot;
        # 如果是空单向链表
        if self.is_empty():
            print(&quot;Can&#39;t find item %d&quot; % item)
            return False
        
        # 如果单向链表只有一个元素
        if self.length() == 1:
            if self.__head.elem == item:
                self.__head = None
                print(&#39;Remove the element %d&#39;%item)
                return True
            else:
                print(&quot;Can&#39;t find item %d&quot; % item)
                return False                
              
        # 通用
        current = self.__head
        # 删除第一个元素（头节点）
        if current.elem == item:

            former_head = current
            self.__head = current.next
            print(&#39;Remove the element %d&#39;%item)
            while current.next is not former_head:
                current = current.next
            current.next = self.__head
            return None
            
        else:

            while current.next != self.__head:
                if current.elem == item:
                    previous.next = current.next
                    print(&#39;Remove the element %d&#39;%item)
                    return None
                else:
                    previous = current
                    current = current.next
            
            # 处理尾部元素
            if current.elem == item:
                previous.next = self.__head
                print(&#39;Remove the element %d&#39;%item)
                return None

        print(&quot;Can&#39;t find item %d&quot; % item)


    def search(self,item):
        &quot;&quot;&quot;
        查找节点是否存在
        &quot;&quot;&quot;
        if self.is_empty():
            return False

        current = self.__head

        while current.next is not self.__head:         
            if current.elem == item:
                print(&#39;Find element %d&#39;% item)
                return True
            else:
                current = current.next
        if current.elem == item:
            return True
            print(&#39;Find element %d&#39;% item)
           
        return False
</code></pre>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/6/9</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='data_structure_and_algorithm.html'>数据结构和算法</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="character%20encoding.html">
                
                  <h1>Character encoding</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p>A <code>character encoding</code> (字符编码) is used to represent a repertoire of characters by some kind of encoding system.</p>

<h2 id="toc_0">Terminology</h2>

<ul>
<li><code>character</code>: a minimal unit of text that has semantic value.</li>
<li><code>character set</code>: a collection of characters that might be used by multiple languages.</li>
<li><code>coded character set</code>: a character set in which each character corresponds to a unique number.</li>
<li><code>code unit</code>: a bit sequence used to encode each character of a repertoire within a given encoding form.</li>
<li><code>code point</code>(码位): any legal value in the character set.</li>
<li><code>character repertoire</code>(字符集): an abstract list of more than one million characters found in a wide variety of scripts including <em>Latin</em>, <em>Cyrillic</em>, <em>Chinese</em>, <em>Korean</em>, <em>Japanese</em>, <em>Hebrew</em>, and <em>Aramaic</em>.</li>
</ul>

<h2 id="toc_1">Unicode</h2>

<p><code>unicode</code> is a computing industry standard for the consistent encoding, representation, and handling of text expressed in most of the world&#39;s writing systems. The Unicode standard defines <code>UTF-8</code>, <code>UTF-16</code>, and <code>UTF-32</code>, and several other encodings are in use.</p>

<h3 id="toc_2">UTF-8</h3>

<p><code>UTF-8</code>, the most widely used by websites. The encoding is variable-length and uses 8-bit code units. UTF-8 encodes each of the 1,112,064 valid code points in Unicode using 1 to 4 8 bit bytes.</p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/8/3</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='Computer%20System.html'>Computer System</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="greedy_algorithm_a_scheduling_problem.html">
                
                  <h1>Greedy algorithm (2): A Scheduling Application</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p><strong>Problem Statement</strong>: You want to schedule jobs (processes) on a processor. Each job has properties:</p>

<ul>
<li>weight \(w_j\) (“priority”) </li>
<li>length \(l_j\)</li>
</ul>

<p>The <code>completion time</code> \(C_j\) of job \(j\) is Sum of job lengths up to and including job \(j\).</p>

<p>The goal is to <strong>Minimize weighted sum of completion times</strong>, i.e.</p>

<p>\[\sum_{j=1}^n w_j*C_j\]</p>

<h2 id="toc_0">Algorithm</h2>

<p>Order jobs by decreasing value of \(\frac{w_j}{l_j}\), i.e. jobs have larger weight and shorter length execute earlier.</p>

<h3 id="toc_1">Greedy Exchange</h3>

<p><code>Greedy Exchange</code> is one of the techniques used in proving the correctness of greedy algorithms. The idea of a greedy exchange proof is to morph a solution produced by an optimal algorithm into the solution produced by your greedy algorithm. This shows that any optimal solution is no better than the greedy solution, which proves that greedy does in fact return an optimal solution.</p>

<h3 id="toc_2">Proof</h3>

<h4 id="toc_3">Step1: label algorithm&#39;s solution and an optimal solution</h4>

<p>Let \(\sigma\) be greedy schedule, and \(\sigma^*\) be optimal schedule. </p>

<h4 id="toc_4">Step2: Compare greedy with optimal</h4>

<p>Greedy schedule \(\sigma\) is just \(1,2,3,...,n\). And if optimal schedule \(\sigma^* \ne \sigma \), then \(\exists\) consecutive jobs \(i,j\), which \(i&gt;j\).</p>

<h4 id="toc_5">Step3: Exchange</h4>

<p>Suppose we exchange order of \(i,j\) in \(\sigma\):</p>

<ul>
<li>the cost of exchange \(w_jl_j\)</li>
<li>the benefit of exchange is \(w_jl_i\)</li>
</ul>

<p>Note: <br/>
\[i &gt;j \rightarrow w_i/l_i \le wj/lj \rightarrow w_il_j \le w_jl_i \]<br/>
Exchanging \(i,j\) in \(\sigma^*\) has net benefit of \(w_jl_i-w_il_j \ge0\).</p>

<p>\(\rightarrow\) After at most \(C_n^2\) such exchanges, \(\sigma^*\) can transform into \(\sigma\)<br/>
\(\rightarrow \sigma \) at least as good as \(\sigma^*\)<br/>
 \(\rightarrow \) Greedy is optimal.</p>

<h2 id="toc_6">Implemenation</h2>

<pre><code class="language-python">import numpy as np
import unittest

class JobSchedule:
    &quot;&quot;&quot;
    greedy algorithm that schedules jobs in decreasing order of ratio (weight/length)
    &quot;&quot;&quot;
    def __init__(self):
        self.job_num = 0 # the number of jobs
        self.job_weight = []
        self.job_length = []
        self.schedule_time = None
        self.order = None # the ordering of jobs

    def buildjobs(self, textfile):
        &quot;&quot;&quot;
        build jobs from a text file

        The file describes a set of jobs with positive and integral weights and lengths.
        It has the format
        [number_of_jobs]
        [job_1_weight] [job_1_length]

        &quot;&quot;&quot;
        count = 0
        with open(textfile) as infile:
            for line in infile.readlines():
                line = line.strip(&#39;\n&#39;)
                if count == 0:
                    self.job_num = int(line)
                else:
                    job_weight, job_length = (int(num) for num in line.split())
                    self.job_weight.append(job_weight)
                    self.job_length.append(job_length)
                count += 1

        if count-1 != self.job_num:
            raise ValueError

    def scheduling(self):
        &quot;&quot;&quot;
        return the sum of weighted completion times of the resulting schedule
        &quot;&quot;&quot;
        # ratios of weight and length for every job
        ratios = [self.job_weight[i]/self.job_length[i] for i in range(self.job_num)]
        self.order = np.lexsort((self.job_length, ratios))
        self.order=self.order[::-1]
        print([ (self.job_weight[i], self.job_length[i],self.job_weight[i]/self.job_length[i]) for i in self.order])
        # calculating the sum of weighted completion times of the resulting schedule
        count = 0
        job_length = 0
        for job_ind in self.order:
            job_length = job_length + self.job_length[job_ind]
            count += self.job_weight[job_ind]*job_length
        self.schedule_time = count
        return self.schedule_time


class TestJobSchedule(unittest.TestCase):

    def testcase1(self):
        jobs_to_schedule = JobSchedule()
        jobs_to_schedule.buildjobs(&#39;testcase1.txt&#39;)
        assert jobs_to_schedule.scheduling() == 16

    def testcase2(self):
        jobs_to_schedule = JobSchedule()
        jobs_to_schedule.buildjobs(&#39;testcase2.txt&#39;)
        assert jobs_to_schedule.scheduling() == 67247


if __name__ == &quot;__main__&quot;:
    unittest.main()
</code></pre>

<h2 id="toc_7">References</h2>

<ol>
<li><a href="http://www.cs.cornell.edu/courses/cs482/2003su/handouts/greedy_exchange.pdf">Greedy exchange</a></li>
<li><a href="https://www.coursera.org/learn/algorithms-greedy/">Algorithms Specialization</a></li>
</ol>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/8/1</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='Greedy.html'>Greedy</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="greedy_algorithm_introduction.html">
                
                  <h1>Greedy algorithm (1): Introduction</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<ul>
<li>
<a href="#toc_0">Definition</a>
</li>
<li>
<a href="#toc_1">Contrast with Divide &amp; Conquer</a>
</li>
</ul>
</li>
<li>
<a href="#toc_2">Examples</a>
<ul>
<li>
<a href="#toc_3">The Optimal Caching Algorithm</a>
</li>
<li>
<a href="#toc_4">A Scheduling Problem</a>
</li>
</ul>
</li>
<li>
<a href="#toc_5">Reference</a>


<h3 id="toc_0">Definition</h3>

<p>A <code>greedy algorithm</code> always makes the choice that looks best at the moment. That is, it makes a locally optimal choice in the hope that this choice will lead to a globally optimal solution. (Cormen et al., 2009)</p>

<h3 id="toc_1">Contrast with Divide &amp; Conquer</h3>

<ol>
<li>Easy to propose multiple greedy algorithms for many problems. </li>
<li>Easy running time analysis. (Contrast with Master method etc.)</li>
<li>Hard to establish correctness.<br/>
(Contrast with straightforward inductive correctness proofs.)</li>
</ol>

<p><strong>DANGER: Most greedy algorithms are NOT correct. (Even if your intuition says otherwise!)</strong></p>

<h2 id="toc_2">Examples</h2>

<h3 id="toc_3">The Optimal Caching Algorithm</h3>

<p>Theorem: [Bélády&#39;s 1960s] <code>Farthest-in-Future</code> is the optimal algorithm that minimizes the number of cache misses.</p>

<p><code>Bélády&#39;s Algorithm</code>:</p>

<p>When \(d_i\) is requested but not in the cache,<br/>
evict the cache item that will next be used farthest into the future.</p>

<h3 id="toc_4">A Scheduling Problem</h3>

<p>Assume: Each job has a:</p>

<ul>
<li>weight \(w_j\) (“priority”) </li>
<li>length \(l_j\)</li>
</ul>

<p>The completion time \(C_j\) of job \(j\) = Sum of job lengths up to and including \(j\).</p>

<p>Goal: Minimize the weighted sum of completion times: \(\min \sum ^n_j= w_jC_j\)</p>

<h2 id="toc_5">Reference</h2>

<ol>
<li>Cormen, Leiserson, Rivest, and Stein. 2009. Introduction to Algorithms (3rd edition)</li>
</ol>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/7/31</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='Greedy.html'>Greedy</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="python_generator.html">
                
                  <h1>Generator</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p>Any function that contains a <code>yield</code> statement is called a <code>generator</code>.</p>

<h3 id="toc_0">yield statement</h3>

<p>Each time a value is yielded (with <code>yield</code>), the function freezes; that is, it stops its execution at exactly that point and waits to be reawakened.</p>

<h3 id="toc_1">generator comprehension</h3>

<p><code>Generator comprehension</code> works in the same way as <code>list comprehension</code>, except that a list isn&#39;t constructed. Instead, a <code>generator</code> is returned.</p>

<pre><code class="language-python">&gt;&gt;&gt; h = (i for i in range(10))
&gt;&gt;&gt; h
&lt;generator object &lt;genexpr&gt; at 0x104d76ba0&gt;
&gt;&gt;&gt; list(h)
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
</code></pre>

<p>When using <code>generator comprehension</code>, if there already exists parentheses, you don&#39;t need to add another pair.</p>

<pre><code class="language-python">&gt;&gt;&gt; sorted(100-i for i in range(10))
[91, 92, 93, 94, 95, 96, 97, 98, 99, 100]
</code></pre>

<h3 id="toc_2">Recursive generator</h3>

<p><code>generators</code> are ideal for complex recursive algorithms that gradually build a result. </p>

<p>A <code>recursive generator</code> could be used to flatten a nested list.</p>

<pre><code class="language-python">def flatten(nested):
    &quot;&quot;&quot;
    When flatten is called, you have two possibilites: the base case and the recursive case.

    In the base case, the function is told to flatten a single element.
    In the recursive case, flatten it.

    &gt;&gt;&gt; list(flatten([[[1], 2], 3, 4, [5, [6, 7]], 8]))
    [1, 2, 3, 4, 5, 6, 7, 8]
    &gt;&gt;&gt; list(flatten([&#39;foo&#39;, [&#39;bar&#39;, [&#39;baz&#39;]]]))
    [&#39;foo&#39;, &#39;bar&#39;, &#39;baz&#39;]
    &quot;&quot;&quot;
    try:
        try:
            nested + &#39; &#39;
        except TypeError:
            pass
        else:
            raise TypeError
        
        for sublist in nested:
            for element in flatten(sublist):
                yield element

    except TypeError:
        yield nested


if __name__ == &quot;__main__&quot;:
    import doctest
    doctest.testmod(verbose=True)
</code></pre>

<p>An <code>inorder traversal</code> (also <code>postoder traversal</code> and <code>preorder traversal</code>) of a <code>binary search tree</code> might use the <code>recursive generator</code>, detailed code here <a href="http://larryim.cc/binary_search_tree.html">Binary Search Tree</a></p>

<h3 id="toc_3">Generator methods</h3>

<p>We may supply generators with values after they have started running, by using a communications channel between the <code>generator</code> and the “outside world,” with the following two end points:</p>

<ul>
<li><p>The outside world has access to a method on the generator called <code>send</code>, which works just like <code>next</code>, except that it takes a single argument (the “message” to send—an arbitrary object).</p></li>
<li><p>Inside the suspended generator, <strong><code>yield</code> may now be used as an <code>expression</code>, rather than a <code>statement</code></strong>. In other words, when the generator is resumed, yield returns a value—the value sent from the outside through <code>send</code>. If <code>next</code> was used, <code>yield</code> returns <code>None</code>.</p></li>
</ul>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/7/23</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='Python%E7%89%B9%E6%80%A7.html'>Python特性</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
              


			<div class="row">
			  <div class="large-6 columns">
			  <p class="text-left" style="padding-top:25px;">
			   <a href="all_22.html">&laquo; Prev Page</a>  
			  </p>
			  </div>
			  <div class="large-6 columns">
			<p class="text-right" style="padding-top:25px;">
			 <a href="all_24.html">&raquo; Next Page</a> 
			</p>
			  </div>
			</div>
		</div>
	</div><!-- large 8 -->

 <div class="large-4 medium-4 columns">
  <div class="hide-for-small">
    <div id="sidebar" class="sidebar">
          <div id="site-info" class="site-info">
            
                <div class="site-a-logo"><img src="http://or9a8nskt.bkt.clouddn.com/figure.jpeg" /></div>
            
                <h1>techlarry</h1>
                <div class="site-des">他山之石，可以攻玉</div>
                <div class="social">









<a target="_blank" class="github" target="_blank" href="https://github.com/techlarry" title="GitHub">GitHub</a>
<a target="_blank" class="email" href="mailto:wang.zhen.hua.larry@gmail.com" title="Email">Email</a>
  <a target="_blank" class="rss" href="atom.xml" title="RSS">RSS</a>
                
              	 </div>
          	</div>

             

              <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>Categories</h2>
                </div>
                <div class="side-content">

      	<p class="cat-list">
        
            <a href="Leetcode.html"><strong>Leetcode</strong></a>
        
            <a href="programming_language.html"><strong>编程语言</strong></a>
        
            <a href="data_structure_and_algorithm.html"><strong>数据结构和算法</strong></a>
        
            <a href="Python%E7%89%B9%E6%80%A7.html"><strong>Python特性</strong></a>
        
            <a href="%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0.html"><strong>机器学习</strong></a>
        
            <a href="English.html"><strong>English</strong></a>
        
            <a href="Computer%20System.html"><strong>Computer System</strong></a>
        
            <a href="Deep%20Learning.html"><strong>Deep Learning</strong></a>
        
            <a href="Linux%20%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B.html"><strong>Linux 系统编程</strong></a>
        
            <a href="%E6%95%B0%E6%8D%AE%E5%BA%93.html"><strong>数据库</strong></a>
        
            <a href="Tensorflow.html"><strong>Tensorflow</strong></a>
        
            <a href="Big%20Data.html"><strong>Big Data</strong></a>
        
            <a href="%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB.html"><strong>文献阅读</strong></a>
        
            <a href="Tools.html"><strong>Tools</strong></a>
         
        </p>


                </div>
              </div>

              <div id="site-categories" class="side-item">
                <div class="side-header">
                  <h2>Recent Posts</h2>
                </div>
                <div class="side-content">
                <ul class="posts-list">
	      
		      
			      <li class="post">
			        <a href="15046649572570.html">Pandas</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="exceptional_control_flow.html">CSAPP - 异常控制流</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="introduction_to_computer_system_CMU.html">CMU 15-213 Introduction to Computer Systems</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="os-concepts-os-structures.html">Operating System Concepts 2 - Operating System structures</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="os-concets-processes.html">Operating System Concepts 3 - Processes</a>
			      </li>
		     
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		   
		  		</ul>
                </div>
              </div>
        </div><!-- sidebar -->
      </div><!-- hide for small -->
</div><!-- large 4 -->

</div><!-- row -->

 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
</div>

        </section>
      </div>
    </div>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>

    
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: { equationNumbers: { autoNumber: "AMS" } }});</script>


  </body>
</html>
